module.exports=[54892,e=>{"use strict";e.s(["entityKind",()=>t,"hasOwnEntityKind",()=>n,"is",()=>i]);let t=Symbol.for("drizzle:entityKind"),n=Symbol.for("drizzle:hasOwnEntityKind");function i(e,n){if(!e||"object"!=typeof e)return!1;if(e instanceof n)return!0;if(!Object.prototype.hasOwnProperty.call(n,t))throw Error(`Class "${n.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let i=Object.getPrototypeOf(e).constructor;if(i)for(;i;){if(t in i&&i[t]===n[t])return!0;i=Object.getPrototypeOf(i)}return!1}},25716,e=>{"use strict";e.s(["TableName",()=>t]);let t=Symbol.for("drizzle:Name")},66634,e=>{"use strict";e.s(["BaseName",()=>l,"Columns",()=>r,"ExtraConfigBuilder",()=>u,"ExtraConfigColumns",()=>s,"IsAlias",()=>a,"OriginalName",()=>o,"Schema",()=>i,"Table",()=>m,"getTableName",()=>g,"getTableUniqueName",()=>f,"isTable",()=>d]);var t=e.i(54892),n=e.i(25716);let i=Symbol.for("drizzle:Schema"),r=Symbol.for("drizzle:Columns"),s=Symbol.for("drizzle:ExtraConfigColumns"),o=Symbol.for("drizzle:OriginalName"),l=Symbol.for("drizzle:BaseName"),a=Symbol.for("drizzle:IsAlias"),u=Symbol.for("drizzle:ExtraConfigBuilder"),c=Symbol.for("drizzle:IsDrizzleTable");class m{static [t.entityKind]="Table";static Symbol={Name:n.TableName,Schema:i,OriginalName:o,Columns:r,ExtraConfigColumns:s,BaseName:l,IsAlias:a,ExtraConfigBuilder:u};[n.TableName];[o];[i];[r];[s];[l];[a]=!1;[c]=!0;[u]=void 0;constructor(e,t,r){this[n.TableName]=this[o]=e,this[i]=t,this[l]=r}}function d(e){return"object"==typeof e&&null!==e&&c in e}function g(e){return e[n.TableName]}function f(e){return`${e[i]??"public"}.${e[n.TableName]}`}},29325,e=>{"use strict";e.s(["Column",()=>n]);var t=e.i(54892);class n{constructor(e,t){this.table=e,this.config=t,this.name=t.name,this.keyAsName=t.keyAsName,this.notNull=t.notNull,this.default=t.default,this.defaultFn=t.defaultFn,this.onUpdateFn=t.onUpdateFn,this.hasDefault=t.hasDefault,this.primary=t.primaryKey,this.isUnique=t.isUnique,this.uniqueName=t.uniqueName,this.uniqueType=t.uniqueType,this.dataType=t.dataType,this.columnType=t.columnType,this.generated=t.generated,this.generatedIdentity=t.generatedIdentity}static [t.entityKind]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return void 0!==this.config.generated&&"byDefault"!==this.config.generated.type}}},26427,e=>{"use strict";e.s(["ColumnBuilder",()=>n]);var t=e.i(54892);class n{static [t.entityKind]="ColumnBuilder";config;constructor(e,t,n){this.config={name:e,keyAsName:""===e,notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:t,columnType:n,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){""===this.config.name&&(this.config.name=e)}}},33368,95491,93012,25745,23951,61891,90990,e=>{"use strict";let t,n;e.s(["isPgEnum",()=>N,"pgEnum",()=>B],33368);var i=e.i(54892);e.s(["IndexedColumn",()=>P,"PgColumn",()=>y,"PgColumnBuilder",()=>p],25745);var r=e.i(26427),s=e.i(29325);e.s(["ForeignKeyBuilder",()=>l],95491);var o=e.i(25716);class l{static [i.entityKind]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(e,t){this.reference=()=>{let{name:t,columns:n,foreignColumns:i}=e();return{name:t,columns:n,foreignTable:i[0].table,foreignColumns:i}},t&&(this._onUpdate=t.onUpdate,this._onDelete=t.onDelete)}onUpdate(e){return this._onUpdate=void 0===e?"no action":e,this}onDelete(e){return this._onDelete=void 0===e?"no action":e,this}build(e){return new a(e,this)}}class a{constructor(e,t){this.table=e,this.reference=t.reference,this.onUpdate=t._onUpdate,this.onDelete=t._onDelete}static [i.entityKind]="PgForeignKey";reference;onUpdate;onDelete;getName(){let{name:e,columns:t,foreignColumns:n}=this.reference(),i=t.map(e=>e.name),r=n.map(e=>e.name),s=[this.table[o.TableName],...i,n[0].table[o.TableName],...r];return e??`${s.join("_")}_fk`}}function u(e,...t){return e(...t)}function c(e){return new g(e)}function m(e,t){return`${e[o.TableName]}_${t.join("_")}_unique`}e.s(["UniqueConstraintBuilder",()=>d,"unique",()=>c,"uniqueKeyName",()=>m],93012);class d{constructor(e,t){this.name=t,this.columns=e}static [i.entityKind]="PgUniqueConstraintBuilder";columns;nullsNotDistinctConfig=!1;nullsNotDistinct(){return this.nullsNotDistinctConfig=!0,this}build(e){return new f(e,this.columns,this.nullsNotDistinctConfig,this.name)}}class g{static [i.entityKind]="PgUniqueOnConstraintBuilder";name;constructor(e){this.name=e}on(...e){return new d(e,this.name)}}class f{constructor(e,t,n,i){this.table=e,this.columns=t,this.name=i??m(this.table,this.columns.map(e=>e.name)),this.nullsNotDistinct=n}static [i.entityKind]="PgUniqueConstraint";columns;name;nullsNotDistinct=!1;getName(){return this.name}}function h(e,t,n){for(let i=t;i<e.length;i++){let r=e[i];if("\\"===r){i++;continue}if('"'===r)return[e.slice(t,i).replace(/\\/g,""),i+1];if(!n&&(","===r||"}"===r))return[e.slice(t,i).replace(/\\/g,""),i]}return[e.slice(t).replace(/\\/g,""),e.length]}class p extends r.ColumnBuilder{foreignKeyConfigs=[];static [i.entityKind]="PgColumnBuilder";array(e){return new w(this.config.name,this,e)}references(e,t={}){return this.foreignKeyConfigs.push({ref:e,actions:t}),this}unique(e,t){return this.config.isUnique=!0,this.config.uniqueName=e,this.config.uniqueType=t?.nulls,this}generatedAlwaysAs(e){return this.config.generated={as:e,type:"always",mode:"stored"},this}buildForeignKeys(e,t){return this.foreignKeyConfigs.map(({ref:n,actions:i})=>u((n,i)=>{let r=new l(()=>({columns:[e],foreignColumns:[n()]}));return i.onUpdate&&r.onUpdate(i.onUpdate),i.onDelete&&r.onDelete(i.onDelete),r.build(t)},n,i))}buildExtraConfigColumn(e){return new b(e,this.config)}}class y extends s.Column{constructor(e,t){t.uniqueName||(t.uniqueName=m(e,[t.name])),super(e,t),this.table=e}static [i.entityKind]="PgColumn"}class b extends y{static [i.entityKind]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(e){return this.indexConfig.opClass=e,this}}class P{static [i.entityKind]="IndexedColumn";constructor(e,t,n,i){this.name=e,this.keyAsName=t,this.type=n,this.indexConfig=i}name;keyAsName;type;indexConfig}class w extends p{static [i.entityKind]="PgArrayBuilder";constructor(e,t,n){super(e,"array","PgArray"),this.config.baseBuilder=t,this.config.size=n}build(e){let t=this.config.baseBuilder.build(e);return new T(e,this.config,t)}}class T extends y{constructor(e,t,n,i){super(e,t),this.baseColumn=n,this.range=i,this.size=t.size}size;static [i.entityKind]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${"number"==typeof this.size?this.size:""}]`}mapFromDriverValue(e){return"string"==typeof e&&(e=function(e){let[t]=function e(t,n=0){let i=[],r=n,s=!1;for(;r<t.length;){let o=t[r];if(","===o){(s||r===n)&&i.push(""),s=!0,r++;continue}if(s=!1,"\\"===o){r+=2;continue}if('"'===o){let[e,n]=h(t,r+1,!0);i.push(e),r=n;continue}if("}"===o)return[i,r+1];if("{"===o){let[n,s]=e(t,r+1);i.push(n),r=s;continue}let[l,a]=h(t,r,!1);i.push(l),r=a}return[i,r]}(e,1);return t}(e)),e.map(e=>this.baseColumn.mapFromDriverValue(e))}mapToDriverValue(e,t=!1){let n=e.map(e=>null===e?null:(0,i.is)(this.baseColumn,T)?this.baseColumn.mapToDriverValue(e,!0):this.baseColumn.mapToDriverValue(e));return t?n:function e(t){return`{${t.map(t=>Array.isArray(t)?e(t):"string"==typeof t?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}(n)}}class S extends p{static [i.entityKind]="PgEnumObjectColumnBuilder";constructor(e,t){super(e,"string","PgEnumObjectColumn"),this.config.enum=t}build(e){return new C(e,this.config)}}class C extends y{static [i.entityKind]="PgEnumObjectColumn";enum;enumValues=this.config.enum.enumValues;constructor(e,t){super(e,t),this.enum=t.enum}getSQLType(){return this.enum.enumName}}let v=Symbol.for("drizzle:isPgEnum");function N(e){return!!e&&"function"==typeof e&&v in e&&!0===e[v]}class x extends p{static [i.entityKind]="PgEnumColumnBuilder";constructor(e,t){super(e,"string","PgEnumColumn"),this.config.enum=t}build(e){return new K(e,this.config)}}class K extends y{static [i.entityKind]="PgEnumColumn";enum=this.config.enum;enumValues=this.config.enum.enumValues;constructor(e,t){super(e,t),this.enum=t.enum}getSQLType(){return this.enum.enumName}}function B(e,t){return Array.isArray(t)?function(e,t,n){let i=Object.assign(e=>new x(e??"",i),{enumName:e,enumValues:t,schema:n,[v]:!0});return i}(e,[...t],void 0):function(e,t,n){let i=Object.assign(e=>new S(e??"",i),{enumName:e,enumValues:Object.values(t),schema:n,[v]:!0});return i}(e,t,void 0)}e.s(["Subquery",()=>$,"WithSubquery",()=>q],23951);class ${static [i.entityKind]="Subquery";constructor(e,t,n,i=!1,r=[]){this._={brand:"Subquery",sql:e,selectedFields:t,alias:n,isWith:i,usedTables:r}}}class q extends ${static [i.entityKind]="WithSubquery"}e.s(["tracer",()=>D],61891);let D={startActiveSpan:(e,i)=>t?(n||(n=t.trace.getTracer("drizzle-orm","0.44.6")),u((t,n)=>n.startActiveSpan(e,e=>{try{return i(e)}catch(n){throw e.setStatus({code:t.SpanStatusCode.ERROR,message:n instanceof Error?n.message:"Unknown error"}),n}finally{e.end()}}),t,n)):i()};e.s(["ViewBaseConfig",()=>V],90990);let V=Symbol.for("drizzle:ViewBaseConfig")},63519,e=>{"use strict";e.s(["FakePrimitiveParam",()=>a,"Name",()=>d,"Param",()=>b,"Placeholder",()=>T,"SQL",()=>m,"StringChunk",()=>c,"View",()=>N,"fillPlaceholders",()=>C,"getViewName",()=>K,"isDriverValueEncoder",()=>f,"isSQLWrapper",()=>u,"isView",()=>x,"name",()=>g,"noopDecoder",()=>h,"noopEncoder",()=>p,"noopMapper",()=>y,"param",()=>P,"placeholder",()=>S,"sql",()=>w]);var t=e.i(54892),n=e.i(33368),i=e.i(23951),r=e.i(61891),s=e.i(90990),o=e.i(29325),l=e.i(66634);class a{static [t.entityKind]="FakePrimitiveParam"}function u(e){return null!=e&&"function"==typeof e.getSQL}class c{static [t.entityKind]="StringChunk";value;constructor(e){this.value=Array.isArray(e)?e:[e]}getSQL(){return new m([this])}}class m{constructor(e){for(let n of(this.queryChunks=e,e))if((0,t.is)(n,l.Table)){let e=n[l.Table.Symbol.Schema];this.usedTables.push(void 0===e?n[l.Table.Symbol.Name]:e+"."+n[l.Table.Symbol.Name])}}static [t.entityKind]="SQL";decoder=h;shouldInlineParams=!1;usedTables=[];append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return r.tracer.startActiveSpan("drizzle.buildSQL",t=>{let n=this.buildQueryFromSourceParams(this.queryChunks,e);return t?.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n})}buildQueryFromSourceParams(e,r){let a=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:g,escapeName:f,escapeParam:h,prepareTyping:p,inlineParams:y,paramStartIndex:P}=a;var w=e.map(e=>{if((0,t.is)(e,c))return{sql:e.value.join(""),params:[]};if((0,t.is)(e,d))return{sql:f(e.value),params:[]};if(void 0===e)return{sql:"",params:[]};if(Array.isArray(e)){let t=[new c("(")];for(let[n,i]of e.entries())t.push(i),n<e.length-1&&t.push(new c(", "));return t.push(new c(")")),this.buildQueryFromSourceParams(t,a)}if((0,t.is)(e,m))return this.buildQueryFromSourceParams(e.queryChunks,{...a,inlineParams:y||e.shouldInlineParams});if((0,t.is)(e,l.Table)){let t=e[l.Table.Symbol.Schema],n=e[l.Table.Symbol.Name];return{sql:void 0===t||e[l.IsAlias]?f(n):f(t)+"."+f(n),params:[]}}if((0,t.is)(e,o.Column)){let t=g.getColumnCasing(e);if("indexes"===r.invokeSource)return{sql:f(t),params:[]};let n=e.table[l.Table.Symbol.Schema];return{sql:e.table[l.IsAlias]||void 0===n?f(e.table[l.Table.Symbol.Name])+"."+f(t):f(n)+"."+f(e.table[l.Table.Symbol.Name])+"."+f(t),params:[]}}if((0,t.is)(e,N)){let t=e[s.ViewBaseConfig].schema,n=e[s.ViewBaseConfig].name;return{sql:void 0===t||e[s.ViewBaseConfig].isAlias?f(n):f(t)+"."+f(n),params:[]}}if((0,t.is)(e,b)){if((0,t.is)(e.value,T))return{sql:h(P.value++,e),params:[e],typings:["none"]};let n=null===e.value?null:e.encoder.mapToDriverValue(e.value);if((0,t.is)(n,m))return this.buildQueryFromSourceParams([n],a);if(y)return{sql:this.mapInlineParam(n,a),params:[]};let i=["none"];return p&&(i=[p(e.encoder)]),{sql:h(P.value++,n),params:[n],typings:i}}return(0,t.is)(e,T)?{sql:h(P.value++,e),params:[e],typings:["none"]}:(0,t.is)(e,m.Aliased)&&void 0!==e.fieldAlias?{sql:f(e.fieldAlias),params:[]}:(0,t.is)(e,i.Subquery)?e._.isWith?{sql:f(e._.alias),params:[]}:this.buildQueryFromSourceParams([new c("("),e._.sql,new c(") "),new d(e._.alias)],a):(0,n.isPgEnum)(e)?e.schema?{sql:f(e.schema)+"."+f(e.enumName),params:[]}:{sql:f(e.enumName),params:[]}:u(e)?e.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([e.getSQL()],a):this.buildQueryFromSourceParams([new c("("),e.getSQL(),new c(")")],a):y?{sql:this.mapInlineParam(e,a),params:[]}:{sql:h(P.value++,e),params:[e],typings:["none"]}});let S={sql:"",params:[]};for(let e of w)S.sql+=e.sql,S.params.push(...e.params),e.typings?.length&&(S.typings||(S.typings=[]),S.typings.push(...e.typings));return S}mapInlineParam(e,{escapeString:t}){if(null===e)return"null";if("number"==typeof e||"boolean"==typeof e)return e.toString();if("string"==typeof e)return t(e);if("object"==typeof e){let n=e.toString();return"[object Object]"===n?t(JSON.stringify(e)):t(n)}throw Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return void 0===e?this:new m.Aliased(this,e)}mapWith(e){return this.decoder="function"==typeof e?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}}class d{constructor(e){this.value=e}static [t.entityKind]="Name";brand;getSQL(){return new m([this])}}function g(e){return new d(e)}function f(e){return"object"==typeof e&&null!==e&&"mapToDriverValue"in e&&"function"==typeof e.mapToDriverValue}let h={mapFromDriverValue:e=>e},p={mapToDriverValue:e=>e},y={...h,...p};class b{constructor(e,t=p){this.value=e,this.encoder=t}static [t.entityKind]="Param";brand;getSQL(){return new m([this])}}function P(e,t){return new b(e,t)}function w(e,...t){let n=[];for(let[i,r]of((t.length>0||e.length>0&&""!==e[0])&&n.push(new c(e[0])),t.entries()))n.push(r,new c(e[i+1]));return new m(n)}(e=>{e.empty=function(){return new m([])},e.fromList=function(e){return new m(e)},e.raw=function(e){return new m([new c(e)])},e.join=function(e,t){let n=[];for(let[i,r]of e.entries())i>0&&void 0!==t&&n.push(t),n.push(r);return new m(n)},e.identifier=function(e){return new d(e)},e.placeholder=function(e){return new T(e)},e.param=function(e,t){return new b(e,t)}})(w||(w={})),(e=>{class n{constructor(e,t){this.sql=e,this.fieldAlias=t}static [t.entityKind]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new n(this.sql,this.fieldAlias)}}e.Aliased=n})(m||(m={}));class T{constructor(e){this.name=e}static [t.entityKind]="Placeholder";getSQL(){return new m([this])}}function S(e){return new T(e)}function C(e,n){return e.map(e=>{if((0,t.is)(e,T)){if(!(e.name in n))throw Error(`No value for placeholder "${e.name}" was provided`);return n[e.name]}if((0,t.is)(e,b)&&(0,t.is)(e.value,T)){if(!(e.value.name in n))throw Error(`No value for placeholder "${e.value.name}" was provided`);return e.encoder.mapToDriverValue(n[e.value.name])}return e})}let v=Symbol.for("drizzle:IsDrizzleView");class N{static [t.entityKind]="View";[s.ViewBaseConfig];[v]=!0;constructor({name:e,schema:t,selectedFields:n,query:i}){this[s.ViewBaseConfig]={name:e,originalName:e,schema:t,selectedFields:n,query:i,isExisting:!i,isAlias:!1}}getSQL(){return new m([this])}}function x(e){return"object"==typeof e&&null!==e&&v in e}function K(e){return e[s.ViewBaseConfig].name}o.Column.prototype.getSQL=function(){return new m([this])},l.Table.prototype.getSQL=function(){return new m([this])},i.Subquery.prototype.getSQL=function(){return new m([this])}},77291,45257,73835,56475,81434,36613,66392,20810,31861,35144,77286,62223,16627,e=>{"use strict";e.s(["PrimaryKeyBuilder",()=>t2],77291);var t=e.i(54892);e.s(["PgTable",()=>t0,"pgTable",()=>t1],16627);var n=e.i(66634);e.s(["applyMixins",()=>c,"getColumnNameAndConfig",()=>f,"getTableColumns",()=>m,"getTableLikeName",()=>g,"getViewSelectedFields",()=>d,"haveSameKeys",()=>a,"isConfig",()=>h,"mapResultRow",()=>l,"mapUpdateSet",()=>u,"orderSelectedFields",()=>function e(s,o){return Object.entries(s).reduce((s,[l,a])=>{if("string"!=typeof l)return s;let u=o?[...o,l]:[l];return(0,t.is)(a,i.Column)||(0,t.is)(a,r.SQL)||(0,t.is)(a,r.SQL.Aliased)?s.push({path:u,field:a}):(0,t.is)(a,n.Table)?s.push(...e(a[n.Table.Symbol.Columns],u)):s.push(...e(a,u)),s},[])},"textDecoder",()=>p],45257);var i=e.i(29325),r=e.i(63519),s=e.i(23951),o=e.i(90990);function l(e,s,o){let l={},a=e.reduce((e,{path:a,field:u},c)=>{let m;m=(0,t.is)(u,i.Column)?u:(0,t.is)(u,r.SQL)?u.decoder:u.sql.decoder;let d=e;for(let[e,r]of a.entries())if(e<a.length-1)r in d||(d[r]={}),d=d[r];else{let e=s[c],g=d[r]=null===e?null:m.mapFromDriverValue(e);if(o&&(0,t.is)(u,i.Column)&&2===a.length){let e=a[0];e in l?"string"==typeof l[e]&&l[e]!==(0,n.getTableName)(u.table)&&(l[e]=!1):l[e]=null===g&&(0,n.getTableName)(u.table)}}return e},{});if(o&&Object.keys(l).length>0)for(let[e,t]of Object.entries(l))"string"!=typeof t||o[t]||(a[e]=null);return a}function a(e,t){let n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(let[e,t]of n.entries())if(t!==i[e])return!1;return!0}function u(e,s){let o=Object.entries(s).filter(([,e])=>void 0!==e).map(([s,o])=>(0,t.is)(o,r.SQL)||(0,t.is)(o,i.Column)?[s,o]:[s,new r.Param(o,e[n.Table.Symbol.Columns][s])]);if(0===o.length)throw Error("No values to set");return Object.fromEntries(o)}function c(e,t){for(let n of t)for(let t of Object.getOwnPropertyNames(n.prototype))"constructor"!==t&&Object.defineProperty(e.prototype,t,Object.getOwnPropertyDescriptor(n.prototype,t)||Object.create(null))}function m(e){return e[n.Table.Symbol.Columns]}function d(e){return e[o.ViewBaseConfig].selectedFields}function g(e){return(0,t.is)(e,s.Subquery)?e._.alias:(0,t.is)(e,r.View)?e[o.ViewBaseConfig].name:(0,t.is)(e,r.SQL)?void 0:e[n.Table.Symbol.IsAlias]?e[n.Table.Symbol.Name]:e[n.Table.Symbol.BaseName]}function f(e,t){return{name:"string"==typeof e&&e.length>0?e:"",config:"object"==typeof e?e:t}}function h(e){if("object"!=typeof e||null===e||"Object"!==e.constructor.name)return!1;if("logger"in e){let t=typeof e.logger;return"boolean"===t||"object"===t&&"function"==typeof e.logger.logQuery||"undefined"===t}if("schema"in e){let t=typeof e.schema;return"object"===t||"undefined"===t}if("casing"in e){let t=typeof e.casing;return"string"===t||"undefined"===t}if("mode"in e)return"default"===e.mode&&"planetscale"===e.mode&&void 0===e.mode;if("connection"in e){let t=typeof e.connection;return"string"===t||"object"===t||"undefined"===t}if("client"in e){let t=typeof e.client;return"object"===t||"function"===t||"undefined"===t}return 0===Object.keys(e).length}let p="undefined"==typeof TextDecoder?null:new TextDecoder;var y=e.i(25745),b=y;class P extends b.PgColumnBuilder{static [t.entityKind]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(e){if(e){let{name:t,...n}=e;this.config.generatedIdentity={type:"always",sequenceName:t,sequenceOptions:n}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){let{name:t,...n}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:t,sequenceOptions:n}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class w extends P{static [t.entityKind]="PgBigInt53Builder";constructor(e){super(e,"number","PgBigInt53")}build(e){return new T(e,this.config)}}class T extends y.PgColumn{static [t.entityKind]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(e){return"number"==typeof e?e:Number(e)}}class S extends P{static [t.entityKind]="PgBigInt64Builder";constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new C(e,this.config)}}class C extends y.PgColumn{static [t.entityKind]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}function v(e,t){let{name:n,config:i}=f(e,t);return"number"===i.mode?new w(n):new S(n)}var N=y;class x extends N.PgColumnBuilder{static [t.entityKind]="PgBigSerial53Builder";constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new K(e,this.config)}}class K extends N.PgColumn{static [t.entityKind]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(e){return"number"==typeof e?e:Number(e)}}class B extends N.PgColumnBuilder{static [t.entityKind]="PgBigSerial64Builder";constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new $(e,this.config)}}class $ extends N.PgColumn{static [t.entityKind]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}function q(e,t){let{name:n,config:i}=f(e,t);return"number"===i.mode?new x(n):new B(n)}e.s(["boolean",()=>F],73835);var D=y;class V extends D.PgColumnBuilder{static [t.entityKind]="PgBooleanBuilder";constructor(e){super(e,"boolean","PgBoolean")}build(e){return new L(e,this.config)}}class L extends D.PgColumn{static [t.entityKind]="PgBoolean";getSQLType(){return"boolean"}}function F(e){return new V(e??"")}var Q=y;class z extends Q.PgColumnBuilder{static [t.entityKind]="PgCharBuilder";constructor(e,t){super(e,"string","PgChar"),this.config.length=t.length,this.config.enumValues=t.enum}build(e){return new O(e,this.config)}}class O extends Q.PgColumn{static [t.entityKind]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return void 0===this.length?"char":`char(${this.length})`}}function j(e,t={}){let{name:n,config:i}=f(e,t);return new z(n,i)}var I=y;class A extends I.PgColumnBuilder{static [t.entityKind]="PgCidrBuilder";constructor(e){super(e,"string","PgCidr")}build(e){return new E(e,this.config)}}class E extends I.PgColumn{static [t.entityKind]="PgCidr";getSQLType(){return"cidr"}}function k(e){return new A(e??"")}var U=y;class _ extends U.PgColumnBuilder{static [t.entityKind]="PgCustomColumnBuilder";constructor(e,t,n){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=t,this.config.customTypeParams=n}build(e){return new R(e,this.config)}}class R extends U.PgColumn{static [t.entityKind]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(e,t){super(e,t),this.sqlName=t.customTypeParams.dataType(t.fieldConfig),this.mapTo=t.customTypeParams.toDriver,this.mapFrom=t.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return"function"==typeof this.mapFrom?this.mapFrom(e):e}mapToDriverValue(e){return"function"==typeof this.mapTo?this.mapTo(e):e}}function J(e){return(t,n)=>{let{name:i,config:r}=f(t,n);return new _(i,r,e)}}e.s(["PgDate",()=>X,"PgDateString",()=>Z,"date",()=>ee],56475);var M=y,G=y;class W extends G.PgColumnBuilder{static [t.entityKind]="PgDateColumnBaseBuilder";defaultNow(){return this.default(r.sql`now()`)}}class H extends W{static [t.entityKind]="PgDateBuilder";constructor(e){super(e,"date","PgDate")}build(e){return new X(e,this.config)}}class X extends M.PgColumn{static [t.entityKind]="PgDate";getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}class Y extends W{static [t.entityKind]="PgDateStringBuilder";constructor(e){super(e,"string","PgDateString")}build(e){return new Z(e,this.config)}}class Z extends M.PgColumn{static [t.entityKind]="PgDateString";getSQLType(){return"date"}}function ee(e,t){let{name:n,config:i}=f(e,t);return i?.mode==="date"?new H(n):new Y(n)}var et=y;class en extends et.PgColumnBuilder{static [t.entityKind]="PgDoublePrecisionBuilder";constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new ei(e,this.config)}}class ei extends et.PgColumn{static [t.entityKind]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(e){return"string"==typeof e?Number.parseFloat(e):e}}function er(e){return new en(e??"")}var es=y;class eo extends es.PgColumnBuilder{static [t.entityKind]="PgInetBuilder";constructor(e){super(e,"string","PgInet")}build(e){return new el(e,this.config)}}class el extends es.PgColumn{static [t.entityKind]="PgInet";getSQLType(){return"inet"}}function ea(e){return new eo(e??"")}e.s(["integer",()=>ed],81434);var eu=y;class ec extends P{static [t.entityKind]="PgIntegerBuilder";constructor(e){super(e,"number","PgInteger")}build(e){return new em(e,this.config)}}class em extends eu.PgColumn{static [t.entityKind]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(e){return"string"==typeof e?Number.parseInt(e):e}}function ed(e){return new ec(e??"")}var eg=y;class ef extends eg.PgColumnBuilder{static [t.entityKind]="PgIntervalBuilder";constructor(e,t){super(e,"string","PgInterval"),this.config.intervalConfig=t}build(e){return new eh(e,this.config)}}class eh extends eg.PgColumn{static [t.entityKind]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){let e=this.fields?` ${this.fields}`:"",t=this.precision?`(${this.precision})`:"";return`interval${e}${t}`}}function ep(e,t={}){let{name:n,config:i}=f(e,t);return new ef(n,i)}e.s(["PgJson",()=>eP,"json",()=>ew],36613);var ey=y;class eb extends ey.PgColumnBuilder{static [t.entityKind]="PgJsonBuilder";constructor(e){super(e,"json","PgJson")}build(e){return new eP(e,this.config)}}class eP extends ey.PgColumn{static [t.entityKind]="PgJson";constructor(e,t){super(e,t)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if("string"==typeof e)try{return JSON.parse(e)}catch{}return e}}function ew(e){return new eb(e??"")}e.s(["PgJsonb",()=>eC,"jsonb",()=>ev],66392);var eT=y;class eS extends eT.PgColumnBuilder{static [t.entityKind]="PgJsonbBuilder";constructor(e){super(e,"json","PgJsonb")}build(e){return new eC(e,this.config)}}class eC extends eT.PgColumn{static [t.entityKind]="PgJsonb";constructor(e,t){super(e,t)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if("string"==typeof e)try{return JSON.parse(e)}catch{}return e}}function ev(e){return new eS(e??"")}var eN=y;class ex extends eN.PgColumnBuilder{static [t.entityKind]="PgLineBuilder";constructor(e){super(e,"array","PgLine")}build(e){return new eK(e,this.config)}}class eK extends eN.PgColumn{static [t.entityKind]="PgLine";getSQLType(){return"line"}mapFromDriverValue(e){let[t,n,i]=e.slice(1,-1).split(",");return[Number.parseFloat(t),Number.parseFloat(n),Number.parseFloat(i)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}class eB extends eN.PgColumnBuilder{static [t.entityKind]="PgLineABCBuilder";constructor(e){super(e,"json","PgLineABC")}build(e){return new e$(e,this.config)}}class e$ extends eN.PgColumn{static [t.entityKind]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(e){let[t,n,i]=e.slice(1,-1).split(",");return{a:Number.parseFloat(t),b:Number.parseFloat(n),c:Number.parseFloat(i)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}function eq(e,t){let{name:n,config:i}=f(e,t);return i?.mode&&"tuple"!==i.mode?new eB(n):new ex(n)}var eD=y;class eV extends eD.PgColumnBuilder{static [t.entityKind]="PgMacaddrBuilder";constructor(e){super(e,"string","PgMacaddr")}build(e){return new eL(e,this.config)}}class eL extends eD.PgColumn{static [t.entityKind]="PgMacaddr";getSQLType(){return"macaddr"}}function eF(e){return new eV(e??"")}var eQ=y;class ez extends eQ.PgColumnBuilder{static [t.entityKind]="PgMacaddr8Builder";constructor(e){super(e,"string","PgMacaddr8")}build(e){return new eO(e,this.config)}}class eO extends eQ.PgColumn{static [t.entityKind]="PgMacaddr8";getSQLType(){return"macaddr8"}}function ej(e){return new ez(e??"")}e.s(["PgNumeric",()=>eE,"decimal",()=>eM,"numeric",()=>eJ],20810);var eI=y;class eA extends eI.PgColumnBuilder{static [t.entityKind]="PgNumericBuilder";constructor(e,t,n){super(e,"string","PgNumeric"),this.config.precision=t,this.config.scale=n}build(e){return new eE(e,this.config)}}class eE extends eI.PgColumn{static [t.entityKind]="PgNumeric";precision;scale;constructor(e,t){super(e,t),this.precision=t.precision,this.scale=t.scale}mapFromDriverValue(e){return"string"==typeof e?e:String(e)}getSQLType(){return void 0!==this.precision&&void 0!==this.scale?`numeric(${this.precision}, ${this.scale})`:void 0===this.precision?"numeric":`numeric(${this.precision})`}}class ek extends eI.PgColumnBuilder{static [t.entityKind]="PgNumericNumberBuilder";constructor(e,t,n){super(e,"number","PgNumericNumber"),this.config.precision=t,this.config.scale=n}build(e){return new eU(e,this.config)}}class eU extends eI.PgColumn{static [t.entityKind]="PgNumericNumber";precision;scale;constructor(e,t){super(e,t),this.precision=t.precision,this.scale=t.scale}mapFromDriverValue(e){return"number"==typeof e?e:Number(e)}mapToDriverValue=String;getSQLType(){return void 0!==this.precision&&void 0!==this.scale?`numeric(${this.precision}, ${this.scale})`:void 0===this.precision?"numeric":`numeric(${this.precision})`}}class e_ extends eI.PgColumnBuilder{static [t.entityKind]="PgNumericBigIntBuilder";constructor(e,t,n){super(e,"bigint","PgNumericBigInt"),this.config.precision=t,this.config.scale=n}build(e){return new eR(e,this.config)}}class eR extends eI.PgColumn{static [t.entityKind]="PgNumericBigInt";precision;scale;constructor(e,t){super(e,t),this.precision=t.precision,this.scale=t.scale}mapFromDriverValue=BigInt;mapToDriverValue=String;getSQLType(){return void 0!==this.precision&&void 0!==this.scale?`numeric(${this.precision}, ${this.scale})`:void 0===this.precision?"numeric":`numeric(${this.precision})`}}function eJ(e,t){let{name:n,config:i}=f(e,t),r=i?.mode;return"number"===r?new ek(n,i?.precision,i?.scale):"bigint"===r?new e_(n,i?.precision,i?.scale):new eA(n,i?.precision,i?.scale)}let eM=eJ;var eG=y;class eW extends eG.PgColumnBuilder{static [t.entityKind]="PgPointTupleBuilder";constructor(e){super(e,"array","PgPointTuple")}build(e){return new eH(e,this.config)}}class eH extends eG.PgColumn{static [t.entityKind]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(e){if("string"==typeof e){let[t,n]=e.slice(1,-1).split(",");return[Number.parseFloat(t),Number.parseFloat(n)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}class eX extends eG.PgColumnBuilder{static [t.entityKind]="PgPointObjectBuilder";constructor(e){super(e,"json","PgPointObject")}build(e){return new eY(e,this.config)}}class eY extends eG.PgColumn{static [t.entityKind]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(e){if("string"==typeof e){let[t,n]=e.slice(1,-1).split(",");return{x:Number.parseFloat(t),y:Number.parseFloat(n)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}function eZ(e,t){let{name:n,config:i}=f(e,t);return i?.mode&&"tuple"!==i.mode?new eX(n):new eW(n)}var e0=y;function e1(e,t){let n=new DataView(new ArrayBuffer(8));for(let i=0;i<8;i++)n.setUint8(i,e[t+i]);return n.getFloat64(0,!0)}function e2(e){let t=function(e){let t=[];for(let n=0;n<e.length;n+=2)t.push(Number.parseInt(e.slice(n,n+2),16));return new Uint8Array(t)}(e),n=0,i=t[0];n+=1;let r=new DataView(t.buffer),s=r.getUint32(n,1===i);if(n+=4,0x20000000&s&&(r.getUint32(n,1===i),n+=4),(65535&s)==1){let e=e1(t,n),i=e1(t,n+=8);return n+=8,[e,i]}throw Error("Unsupported geometry type")}class e6 extends e0.PgColumnBuilder{static [t.entityKind]="PgGeometryBuilder";constructor(e){super(e,"array","PgGeometry")}build(e){return new e3(e,this.config)}}class e3 extends e0.PgColumn{static [t.entityKind]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return e2(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}class e5 extends e0.PgColumnBuilder{static [t.entityKind]="PgGeometryObjectBuilder";constructor(e){super(e,"json","PgGeometryObject")}build(e){return new e9(e,this.config)}}class e9 extends e0.PgColumn{static [t.entityKind]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){let t=e2(e);return{x:t[0],y:t[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}function e4(e,t){let{name:n,config:i}=f(e,t);return i?.mode&&"tuple"!==i.mode?new e5(n):new e6(n)}var e8=y;class e7 extends e8.PgColumnBuilder{static [t.entityKind]="PgRealBuilder";constructor(e,t){super(e,"number","PgReal"),this.config.length=t}build(e){return new te(e,this.config)}}class te extends e8.PgColumn{static [t.entityKind]="PgReal";constructor(e,t){super(e,t)}getSQLType(){return"real"}mapFromDriverValue=e=>"string"==typeof e?Number.parseFloat(e):e}function tt(e){return new e7(e??"")}var tn=y;class ti extends tn.PgColumnBuilder{static [t.entityKind]="PgSerialBuilder";constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new tr(e,this.config)}}class tr extends tn.PgColumn{static [t.entityKind]="PgSerial";getSQLType(){return"serial"}}function ts(e){return new ti(e??"")}var to=y;class tl extends P{static [t.entityKind]="PgSmallIntBuilder";constructor(e){super(e,"number","PgSmallInt")}build(e){return new ta(e,this.config)}}class ta extends to.PgColumn{static [t.entityKind]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=e=>"string"==typeof e?Number(e):e}function tu(e){return new tl(e??"")}var tc=y;class tm extends tc.PgColumnBuilder{static [t.entityKind]="PgSmallSerialBuilder";constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new td(e,this.config)}}class td extends tc.PgColumn{static [t.entityKind]="PgSmallSerial";getSQLType(){return"smallserial"}}function tg(e){return new tm(e??"")}e.s(["text",()=>ty],31861);var tf=y;class th extends tf.PgColumnBuilder{static [t.entityKind]="PgTextBuilder";constructor(e,t){super(e,"string","PgText"),this.config.enumValues=t.enum}build(e){return new tp(e,this.config)}}class tp extends tf.PgColumn{static [t.entityKind]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function ty(e,t={}){let{name:n,config:i}=f(e,t);return new th(n,i)}e.s(["PgTime",()=>tw,"time",()=>tT],35144);var tb=y;class tP extends W{constructor(e,t,n){super(e,"string","PgTime"),this.withTimezone=t,this.precision=n,this.config.withTimezone=t,this.config.precision=n}static [t.entityKind]="PgTimeBuilder";build(e){return new tw(e,this.config)}}class tw extends tb.PgColumn{static [t.entityKind]="PgTime";withTimezone;precision;constructor(e,t){super(e,t),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){let e=void 0===this.precision?"":`(${this.precision})`;return`time${e}${this.withTimezone?" with time zone":""}`}}function tT(e,t={}){let{name:n,config:i}=f(e,t);return new tP(n,i.withTimezone??!1,i.precision)}e.s(["PgTimestamp",()=>tv,"PgTimestampString",()=>tx,"timestamp",()=>tK],77286);var tS=y;class tC extends W{static [t.entityKind]="PgTimestampBuilder";constructor(e,t,n){super(e,"date","PgTimestamp"),this.config.withTimezone=t,this.config.precision=n}build(e){return new tv(e,this.config)}}class tv extends tS.PgColumn{static [t.entityKind]="PgTimestamp";withTimezone;precision;constructor(e,t){super(e,t),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){let e=void 0===this.precision?"":` (${this.precision})`;return`timestamp${e}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=e=>new Date(this.withTimezone?e:e+"+0000");mapToDriverValue=e=>e.toISOString()}class tN extends W{static [t.entityKind]="PgTimestampStringBuilder";constructor(e,t,n){super(e,"string","PgTimestampString"),this.config.withTimezone=t,this.config.precision=n}build(e){return new tx(e,this.config)}}class tx extends tS.PgColumn{static [t.entityKind]="PgTimestampString";withTimezone;precision;constructor(e,t){super(e,t),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){let e=void 0===this.precision?"":`(${this.precision})`;return`timestamp${e}${this.withTimezone?" with time zone":""}`}}function tK(e,t={}){let{name:n,config:i}=f(e,t);return i?.mode==="string"?new tN(n,i.withTimezone??!1,i.precision):new tC(n,i?.withTimezone??!1,i?.precision)}e.s(["PgUUID",()=>tq,"uuid",()=>tD],62223);var tB=y;class t$ extends tB.PgColumnBuilder{static [t.entityKind]="PgUUIDBuilder";constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(r.sql`gen_random_uuid()`)}build(e){return new tq(e,this.config)}}class tq extends tB.PgColumn{static [t.entityKind]="PgUUID";getSQLType(){return"uuid"}}function tD(e){return new t$(e??"")}var tV=y;class tL extends tV.PgColumnBuilder{static [t.entityKind]="PgVarcharBuilder";constructor(e,t){super(e,"string","PgVarchar"),this.config.length=t.length,this.config.enumValues=t.enum}build(e){return new tF(e,this.config)}}class tF extends tV.PgColumn{static [t.entityKind]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return void 0===this.length?"varchar":`varchar(${this.length})`}}function tQ(e,t={}){let{name:n,config:i}=f(e,t);return new tL(n,i)}var tz=y;class tO extends tz.PgColumnBuilder{static [t.entityKind]="PgBinaryVectorBuilder";constructor(e,t){super(e,"string","PgBinaryVector"),this.config.dimensions=t.dimensions}build(e){return new tj(e,this.config)}}class tj extends tz.PgColumn{static [t.entityKind]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function tI(e,t){let{name:n,config:i}=f(e,t);return new tO(n,i)}var tA=y;class tE extends tA.PgColumnBuilder{static [t.entityKind]="PgHalfVectorBuilder";constructor(e,t){super(e,"array","PgHalfVector"),this.config.dimensions=t.dimensions}build(e){return new tk(e,this.config)}}class tk extends tA.PgColumn{static [t.entityKind]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(e=>Number.parseFloat(e))}}function tU(e,t){let{name:n,config:i}=f(e,t);return new tE(n,i)}var t_=y;class tR extends t_.PgColumnBuilder{static [t.entityKind]="PgSparseVectorBuilder";constructor(e,t){super(e,"string","PgSparseVector"),this.config.dimensions=t.dimensions}build(e){return new tJ(e,this.config)}}class tJ extends t_.PgColumn{static [t.entityKind]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function tM(e,t){let{name:n,config:i}=f(e,t);return new tR(n,i)}var tG=y;class tW extends tG.PgColumnBuilder{static [t.entityKind]="PgVectorBuilder";constructor(e,t){super(e,"array","PgVector"),this.config.dimensions=t.dimensions}build(e){return new tH(e,this.config)}}class tH extends tG.PgColumn{static [t.entityKind]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(e=>Number.parseFloat(e))}}function tX(e,t){let{name:n,config:i}=f(e,t);return new tW(n,i)}let tY=Symbol.for("drizzle:PgInlineForeignKeys"),tZ=Symbol.for("drizzle:EnableRLS");class t0 extends n.Table{static [t.entityKind]="PgTable";static Symbol=Object.assign({},n.Table.Symbol,{InlineForeignKeys:tY,EnableRLS:tZ});[tY]=[];[tZ]=!1;[n.Table.Symbol.ExtraConfigBuilder]=void 0;[n.Table.Symbol.ExtraConfigColumns]={}}let t1=(e,t,i)=>(function(e,t,i,r,s=e){let o=new t0(e,r,s),l="function"==typeof t?t({bigint:v,bigserial:q,boolean:F,char:j,cidr:k,customType:J,date:ee,doublePrecision:er,inet:ea,integer:ed,interval:ep,json:ew,jsonb:ev,line:eq,macaddr:eF,macaddr8:ej,numeric:eJ,point:eZ,geometry:e4,real:tt,serial:ts,smallint:tu,smallserial:tg,text:ty,time:tT,timestamp:tK,uuid:tD,varchar:tQ,bit:tI,halfvec:tU,sparsevec:tM,vector:tX}):t,a=Object.fromEntries(Object.entries(l).map(([e,t])=>{t.setName(e);let n=t.build(o);return o[tY].push(...t.buildForeignKeys(n,o)),[e,n]})),u=Object.fromEntries(Object.entries(l).map(([e,t])=>(t.setName(e),[e,t.buildExtraConfigColumn(o)]))),c=Object.assign(o,a);return c[n.Table.Symbol.Columns]=a,c[n.Table.Symbol.ExtraConfigColumns]=u,i&&(c[t0.Symbol.ExtraConfigBuilder]=i),Object.assign(c,{enableRLS:()=>(c[t0.Symbol.EnableRLS]=!0,c)})})(e,t,i,void 0);class t2{static [t.entityKind]="PgPrimaryKeyBuilder";columns;name;constructor(e,t){this.columns=e,this.name=t}build(e){return new t6(e,this.columns,this.name)}}class t6{constructor(e,t,n){this.table=e,this.columns=t,this.name=n}static [t.entityKind]="PgPrimaryKey";columns;name;getName(){return this.name??`${this.table[t0.Symbol.Name]}_${this.columns.map(e=>e.name).join("_")}_pk`}}},8079,56412,e=>{"use strict";e.s(["and",()=>a,"arrayContained",()=>B,"arrayContains",()=>K,"arrayOverlaps",()=>$,"between",()=>T,"bindIfParam",()=>s,"eq",()=>o,"exists",()=>P,"gt",()=>m,"gte",()=>d,"ilike",()=>N,"inArray",()=>h,"isNotNull",()=>b,"isNull",()=>y,"like",()=>C,"lt",()=>g,"lte",()=>f,"ne",()=>l,"not",()=>c,"notBetween",()=>S,"notExists",()=>w,"notIlike",()=>x,"notInArray",()=>p,"notLike",()=>v,"or",()=>u],8079);var t=e.i(29325),n=e.i(54892),i=e.i(66634),r=e.i(63519);function s(e,s){return!(0,r.isDriverValueEncoder)(s)||(0,r.isSQLWrapper)(e)||(0,n.is)(e,r.Param)||(0,n.is)(e,r.Placeholder)||(0,n.is)(e,t.Column)||(0,n.is)(e,i.Table)||(0,n.is)(e,r.View)?e:new r.Param(e,s)}let o=(e,t)=>r.sql`${e} = ${s(t,e)}`,l=(e,t)=>r.sql`${e} <> ${s(t,e)}`;function a(...e){let t=e.filter(e=>void 0!==e);if(0!==t.length)return new r.SQL(1===t.length?t:[new r.StringChunk("("),r.sql.join(t,new r.StringChunk(" and ")),new r.StringChunk(")")])}function u(...e){let t=e.filter(e=>void 0!==e);if(0!==t.length)return new r.SQL(1===t.length?t:[new r.StringChunk("("),r.sql.join(t,new r.StringChunk(" or ")),new r.StringChunk(")")])}function c(e){return r.sql`not ${e}`}let m=(e,t)=>r.sql`${e} > ${s(t,e)}`,d=(e,t)=>r.sql`${e} >= ${s(t,e)}`,g=(e,t)=>r.sql`${e} < ${s(t,e)}`,f=(e,t)=>r.sql`${e} <= ${s(t,e)}`;function h(e,t){return Array.isArray(t)?0===t.length?r.sql`false`:r.sql`${e} in ${t.map(t=>s(t,e))}`:r.sql`${e} in ${s(t,e)}`}function p(e,t){return Array.isArray(t)?0===t.length?r.sql`true`:r.sql`${e} not in ${t.map(t=>s(t,e))}`:r.sql`${e} not in ${s(t,e)}`}function y(e){return r.sql`${e} is null`}function b(e){return r.sql`${e} is not null`}function P(e){return r.sql`exists ${e}`}function w(e){return r.sql`not exists ${e}`}function T(e,t,n){return r.sql`${e} between ${s(t,e)} and ${s(n,e)}`}function S(e,t,n){return r.sql`${e} not between ${s(t,e)} and ${s(n,e)}`}function C(e,t){return r.sql`${e} like ${t}`}function v(e,t){return r.sql`${e} not like ${t}`}function N(e,t){return r.sql`${e} ilike ${t}`}function x(e,t){return r.sql`${e} not ilike ${t}`}function K(e,t){if(Array.isArray(t)){if(0===t.length)throw Error("arrayContains requires at least one value");let n=r.sql`${s(t,e)}`;return r.sql`${e} @> ${n}`}return r.sql`${e} @> ${s(t,e)}`}function B(e,t){if(Array.isArray(t)){if(0===t.length)throw Error("arrayContained requires at least one value");let n=r.sql`${s(t,e)}`;return r.sql`${e} <@ ${n}`}return r.sql`${e} <@ ${s(t,e)}`}function $(e,t){if(Array.isArray(t)){if(0===t.length)throw Error("arrayOverlaps requires at least one value");let n=r.sql`${s(t,e)}`;return r.sql`${e} && ${n}`}return r.sql`${e} && ${s(t,e)}`}function q(e){return r.sql`${e} asc`}function D(e){return r.sql`${e} desc`}e.s(["asc",()=>q,"desc",()=>D],56412)},29738,e=>{"use strict";e.s(["Many",()=>m,"One",()=>c,"Relation",()=>a,"Relations",()=>u,"createMany",()=>y,"createOne",()=>p,"createTableRelationsHelpers",()=>P,"extractTablesRelationalConfig",()=>f,"getOperators",()=>d,"getOrderByOperators",()=>g,"mapRelationalRow",()=>function e(t,r,s,o,a=e=>e){let u={};for(let[m,d]of o.entries())if(d.isJson){let n=r.relations[d.tsKey],o=s[m],l="string"==typeof o?JSON.parse(o):o;u[d.tsKey]=(0,i.is)(n,c)?l&&e(t,t[d.relationTableTsKey],l,d.selection,a):l.map(n=>e(t,t[d.relationTableTsKey],n,d.selection,a))}else{let e,t=a(s[m]),r=d.field;e=(0,i.is)(r,n.Column)?r:(0,i.is)(r,l.SQL)?r.decoder:r.sql.decoder,u[d.tsKey]=null===t?null:e.mapFromDriverValue(t)}return u},"normalizeRelation",()=>b,"relations",()=>h]);var t=e.i(66634),n=e.i(29325),i=e.i(54892),r=e.i(77291),s=e.i(8079),o=e.i(56412),l=e.i(63519);class a{constructor(e,n,i){this.sourceTable=e,this.referencedTable=n,this.relationName=i,this.referencedTableName=n[t.Table.Symbol.Name]}static [i.entityKind]="Relation";referencedTableName;fieldName}class u{constructor(e,t){this.table=e,this.config=t}static [i.entityKind]="Relations"}class c extends a{constructor(e,t,n,i){super(e,t,n?.relationName),this.config=n,this.isNullable=i}static [i.entityKind]="One";withFieldName(e){let t=new c(this.sourceTable,this.referencedTable,this.config,this.isNullable);return t.fieldName=e,t}}class m extends a{constructor(e,t,n){super(e,t,n?.relationName),this.config=n}static [i.entityKind]="Many";withFieldName(e){let t=new m(this.sourceTable,this.referencedTable,this.config);return t.fieldName=e,t}}function d(){return{and:s.and,between:s.between,eq:s.eq,exists:s.exists,gt:s.gt,gte:s.gte,ilike:s.ilike,inArray:s.inArray,isNull:s.isNull,isNotNull:s.isNotNull,like:s.like,lt:s.lt,lte:s.lte,ne:s.ne,not:s.not,notBetween:s.notBetween,notExists:s.notExists,notLike:s.notLike,notIlike:s.notIlike,notInArray:s.notInArray,or:s.or,sql:l.sql}}function g(){return{sql:l.sql,asc:o.asc,desc:o.desc}}function f(e,n){1===Object.keys(e).length&&"default"in e&&!(0,i.is)(e.default,t.Table)&&(e=e.default);let s={},o={},l={};for(let[a,c]of Object.entries(e))if((0,i.is)(c,t.Table)){let e=(0,t.getTableUniqueName)(c),n=o[e];for(let i of(s[e]=a,l[a]={tsName:a,dbName:c[t.Table.Symbol.Name],schema:c[t.Table.Symbol.Schema],columns:c[t.Table.Symbol.Columns],relations:n?.relations??{},primaryKey:n?.primaryKey??[]},Object.values(c[t.Table.Symbol.Columns])))i.primary&&l[a].primaryKey.push(i);let u=c[t.Table.Symbol.ExtraConfigBuilder]?.(c[t.Table.Symbol.ExtraConfigColumns]);if(u)for(let e of Object.values(u))(0,i.is)(e,r.PrimaryKeyBuilder)&&l[a].primaryKey.push(...e.columns)}else if((0,i.is)(c,u)){let e,i=(0,t.getTableUniqueName)(c.table),r=s[i];for(let[t,s]of Object.entries(c.config(n(c.table))))if(r){let n=l[r];n.relations[t]=s,e&&n.primaryKey.push(...e)}else i in o||(o[i]={relations:{},primaryKey:e}),o[i].relations[t]=s}return{tables:l,tableNamesMap:s}}function h(e,t){return new u(e,e=>Object.fromEntries(Object.entries(t(e)).map(([e,t])=>[e,t.withFieldName(e)])))}function p(e){return function(t,n){return new c(e,t,n,n?.fields.reduce((e,t)=>e&&t.notNull,!0)??!1)}}function y(e){return function(t,n){return new m(e,t,n)}}function b(e,n,r){if((0,i.is)(r,c)&&r.config)return{fields:r.config.fields,references:r.config.references};let s=n[(0,t.getTableUniqueName)(r.referencedTable)];if(!s)throw Error(`Table "${r.referencedTable[t.Table.Symbol.Name]}" not found in schema`);let o=e[s];if(!o)throw Error(`Table "${s}" not found in schema`);let l=r.sourceTable,a=n[(0,t.getTableUniqueName)(l)];if(!a)throw Error(`Table "${l[t.Table.Symbol.Name]}" not found in schema`);let u=[];for(let e of Object.values(o.relations))(r.relationName&&r!==e&&e.relationName===r.relationName||!r.relationName&&e.referencedTable===r.sourceTable)&&u.push(e);if(u.length>1)throw r.relationName?Error(`There are multiple relations with name "${r.relationName}" in table "${s}"`):Error(`There are multiple relations between "${s}" and "${r.sourceTable[t.Table.Symbol.Name]}". Please specify relation name`);if(u[0]&&(0,i.is)(u[0],c)&&u[0].config)return{fields:u[0].config.references,references:u[0].config.fields};throw Error(`There is not enough information to infer relation "${a}.${r.fieldName}"`)}function P(e){return{one:p(e),many:y(e)}}}];

//# sourceMappingURL=c4b38_drizzle-orm_c413f5b0._.js.map