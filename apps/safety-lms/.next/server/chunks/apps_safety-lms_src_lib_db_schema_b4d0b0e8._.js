module.exports=[22073,14645,50400,e=>{"use strict";e.s(["progress",()=>r,"progressRelations",()=>c],22073);var t=e.i(16627),i=e.i(62223),n=e.i(31861),s=e.i(77286),o=e.i(81434),l=e.i(29738),u=e.i(70178),a=e.i(55923),d=e.i(15885);let r=(0,t.pgTable)("progress",{id:(0,i.uuid)("id").primaryKey().defaultRandom(),userId:(0,i.uuid)("user_id").notNull().references(()=>u.profiles.id),courseId:(0,i.uuid)("course_id").notNull().references(()=>a.courses.id),plantId:(0,i.uuid)("plant_id").notNull().references(()=>d.plants.id),progressPercent:(0,o.integer)("progress_percent").default(0).notNull(),currentSection:(0,n.text)("current_section"),lastActiveAt:(0,s.timestamp)("last_active_at").defaultNow().notNull(),createdAt:(0,s.timestamp)("created_at").defaultNow().notNull(),updatedAt:(0,s.timestamp)("updated_at").defaultNow().notNull()}),c=(0,l.relations)(r,({one:e})=>({user:e(u.profiles,{fields:[r.userId],references:[u.profiles.id]}),course:e(a.courses,{fields:[r.courseId],references:[a.courses.id]}),plant:e(d.plants,{fields:[r.plantId],references:[d.plants.id]})}));e.s(["activityEvents",()=>f,"activityEventsRelations",()=>_,"eventTypeEnum",()=>m],14645);var p=e.i(66392);let m=(0,e.i(33368).pgEnum)("event_type",["view_section","start_course","complete_course"]),f=(0,t.pgTable)("activity_events",{id:(0,i.uuid)("id").primaryKey().defaultRandom(),userId:(0,i.uuid)("user_id").notNull().references(()=>u.profiles.id),courseId:(0,i.uuid)("course_id").notNull().references(()=>a.courses.id),plantId:(0,i.uuid)("plant_id").notNull().references(()=>d.plants.id),eventType:m("event_type").notNull(),meta:(0,p.jsonb)("meta"),occurredAt:(0,s.timestamp)("occurred_at").defaultNow().notNull(),createdAt:(0,s.timestamp)("created_at").defaultNow().notNull()}),_=(0,l.relations)(f,({one:e})=>({user:e(u.profiles,{fields:[f.userId],references:[u.profiles.id]}),course:e(a.courses,{fields:[f.courseId],references:[a.courses.id]}),plant:e(d.plants,{fields:[f.plantId],references:[d.plants.id]})}));e.s(["questionEvents",()=>g,"questionEventsRelations",()=>y],50400);var N=e.i(73835);let g=(0,t.pgTable)("question_events",{id:(0,i.uuid)("id").primaryKey().defaultRandom(),userId:(0,i.uuid)("user_id").notNull().references(()=>u.profiles.id),courseId:(0,i.uuid)("course_id").notNull().references(()=>a.courses.id),plantId:(0,i.uuid)("plant_id").notNull().references(()=>d.plants.id),sectionKey:(0,n.text)("section_key").notNull(),questionKey:(0,n.text)("question_key").notNull(),isCorrect:(0,N.boolean)("is_correct").notNull(),attemptIndex:(0,o.integer)("attempt_index").default(1).notNull(),responseMeta:(0,p.jsonb)("response_meta"),answeredAt:(0,s.timestamp)("answered_at").defaultNow().notNull(),createdAt:(0,s.timestamp)("created_at").defaultNow().notNull()}),y=(0,l.relations)(g,({one:e})=>({user:e(u.profiles,{fields:[g.userId],references:[u.profiles.id]}),course:e(a.courses,{fields:[g.courseId],references:[a.courses.id]}),plant:e(d.plants,{fields:[g.plantId],references:[d.plants.id]})}))},70178,15603,15885,e=>{"use strict";e.s(["profiles",()=>I,"profilesRelations",()=>q,"userStatusEnum",()=>y],70178);var t=e.i(16627),i=e.i(62223),n=e.i(31861),s=e.i(77286),o=e.i(33368),l=e.i(29738);e.s(["plants",()=>N,"plantsRelations",()=>g],15885);var u=e.i(73835),a=e.i(55923),d=e.i(66705),r=e.i(22073),c=e.i(14645),p=e.i(50400);e.s(["adminRoleEnum",()=>m,"adminRoles",()=>f,"adminRolesRelations",()=>_],15603);let m=(0,o.pgEnum)("admin_role",["hr_admin","dev_admin","plant_manager"]),f=(0,t.pgTable)("admin_roles",{id:(0,i.uuid)("id").primaryKey().defaultRandom(),userId:(0,i.uuid)("user_id").notNull().references(()=>I.id),role:m("role").notNull(),plantId:(0,i.uuid)("plant_id").references(()=>N.id),createdAt:(0,s.timestamp)("created_at").defaultNow().notNull(),updatedAt:(0,s.timestamp)("updated_at").defaultNow().notNull()}),_=(0,l.relations)(f,({one:e})=>({user:e(I,{fields:[f.userId],references:[I.id]}),plant:e(N,{fields:[f.plantId],references:[N.id]})})),N=(0,t.pgTable)("plants",{id:(0,i.uuid)("id").primaryKey().defaultRandom(),name:(0,n.text)("name").notNull().unique(),isActive:(0,u.boolean)("is_active").default(!0).notNull(),createdAt:(0,s.timestamp)("created_at").defaultNow().notNull(),updatedAt:(0,s.timestamp)("updated_at").defaultNow().notNull()}),g=(0,l.relations)(N,({many:e})=>({profiles:e(I),courses:e(a.courses),enrollments:e(d.enrollments),progress:e(r.progress),activityEvents:e(c.activityEvents),questionEvents:e(p.questionEvents),adminRoles:e(f)})),y=(0,o.pgEnum)("user_status",["active","suspended"]),I=(0,t.pgTable)("profiles",{id:(0,i.uuid)("id").primaryKey(),plantId:(0,i.uuid)("plant_id").notNull().references(()=>N.id),firstName:(0,n.text)("first_name").notNull(),lastName:(0,n.text)("last_name").notNull(),email:(0,n.text)("email").notNull(),jobTitle:(0,n.text)("job_title"),status:y("status").default("active").notNull(),createdAt:(0,s.timestamp)("created_at").defaultNow().notNull(),updatedAt:(0,s.timestamp)("updated_at").defaultNow().notNull()}),q=(0,l.relations)(I,({one:e,many:t})=>({plant:e(N,{fields:[I.plantId],references:[N.id]})}))},66705,e=>{"use strict";e.s(["enrollmentStatusEnum",()=>d,"enrollments",()=>r,"enrollmentsRelations",()=>c]);var t=e.i(16627),i=e.i(62223),n=e.i(77286),s=e.i(33368),o=e.i(29738),l=e.i(70178),u=e.i(55923),a=e.i(15885);let d=(0,s.pgEnum)("enrollment_status",["enrolled","in_progress","completed"]),r=(0,t.pgTable)("enrollments",{id:(0,i.uuid)("id").primaryKey().defaultRandom(),userId:(0,i.uuid)("user_id").notNull().references(()=>l.profiles.id),courseId:(0,i.uuid)("course_id").notNull().references(()=>u.courses.id),plantId:(0,i.uuid)("plant_id").notNull().references(()=>a.plants.id),status:d("status").default("enrolled").notNull(),enrolledAt:(0,n.timestamp)("enrolled_at").defaultNow().notNull(),completedAt:(0,n.timestamp)("completed_at"),createdAt:(0,n.timestamp)("created_at").defaultNow().notNull(),updatedAt:(0,n.timestamp)("updated_at").defaultNow().notNull()}),c=(0,o.relations)(r,({one:e})=>({user:e(l.profiles,{fields:[r.userId],references:[l.profiles.id]}),course:e(u.courses,{fields:[r.courseId],references:[u.courses.id]}),plant:e(a.plants,{fields:[r.plantId],references:[a.plants.id]})}))},55923,e=>{"use strict";e.s(["courses",()=>c,"coursesRelations",()=>p]);var t=e.i(16627),i=e.i(62223),n=e.i(31861),s=e.i(77286),o=e.i(73835),l=e.i(29738),u=e.i(66705),a=e.i(22073),d=e.i(14645),r=e.i(50400);let c=(0,t.pgTable)("courses",{id:(0,i.uuid)("id").primaryKey().defaultRandom(),slug:(0,n.text)("slug").notNull().unique(),title:(0,n.text)("title").notNull(),version:(0,n.text)("version").default("1.0").notNull(),isPublished:(0,o.boolean)("is_published").default(!1).notNull(),createdAt:(0,s.timestamp)("created_at").defaultNow().notNull(),updatedAt:(0,s.timestamp)("updated_at").defaultNow().notNull()}),p=(0,l.relations)(c,({many:e})=>({enrollments:e(u.enrollments),progress:e(a.progress),activityEvents:e(d.activityEvents),questionEvents:e(r.questionEvents)}))},43048,e=>{"use strict";e.s(["interactionTypeEnum",()=>c,"quizAttempts",()=>p,"quizAttemptsRelations",()=>m]);var t=e.i(16627),i=e.i(62223),n=e.i(31861),s=e.i(66392),o=e.i(73835),l=e.i(77286),u=e.i(81434),a=e.i(33368),d=e.i(29738),r=e.i(77209);let c=(0,a.pgEnum)("interaction_type",["view","click","expand","collapse","download","share"]),p=(0,t.pgTable)("quiz_attempts",{id:(0,i.uuid)("id").primaryKey().defaultRandom(),userId:(0,n.text)("user_id").notNull(),quizQuestionId:(0,i.uuid)("quiz_question_id").notNull().references(()=>r.quizQuestions.id,{onDelete:"cascade"}),userAnswer:(0,s.jsonb)("user_answer").notNull(),isCorrect:(0,o.boolean)("is_correct").notNull(),attemptedAt:(0,l.timestamp)("attempted_at").defaultNow().notNull(),timeSpentSeconds:(0,u.integer)("time_spent_seconds").default(0).notNull()}),m=(0,d.relations)(p,({one:e})=>({quizQuestion:e(r.quizQuestions,{fields:[p.quizQuestionId],references:[r.quizQuestions.id]})}))},22846,e=>{"use strict";e.s(["contentInteractions",()=>d,"contentInteractionsRelations",()=>r]);var t=e.i(16627),i=e.i(62223),n=e.i(31861),s=e.i(66392),o=e.i(77286),l=e.i(29738),u=e.i(73253),a=e.i(43048);let d=(0,t.pgTable)("content_interactions",{id:(0,i.uuid)("id").primaryKey().defaultRandom(),userId:(0,n.text)("user_id").notNull(),contentBlockId:(0,i.uuid)("content_block_id").notNull().references(()=>u.contentBlocks.id,{onDelete:"cascade"}),interactionType:(0,a.interactionTypeEnum)("interaction_type").notNull(),metadata:(0,s.jsonb)("metadata"),interactedAt:(0,o.timestamp)("interacted_at").defaultNow().notNull()}),r=(0,l.relations)(d,({one:e})=>({contentBlock:e(u.contentBlocks,{fields:[d.contentBlockId],references:[u.contentBlocks.id]})}))},33299,e=>{"use strict";e.s(["courseTranslations",()=>d,"courseTranslationsRelations",()=>r,"languageCodeEnum",()=>a]);var t=e.i(16627),i=e.i(62223),n=e.i(31861),s=e.i(77286),o=e.i(33368),l=e.i(29738),u=e.i(55923);let a=(0,o.pgEnum)("language_code",["en","es","fr","de"]),d=(0,t.pgTable)("course_translations",{id:(0,i.uuid)("id").primaryKey().defaultRandom(),courseId:(0,i.uuid)("course_id").notNull().references(()=>u.courses.id,{onDelete:"cascade"}),languageCode:a("language_code").notNull(),title:(0,n.text)("title").notNull(),description:(0,n.text)("description"),createdAt:(0,s.timestamp)("created_at").defaultNow().notNull(),updatedAt:(0,s.timestamp)("updated_at").defaultNow().notNull()}),r=(0,l.relations)(d,({one:e})=>({course:e(u.courses,{fields:[d.courseId],references:[u.courses.id]})}))},34565,18963,73253,29580,44713,e=>{"use strict";e.s(["courseSections",()=>w,"courseSectionsRelations",()=>x],34565);var t=e.i(16627),i=e.i(62223),n=e.i(31861),s=e.i(77286),o=e.i(73835),l=e.i(81434),u=e.i(93012),a=e.i(29738),d=e.i(55923);e.s(["contentBlockTypeEnum",()=>N,"contentBlocks",()=>g,"contentBlocksRelations",()=>y],73253);var r=e.i(66392),c=e.i(33368),p=e.i(22846);e.s(["contentBlockTranslations",()=>f,"contentBlockTranslationsRelations",()=>_],18963);var m=e.i(33299);let f=(0,t.pgTable)("content_block_translations",{id:(0,i.uuid)("id").primaryKey().defaultRandom(),contentBlockId:(0,i.uuid)("content_block_id").notNull().references(()=>g.id,{onDelete:"cascade"}),languageCode:(0,m.languageCodeEnum)("language_code").notNull(),content:(0,r.jsonb)("content").notNull(),createdAt:(0,s.timestamp)("created_at").defaultNow().notNull(),updatedAt:(0,s.timestamp)("updated_at").defaultNow().notNull()}),_=(0,a.relations)(f,({one:e})=>({contentBlock:e(g,{fields:[f.contentBlockId],references:[g.id]})})),N=(0,c.pgEnum)("content_block_type",["hero","text","card","image","table","list","grid","callout","quote","divider","video","audio"]),g=(0,t.pgTable)("content_blocks",{id:(0,i.uuid)("id").primaryKey().defaultRandom(),sectionId:(0,i.uuid)("section_id").notNull().references(()=>w.id,{onDelete:"cascade"}),blockType:N("block_type").notNull(),orderIndex:(0,l.integer)("order_index").notNull(),content:(0,r.jsonb)("content").notNull(),metadata:(0,r.jsonb)("metadata"),createdAt:(0,s.timestamp)("created_at").defaultNow().notNull(),updatedAt:(0,s.timestamp)("updated_at").defaultNow().notNull()},e=>({sectionOrderUnique:(0,u.unique)("content_blocks_section_order_unique").on(e.sectionId,e.orderIndex)})),y=(0,a.relations)(g,({one:e,many:t})=>({section:e(w,{fields:[g.sectionId],references:[w.id]}),contentInteractions:t(p.contentInteractions),contentBlockTranslations:t(f)}));var I=e.i(77209);e.s(["userProgress",()=>q,"userProgressRelations",()=>v],29580);let q=(0,t.pgTable)("user_progress",{id:(0,i.uuid)("id").primaryKey().defaultRandom(),userId:(0,n.text)("user_id").notNull(),courseId:(0,i.uuid)("course_id").notNull().references(()=>d.courses.id,{onDelete:"cascade"}),sectionId:(0,i.uuid)("section_id").notNull().references(()=>w.id,{onDelete:"cascade"}),isCompleted:(0,o.boolean)("is_completed").default(!1).notNull(),completionPercentage:(0,l.integer)("completion_percentage").default(0).notNull(),timeSpentSeconds:(0,l.integer)("time_spent_seconds").default(0).notNull(),lastAccessedAt:(0,s.timestamp)("last_accessed_at").defaultNow().notNull(),completedAt:(0,s.timestamp)("completed_at"),createdAt:(0,s.timestamp)("created_at").defaultNow().notNull(),updatedAt:(0,s.timestamp)("updated_at").defaultNow().notNull()},e=>({userSectionUnique:(0,u.unique)("user_progress_user_section_unique").on(e.userId,e.sectionId)})),v=(0,a.relations)(q,({one:e})=>({course:e(d.courses,{fields:[q.courseId],references:[d.courses.id]}),section:e(w,{fields:[q.sectionId],references:[w.id]})}));e.s(["sectionTranslations",()=>b,"sectionTranslationsRelations",()=>A],44713);let b=(0,t.pgTable)("section_translations",{id:(0,i.uuid)("id").primaryKey().defaultRandom(),sectionId:(0,i.uuid)("section_id").notNull().references(()=>w.id,{onDelete:"cascade"}),languageCode:(0,m.languageCodeEnum)("language_code").notNull(),title:(0,n.text)("title").notNull(),createdAt:(0,s.timestamp)("created_at").defaultNow().notNull(),updatedAt:(0,s.timestamp)("updated_at").defaultNow().notNull()}),A=(0,a.relations)(b,({one:e})=>({section:e(w,{fields:[b.sectionId],references:[w.id]})})),w=(0,t.pgTable)("course_sections",{id:(0,i.uuid)("id").primaryKey().defaultRandom(),courseId:(0,i.uuid)("course_id").notNull().references(()=>d.courses.id,{onDelete:"cascade"}),sectionKey:(0,n.text)("section_key").notNull(),title:(0,n.text)("title").notNull(),orderIndex:(0,l.integer)("order_index").notNull(),iconName:(0,n.text)("icon_name"),isPublished:(0,o.boolean)("is_published").default(!1).notNull(),createdAt:(0,s.timestamp)("created_at").defaultNow().notNull(),updatedAt:(0,s.timestamp)("updated_at").defaultNow().notNull()},e=>({courseSectionUnique:(0,u.unique)("course_sections_course_section_unique").on(e.courseId,e.sectionKey),courseOrderUnique:(0,u.unique)("course_sections_course_order_unique").on(e.courseId,e.orderIndex)})),x=(0,a.relations)(w,({one:e,many:t})=>({course:e(d.courses,{fields:[w.courseId],references:[d.courses.id]}),contentBlocks:t(g),quizQuestions:t(I.quizQuestions),userProgress:t(q),sectionTranslations:t(b)}))},77209,62437,e=>{"use strict";e.s(["questionTypeEnum",()=>N,"quizQuestions",()=>g,"quizQuestionsRelations",()=>y],77209);var t=e.i(16627),i=e.i(62223),n=e.i(31861),s=e.i(77286),o=e.i(73835),l=e.i(81434),u=e.i(66392),a=e.i(33368),d=e.i(93012),r=e.i(29738),c=e.i(34565),p=e.i(43048);e.s(["quizQuestionTranslations",()=>f,"quizQuestionTranslationsRelations",()=>_],62437);var m=e.i(33299);let f=(0,t.pgTable)("quiz_question_translations",{id:(0,i.uuid)("id").primaryKey().defaultRandom(),quizQuestionId:(0,i.uuid)("quiz_question_id").notNull().references(()=>g.id,{onDelete:"cascade"}),languageCode:(0,m.languageCodeEnum)("language_code").notNull(),questionText:(0,n.text)("question_text").notNull(),options:(0,u.jsonb)("options"),correctAnswer:(0,u.jsonb)("correct_answer").notNull(),explanation:(0,n.text)("explanation"),createdAt:(0,s.timestamp)("created_at").defaultNow().notNull(),updatedAt:(0,s.timestamp)("updated_at").defaultNow().notNull()}),_=(0,r.relations)(f,({one:e})=>({quizQuestion:e(g,{fields:[f.quizQuestionId],references:[g.id]})})),N=(0,a.pgEnum)("question_type",["true-false","multiple-choice"]),g=(0,t.pgTable)("quiz_questions",{id:(0,i.uuid)("id").primaryKey().defaultRandom(),sectionId:(0,i.uuid)("section_id").notNull().references(()=>c.courseSections.id,{onDelete:"cascade"}),questionKey:(0,n.text)("question_key").notNull(),questionType:N("question_type").notNull(),questionText:(0,n.text)("question_text").notNull(),options:(0,u.jsonb)("options"),correctAnswer:(0,u.jsonb)("correct_answer").notNull(),explanation:(0,n.text)("explanation"),orderIndex:(0,l.integer)("order_index").default(0).notNull(),isPublished:(0,o.boolean)("is_published").default(!1).notNull(),createdAt:(0,s.timestamp)("created_at").defaultNow().notNull(),updatedAt:(0,s.timestamp)("updated_at").defaultNow().notNull()},e=>({sectionKeyUnique:(0,d.unique)("quiz_questions_section_key_unique").on(e.sectionId,e.questionKey)})),y=(0,r.relations)(g,({one:e,many:t})=>({section:e(c.courseSections,{fields:[g.sectionId],references:[c.courseSections.id]}),quizAttempts:t(p.quizAttempts),quizQuestionTranslations:t(f)}))}];

//# sourceMappingURL=apps_safety-lms_src_lib_db_schema_b4d0b0e8._.js.map