module.exports = [
"[project]/apps/safety-lms/.next-internal/server/app/api/translations/[courseId]/route/actions.js [app-rsc] (server actions loader, ecmascript)", ((__turbopack_context__, module, exports) => {

}),
"[externals]/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js [external] (next/dist/compiled/next-server/app-route-turbo.runtime.dev.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/compiled/next-server/app-route-turbo.runtime.dev.js", () => require("next/dist/compiled/next-server/app-route-turbo.runtime.dev.js"));

module.exports = mod;
}),
"[externals]/next/dist/compiled/@opentelemetry/api [external] (next/dist/compiled/@opentelemetry/api, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/compiled/@opentelemetry/api", () => require("next/dist/compiled/@opentelemetry/api"));

module.exports = mod;
}),
"[externals]/next/dist/compiled/next-server/app-page-turbo.runtime.dev.js [external] (next/dist/compiled/next-server/app-page-turbo.runtime.dev.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/compiled/next-server/app-page-turbo.runtime.dev.js", () => require("next/dist/compiled/next-server/app-page-turbo.runtime.dev.js"));

module.exports = mod;
}),
"[externals]/next/dist/server/app-render/work-unit-async-storage.external.js [external] (next/dist/server/app-render/work-unit-async-storage.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/server/app-render/work-unit-async-storage.external.js", () => require("next/dist/server/app-render/work-unit-async-storage.external.js"));

module.exports = mod;
}),
"[externals]/next/dist/server/app-render/work-async-storage.external.js [external] (next/dist/server/app-render/work-async-storage.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/server/app-render/work-async-storage.external.js", () => require("next/dist/server/app-render/work-async-storage.external.js"));

module.exports = mod;
}),
"[externals]/next/dist/shared/lib/no-fallback-error.external.js [external] (next/dist/shared/lib/no-fallback-error.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/shared/lib/no-fallback-error.external.js", () => require("next/dist/shared/lib/no-fallback-error.external.js"));

module.exports = mod;
}),
"[externals]/next/dist/server/app-render/after-task-async-storage.external.js [external] (next/dist/server/app-render/after-task-async-storage.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/server/app-render/after-task-async-storage.external.js", () => require("next/dist/server/app-render/after-task-async-storage.external.js"));

module.exports = mod;
}),
"[externals]/next/dist/server/app-render/action-async-storage.external.js [external] (next/dist/server/app-render/action-async-storage.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/server/app-render/action-async-storage.external.js", () => require("next/dist/server/app-render/action-async-storage.external.js"));

module.exports = mod;
}),
"[externals]/os [external] (os, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("os", () => require("os"));

module.exports = mod;
}),
"[externals]/fs [external] (fs, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("fs", () => require("fs"));

module.exports = mod;
}),
"[externals]/net [external] (net, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("net", () => require("net"));

module.exports = mod;
}),
"[externals]/tls [external] (tls, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("tls", () => require("tls"));

module.exports = mod;
}),
"[externals]/crypto [external] (crypto, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("crypto", () => require("crypto"));

module.exports = mod;
}),
"[externals]/stream [external] (stream, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("stream", () => require("stream"));

module.exports = mod;
}),
"[externals]/perf_hooks [external] (perf_hooks, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("perf_hooks", () => require("perf_hooks"));

module.exports = mod;
}),
"[project]/apps/safety-lms/src/lib/db/schema/enrollments.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "enrollmentStatusEnum",
    ()=>enrollmentStatusEnum,
    "enrollments",
    ()=>enrollments,
    "enrollmentsRelations",
    ()=>enrollmentsRelations
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/table.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/uuid.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/timestamp.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/enum.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$relations$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/relations.js [app-route] (ecmascript)");
// Import other tables for relations (circular import handling)
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/profiles.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$courses$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/courses.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$plants$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/plants.ts [app-route] (ecmascript)");
;
;
const enrollmentStatusEnum = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgEnum"])("enrollment_status", [
    "enrolled",
    "in_progress",
    "completed"
]);
const enrollments = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgTable"])("enrollments", {
    id: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("id").primaryKey().defaultRandom(),
    userId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("user_id").notNull().references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["profiles"].id),
    courseId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("course_id").notNull().references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$courses$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courses"].id),
    plantId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("plant_id").notNull().references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$plants$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["plants"].id),
    status: enrollmentStatusEnum("status").default("enrolled").notNull(),
    enrolledAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("enrolled_at").defaultNow().notNull(),
    completedAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("completed_at"),
    createdAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("created_at").defaultNow().notNull(),
    updatedAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("updated_at").defaultNow().notNull()
});
const enrollmentsRelations = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$relations$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["relations"])(enrollments, ({ one })=>({
        user: one(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["profiles"], {
            fields: [
                enrollments.userId
            ],
            references: [
                __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["profiles"].id
            ]
        }),
        course: one(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$courses$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courses"], {
            fields: [
                enrollments.courseId
            ],
            references: [
                __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$courses$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courses"].id
            ]
        }),
        plant: one(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$plants$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["plants"], {
            fields: [
                enrollments.plantId
            ],
            references: [
                __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$plants$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["plants"].id
            ]
        })
    }));
;
;
;
}),
"[project]/apps/safety-lms/src/lib/db/schema/progress.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "progress",
    ()=>progress,
    "progressRelations",
    ()=>progressRelations
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/table.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/uuid.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/text.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/timestamp.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/integer.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$relations$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/relations.js [app-route] (ecmascript)");
// Import other tables for relations (circular import handling)
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/profiles.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$courses$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/courses.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$plants$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/plants.ts [app-route] (ecmascript)");
;
;
const progress = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgTable"])("progress", {
    id: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("id").primaryKey().defaultRandom(),
    userId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("user_id").notNull().references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["profiles"].id),
    courseId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("course_id").notNull().references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$courses$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courses"].id),
    plantId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("plant_id").notNull().references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$plants$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["plants"].id),
    progressPercent: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["integer"])("progress_percent").default(0).notNull(),
    currentSection: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("current_section"),
    lastActiveAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("last_active_at").defaultNow().notNull(),
    createdAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("created_at").defaultNow().notNull(),
    updatedAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("updated_at").defaultNow().notNull()
});
const progressRelations = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$relations$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["relations"])(progress, ({ one })=>({
        user: one(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["profiles"], {
            fields: [
                progress.userId
            ],
            references: [
                __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["profiles"].id
            ]
        }),
        course: one(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$courses$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courses"], {
            fields: [
                progress.courseId
            ],
            references: [
                __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$courses$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courses"].id
            ]
        }),
        plant: one(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$plants$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["plants"], {
            fields: [
                progress.plantId
            ],
            references: [
                __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$plants$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["plants"].id
            ]
        })
    }));
;
;
;
}),
"[project]/apps/safety-lms/src/lib/db/schema/activity-events.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "activityEvents",
    ()=>activityEvents,
    "activityEventsRelations",
    ()=>activityEventsRelations,
    "eventTypeEnum",
    ()=>eventTypeEnum
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/table.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/uuid.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/timestamp.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$jsonb$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/jsonb.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/enum.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$relations$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/relations.js [app-route] (ecmascript)");
// Import other tables for relations (circular import handling)
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/profiles.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$courses$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/courses.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$plants$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/plants.ts [app-route] (ecmascript)");
;
;
const eventTypeEnum = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgEnum"])("event_type", [
    "view_section",
    "start_course",
    "complete_course"
]);
const activityEvents = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgTable"])("activity_events", {
    id: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("id").primaryKey().defaultRandom(),
    userId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("user_id").notNull().references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["profiles"].id),
    courseId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("course_id").notNull().references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$courses$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courses"].id),
    plantId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("plant_id").notNull().references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$plants$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["plants"].id),
    eventType: eventTypeEnum("event_type").notNull(),
    meta: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$jsonb$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["jsonb"])("meta"),
    occurredAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("occurred_at").defaultNow().notNull(),
    createdAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("created_at").defaultNow().notNull()
});
const activityEventsRelations = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$relations$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["relations"])(activityEvents, ({ one })=>({
        user: one(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["profiles"], {
            fields: [
                activityEvents.userId
            ],
            references: [
                __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["profiles"].id
            ]
        }),
        course: one(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$courses$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courses"], {
            fields: [
                activityEvents.courseId
            ],
            references: [
                __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$courses$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courses"].id
            ]
        }),
        plant: one(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$plants$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["plants"], {
            fields: [
                activityEvents.plantId
            ],
            references: [
                __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$plants$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["plants"].id
            ]
        })
    }));
;
;
;
}),
"[project]/apps/safety-lms/src/lib/db/schema/question-events.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "questionEvents",
    ()=>questionEvents,
    "questionEventsRelations",
    ()=>questionEventsRelations
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/table.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/uuid.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/text.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/timestamp.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$boolean$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/boolean.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/integer.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$jsonb$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/jsonb.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$relations$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/relations.js [app-route] (ecmascript)");
// Import other tables for relations (circular import handling)
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/profiles.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$courses$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/courses.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$plants$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/plants.ts [app-route] (ecmascript)");
;
;
const questionEvents = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgTable"])("question_events", {
    id: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("id").primaryKey().defaultRandom(),
    userId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("user_id").notNull().references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["profiles"].id),
    courseId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("course_id").notNull().references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$courses$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courses"].id),
    plantId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("plant_id").notNull().references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$plants$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["plants"].id),
    sectionKey: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("section_key").notNull(),
    questionKey: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("question_key").notNull(),
    isCorrect: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$boolean$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["boolean"])("is_correct").notNull(),
    attemptIndex: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["integer"])("attempt_index").default(1).notNull(),
    responseMeta: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$jsonb$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["jsonb"])("response_meta"),
    answeredAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("answered_at").defaultNow().notNull(),
    createdAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("created_at").defaultNow().notNull()
});
const questionEventsRelations = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$relations$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["relations"])(questionEvents, ({ one })=>({
        user: one(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["profiles"], {
            fields: [
                questionEvents.userId
            ],
            references: [
                __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["profiles"].id
            ]
        }),
        course: one(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$courses$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courses"], {
            fields: [
                questionEvents.courseId
            ],
            references: [
                __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$courses$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courses"].id
            ]
        }),
        plant: one(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$plants$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["plants"], {
            fields: [
                questionEvents.plantId
            ],
            references: [
                __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$plants$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["plants"].id
            ]
        })
    }));
;
;
;
}),
"[project]/apps/safety-lms/src/lib/db/schema/courses.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "courses",
    ()=>courses,
    "coursesRelations",
    ()=>coursesRelations
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/table.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/uuid.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/text.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/timestamp.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$boolean$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/boolean.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$relations$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/relations.js [app-route] (ecmascript)");
// Import other tables for relations (circular import handling)
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$enrollments$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/enrollments.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/progress.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$activity$2d$events$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/activity-events.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$question$2d$events$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/question-events.ts [app-route] (ecmascript)");
;
;
const courses = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgTable"])("courses", {
    id: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("id").primaryKey().defaultRandom(),
    slug: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("slug").notNull().unique(),
    title: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("title").notNull(),
    version: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("version").default("1.0").notNull(),
    isPublished: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$boolean$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["boolean"])("is_published").default(false).notNull(),
    createdAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("created_at").defaultNow().notNull(),
    updatedAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("updated_at").defaultNow().notNull()
});
const coursesRelations = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$relations$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["relations"])(courses, ({ many })=>({
        enrollments: many(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$enrollments$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["enrollments"]),
        progress: many(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["progress"]),
        activityEvents: many(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$activity$2d$events$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["activityEvents"]),
        questionEvents: many(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$question$2d$events$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["questionEvents"])
    }));
;
;
;
;
}),
"[project]/apps/safety-lms/src/lib/db/schema/admin-roles.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "adminRoleEnum",
    ()=>adminRoleEnum,
    "adminRoles",
    ()=>adminRoles,
    "adminRolesRelations",
    ()=>adminRolesRelations
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/table.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/uuid.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/timestamp.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/enum.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$relations$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/relations.js [app-route] (ecmascript)");
// Import other tables for relations (circular import handling)
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/profiles.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$plants$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/plants.ts [app-route] (ecmascript)");
;
;
const adminRoleEnum = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgEnum"])("admin_role", [
    "hr_admin",
    "dev_admin",
    "plant_manager"
]);
const adminRoles = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgTable"])("admin_roles", {
    id: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("id").primaryKey().defaultRandom(),
    userId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("user_id").notNull().references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["profiles"].id),
    role: adminRoleEnum("role").notNull(),
    plantId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("plant_id").references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$plants$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["plants"].id),
    createdAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("created_at").defaultNow().notNull(),
    updatedAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("updated_at").defaultNow().notNull()
});
const adminRolesRelations = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$relations$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["relations"])(adminRoles, ({ one })=>({
        user: one(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["profiles"], {
            fields: [
                adminRoles.userId
            ],
            references: [
                __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["profiles"].id
            ]
        }),
        plant: one(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$plants$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["plants"], {
            fields: [
                adminRoles.plantId
            ],
            references: [
                __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$plants$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["plants"].id
            ]
        })
    }));
;
;
}),
"[project]/apps/safety-lms/src/lib/db/schema/plants.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "plants",
    ()=>plants,
    "plantsRelations",
    ()=>plantsRelations
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/table.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/uuid.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/text.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/timestamp.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$boolean$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/boolean.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$relations$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/relations.js [app-route] (ecmascript)");
// Import other tables for relations (circular import handling)
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/profiles.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$courses$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/courses.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$enrollments$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/enrollments.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/progress.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$activity$2d$events$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/activity-events.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$question$2d$events$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/question-events.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$admin$2d$roles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/admin-roles.ts [app-route] (ecmascript)");
;
;
const plants = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgTable"])("plants", {
    id: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("id").primaryKey().defaultRandom(),
    name: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("name").notNull().unique(),
    isActive: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$boolean$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["boolean"])("is_active").default(true).notNull(),
    createdAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("created_at").defaultNow().notNull(),
    updatedAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("updated_at").defaultNow().notNull()
});
const plantsRelations = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$relations$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["relations"])(plants, ({ many })=>({
        profiles: many(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["profiles"]),
        courses: many(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$courses$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courses"]),
        enrollments: many(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$enrollments$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["enrollments"]),
        progress: many(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["progress"]),
        activityEvents: many(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$activity$2d$events$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["activityEvents"]),
        questionEvents: many(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$question$2d$events$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["questionEvents"]),
        adminRoles: many(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$admin$2d$roles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["adminRoles"])
    }));
;
;
;
;
;
;
;
}),
"[project]/apps/safety-lms/src/lib/db/schema/profiles.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "profiles",
    ()=>profiles,
    "profilesRelations",
    ()=>profilesRelations,
    "userStatusEnum",
    ()=>userStatusEnum
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/table.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/uuid.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/text.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/timestamp.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/enum.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$relations$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/relations.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$plants$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/plants.ts [app-route] (ecmascript)");
;
;
;
const userStatusEnum = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgEnum"])("user_status", [
    "active",
    "suspended"
]);
const profiles = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgTable"])("profiles", {
    id: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("id").primaryKey(),
    plantId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("plant_id").notNull().references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$plants$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["plants"].id),
    firstName: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("first_name").notNull(),
    lastName: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("last_name").notNull(),
    email: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("email").notNull(),
    jobTitle: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("job_title"),
    status: userStatusEnum("status").default("active").notNull(),
    createdAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("created_at").defaultNow().notNull(),
    updatedAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("updated_at").defaultNow().notNull()
});
const profilesRelations = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$relations$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["relations"])(profiles, ({ one, many })=>({
        plant: one(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$plants$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["plants"], {
            fields: [
                profiles.plantId
            ],
            references: [
                __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$plants$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["plants"].id
            ]
        })
    }));
}),
"[project]/apps/safety-lms/src/lib/db/schema/audit-log.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "auditLog",
    ()=>auditLog,
    "auditLogRelations",
    ()=>auditLogRelations
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/table.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/uuid.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/text.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/timestamp.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$jsonb$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/jsonb.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$relations$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/relations.js [app-route] (ecmascript)");
// Import other tables for relations (circular import handling)
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/profiles.ts [app-route] (ecmascript)");
;
;
const auditLog = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgTable"])("audit_log", {
    id: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("id").primaryKey().defaultRandom(),
    tableName: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("table_name").notNull(),
    operation: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("operation").notNull(),
    oldData: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$jsonb$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["jsonb"])("old_data"),
    newData: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$jsonb$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["jsonb"])("new_data"),
    userId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("user_id").references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["profiles"].id),
    occurredAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("occurred_at").defaultNow().notNull()
});
const auditLogRelations = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$relations$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["relations"])(auditLog, ({ one })=>({
        user: one(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["profiles"], {
            fields: [
                auditLog.userId
            ],
            references: [
                __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["profiles"].id
            ]
        })
    }));
;
}),
"[project]/apps/safety-lms/src/lib/db/schema/territories.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "territories",
    ()=>territories
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/table.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/uuid.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/text.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/timestamp.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$boolean$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/boolean.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/indexes.js [app-route] (ecmascript)");
;
const territories = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgTable"])("territories", {
    id: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("id").primaryKey().defaultRandom(),
    name: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("name").notNull().unique(),
    code: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("code").notNull().unique(),
    description: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("description"),
    region: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("region"),
    isActive: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$boolean$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["boolean"])("is_active").default(true).notNull(),
    createdAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("created_at").defaultNow().notNull(),
    updatedAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("updated_at").defaultNow().notNull()
}, (table)=>({
        nameIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("territories_name_idx").on(table.name),
        codeIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("territories_code_idx").on(table.code),
        regionIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("territories_region_idx").on(table.region),
        activeIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("territories_active_idx").on(table.isActive)
    }));
}),
"[project]/apps/safety-lms/src/lib/db/schema/user-profiles.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "userProfiles",
    ()=>userProfiles,
    "userRoleEnum",
    ()=>userRoleEnum
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/table.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/uuid.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/text.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/timestamp.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$boolean$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/boolean.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/enum.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/indexes.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$territories$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/territories.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/profiles.ts [app-route] (ecmascript)");
;
;
;
const userRoleEnum = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgEnum"])("user_role", [
    "safety_admin",
    "safety_manager",
    "safety_coordinator",
    "safety_instructor",
    "safety_rep",
    "plant_manager",
    "hr_admin",
    "employee"
]);
const userProfiles = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgTable"])("user_profiles", {
    id: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("id").primaryKey(),
    authUserId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("auth_user_id").notNull().unique(),
    territoryId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("territory_id").notNull().references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$territories$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["territories"].id),
    firstName: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("first_name").notNull(),
    lastName: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("last_name").notNull(),
    email: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("email").notNull().unique(),
    phone: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("phone"),
    jobTitle: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("job_title"),
    department: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("department"),
    role: userRoleEnum("role").default("employee").notNull(),
    status: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userStatusEnum"])("status").default("active").notNull(),
    isActive: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$boolean$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["boolean"])("is_active").default(true).notNull(),
    lastLoginAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("last_login_at"),
    createdAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("created_at").defaultNow().notNull(),
    updatedAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("updated_at").defaultNow().notNull(),
    createdBy: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("created_by")
}, (table)=>({
        authUserIdIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("user_profiles_auth_user_id_idx").on(table.authUserId),
        territoryIdIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("user_profiles_territory_id_idx").on(table.territoryId),
        emailIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("user_profiles_email_idx").on(table.email),
        roleIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("user_profiles_role_idx").on(table.role),
        statusIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("user_profiles_status_idx").on(table.status),
        activeIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("user_profiles_active_idx").on(table.isActive)
    }));
}),
"[project]/apps/safety-lms/src/lib/db/schema/accounts.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "accountStatusEnum",
    ()=>accountStatusEnum,
    "accountTypeEnum",
    ()=>accountTypeEnum,
    "accounts",
    ()=>accounts,
    "industryEnum",
    ()=>industryEnum
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/table.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/uuid.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/text.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/timestamp.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$boolean$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/boolean.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/enum.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/indexes.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$numeric$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/numeric.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$territories$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/territories.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/user-profiles.ts [app-route] (ecmascript)");
;
;
;
const accountTypeEnum = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgEnum"])("account_type", [
    "safety_equipment_customer",
    "training_client",
    "consulting_client",
    "maintenance_client",
    "partner",
    "vendor"
]);
const accountStatusEnum = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgEnum"])("account_status", [
    "active",
    "inactive",
    "suspended",
    "closed"
]);
const industryEnum = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgEnum"])("industry", [
    "manufacturing",
    "construction",
    "oil_gas",
    "chemical",
    "mining",
    "utilities",
    "transportation",
    "healthcare",
    "agriculture",
    "other"
]);
const accounts = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgTable"])("accounts", {
    id: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("id").primaryKey().defaultRandom(),
    territoryId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("territory_id").notNull().references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$territories$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["territories"].id),
    ownerId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("owner_id").notNull().references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProfiles"].id),
    name: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("name").notNull(),
    accountNumber: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("account_number").unique(),
    type: accountTypeEnum("type").default("safety_equipment_customer").notNull(),
    status: accountStatusEnum("status").default("active").notNull(),
    industry: industryEnum("industry"),
    website: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("website"),
    phone: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("phone"),
    email: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("email"),
    description: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("description"),
    annualRevenue: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$numeric$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["decimal"])("annual_revenue", {
        precision: 15,
        scale: 2
    }),
    employeeCount: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("employee_count"),
    safetyComplianceLevel: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("safety_compliance_level"),
    billingAddress: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("billing_address"),
    shippingAddress: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("shipping_address"),
    isActive: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$boolean$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["boolean"])("is_active").default(true).notNull(),
    createdAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("created_at").defaultNow().notNull(),
    updatedAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("updated_at").defaultNow().notNull(),
    createdBy: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("created_by").notNull().references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProfiles"].id)
}, (table)=>({
        territoryIdIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("accounts_territory_id_idx").on(table.territoryId),
        ownerIdIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("accounts_owner_id_idx").on(table.ownerId),
        nameIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("accounts_name_idx").on(table.name),
        accountNumberIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("accounts_account_number_idx").on(table.accountNumber),
        typeIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("accounts_type_idx").on(table.type),
        statusIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("accounts_status_idx").on(table.status),
        industryIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("accounts_industry_idx").on(table.industry),
        activeIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("accounts_active_idx").on(table.isActive)
    }));
}),
"[project]/apps/safety-lms/src/lib/db/schema/branches.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "branches",
    ()=>branches
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/table.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/uuid.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/text.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/timestamp.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$boolean$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/boolean.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/indexes.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$accounts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/accounts.ts [app-route] (ecmascript)");
;
;
const branches = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgTable"])("branches", {
    id: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("id").primaryKey().defaultRandom(),
    accountId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("account_id").notNull().references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$accounts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["accounts"].id),
    name: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("name").notNull(),
    branchCode: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("branch_code"),
    address: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("address").notNull(),
    city: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("city").notNull(),
    state: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("state").notNull(),
    postalCode: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("postal_code").notNull(),
    country: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("country").default("US").notNull(),
    phone: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("phone"),
    email: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("email"),
    contactPerson: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("contact_person"),
    safetyManager: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("safety_manager"),
    isPrimary: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$boolean$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["boolean"])("is_primary").default(false).notNull(),
    isActive: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$boolean$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["boolean"])("is_active").default(true).notNull(),
    createdAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("created_at").defaultNow().notNull(),
    updatedAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("updated_at").defaultNow().notNull()
}, (table)=>({
        accountIdIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("branches_account_id_idx").on(table.accountId),
        nameIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("branches_name_idx").on(table.name),
        branchCodeIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("branches_branch_code_idx").on(table.branchCode),
        cityIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("branches_city_idx").on(table.city),
        stateIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("branches_state_idx").on(table.state),
        primaryIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("branches_primary_idx").on(table.isPrimary),
        activeIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("branches_active_idx").on(table.isActive)
    }));
}),
"[project]/apps/safety-lms/src/lib/db/schema/contacts.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "contactRoleEnum",
    ()=>contactRoleEnum,
    "contactStatusEnum",
    ()=>contactStatusEnum,
    "contacts",
    ()=>contacts
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/table.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/uuid.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/text.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/timestamp.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$boolean$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/boolean.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/enum.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/indexes.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$accounts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/accounts.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$branches$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/branches.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/user-profiles.ts [app-route] (ecmascript)");
;
;
;
;
const contactRoleEnum = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgEnum"])("contact_role", [
    "safety_manager",
    "safety_coordinator",
    "safety_instructor",
    "hr_manager",
    "plant_manager",
    "purchasing_manager",
    "decision_maker",
    "influencer",
    "user",
    "other"
]);
const contactStatusEnum = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgEnum"])("contact_status", [
    "active",
    "inactive",
    "do_not_contact"
]);
const contacts = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgTable"])("contacts", {
    id: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("id").primaryKey().defaultRandom(),
    accountId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("account_id").notNull().references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$accounts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["accounts"].id),
    branchId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("branch_id").references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$branches$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["branches"].id),
    ownerId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("owner_id").notNull().references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProfiles"].id),
    firstName: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("first_name").notNull(),
    lastName: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("last_name").notNull(),
    email: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("email").notNull(),
    phone: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("phone"),
    mobile: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("mobile"),
    jobTitle: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("job_title"),
    department: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("department"),
    role: contactRoleEnum("role").default("user").notNull(),
    status: contactStatusEnum("status").default("active").notNull(),
    isPrimary: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$boolean$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["boolean"])("is_primary").default(false).notNull(),
    safetyCertifications: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("safety_certifications"),
    notes: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("notes"),
    isActive: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$boolean$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["boolean"])("is_active").default(true).notNull(),
    createdAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("created_at").defaultNow().notNull(),
    updatedAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("updated_at").defaultNow().notNull(),
    createdBy: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("created_by").notNull().references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProfiles"].id)
}, (table)=>({
        accountIdIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("contacts_account_id_idx").on(table.accountId),
        branchIdIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("contacts_branch_id_idx").on(table.branchId),
        ownerIdIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("contacts_owner_id_idx").on(table.ownerId),
        emailIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("contacts_email_idx").on(table.email),
        nameIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("contacts_name_idx").on(table.firstName, table.lastName),
        roleIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("contacts_role_idx").on(table.role),
        statusIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("contacts_status_idx").on(table.status),
        primaryIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("contacts_primary_idx").on(table.isPrimary),
        activeIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("contacts_active_idx").on(table.isActive)
    }));
}),
"[project]/apps/safety-lms/src/lib/db/schema/activity-logs.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "activityLogs",
    ()=>activityLogs,
    "activityPriorityEnum",
    ()=>activityPriorityEnum,
    "activityStatusEnum",
    ()=>activityStatusEnum,
    "activityTypeEnum",
    ()=>activityTypeEnum
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/table.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/uuid.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/text.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/timestamp.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$boolean$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/boolean.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/enum.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/indexes.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$accounts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/accounts.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$contacts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/contacts.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/user-profiles.ts [app-route] (ecmascript)");
;
;
;
;
const activityTypeEnum = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgEnum"])("activity_type", [
    "safety_consultation",
    "equipment_demo",
    "training_session",
    "safety_audit",
    "compliance_review",
    "incident_follow_up",
    "proposal_presentation",
    "follow_up_call",
    "site_visit",
    "note",
    "task",
    "other"
]);
const activityStatusEnum = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgEnum"])("activity_status", [
    "completed",
    "pending",
    "cancelled",
    "rescheduled"
]);
const activityPriorityEnum = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgEnum"])("activity_priority", [
    "low",
    "medium",
    "high",
    "urgent"
]);
const activityLogs = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgTable"])("activity_logs", {
    id: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("id").primaryKey().defaultRandom(),
    accountId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("account_id").references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$accounts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["accounts"].id),
    contactId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("contact_id").references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$contacts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contacts"].id),
    userId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("user_id").notNull().references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProfiles"].id),
    type: activityTypeEnum("type").notNull(),
    subject: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("subject").notNull(),
    description: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("description"),
    status: activityStatusEnum("status").default("completed").notNull(),
    priority: activityPriorityEnum("priority").default("medium").notNull(),
    scheduledAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("scheduled_at"),
    completedAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("completed_at"),
    duration: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("duration"),
    outcome: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("outcome"),
    nextSteps: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("next_steps"),
    safetyNotes: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("safety_notes"),
    isActive: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$boolean$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["boolean"])("is_active").default(true).notNull(),
    createdAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("created_at").defaultNow().notNull(),
    updatedAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("updated_at").defaultNow().notNull()
}, (table)=>({
        accountIdIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("activity_logs_account_id_idx").on(table.accountId),
        contactIdIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("activity_logs_contact_id_idx").on(table.contactId),
        userIdIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("activity_logs_user_id_idx").on(table.userId),
        typeIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("activity_logs_type_idx").on(table.type),
        statusIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("activity_logs_status_idx").on(table.status),
        priorityIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("activity_logs_priority_idx").on(table.priority),
        scheduledAtIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("activity_logs_scheduled_at_idx").on(table.scheduledAt),
        completedAtIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("activity_logs_completed_at_idx").on(table.completedAt),
        activeIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("activity_logs_active_idx").on(table.isActive)
    }));
}),
"[project]/apps/safety-lms/src/lib/db/schema/opportunities.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "opportunities",
    ()=>opportunities,
    "opportunitySourceEnum",
    ()=>opportunitySourceEnum,
    "opportunityStageEnum",
    ()=>opportunityStageEnum,
    "opportunityStatusEnum",
    ()=>opportunityStatusEnum,
    "opportunityTypeEnum",
    ()=>opportunityTypeEnum,
    "probabilityEnum",
    ()=>probabilityEnum
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/table.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/uuid.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/text.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/timestamp.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$boolean$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/boolean.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/enum.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/indexes.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$numeric$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/numeric.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$accounts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/accounts.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$contacts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/contacts.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/user-profiles.ts [app-route] (ecmascript)");
;
;
;
;
const opportunityStageEnum = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgEnum"])("opportunity_stage", [
    "prospecting",
    "qualification",
    "needs_analysis",
    "proposal",
    "negotiation",
    "closed_won",
    "closed_lost"
]);
const opportunityStatusEnum = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgEnum"])("opportunity_status", [
    "open",
    "closed",
    "cancelled"
]);
const opportunitySourceEnum = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgEnum"])("opportunity_source", [
    "inbound",
    "outbound",
    "referral",
    "website",
    "trade_show",
    "safety_conference",
    "cold_call",
    "other"
]);
const opportunityTypeEnum = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgEnum"])("opportunity_type", [
    "safety_equipment",
    "safety_training",
    "safety_consulting",
    "safety_audit",
    "compliance_services",
    "maintenance_contract",
    "other"
]);
const probabilityEnum = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgEnum"])("probability", [
    "10",
    "20",
    "30",
    "40",
    "50",
    "60",
    "70",
    "80",
    "90",
    "100"
]);
const opportunities = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgTable"])("opportunities", {
    id: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("id").primaryKey().defaultRandom(),
    accountId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("account_id").notNull().references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$accounts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["accounts"].id),
    contactId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("contact_id").references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$contacts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contacts"].id),
    ownerId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("owner_id").notNull().references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProfiles"].id),
    name: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("name").notNull(),
    description: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("description"),
    type: opportunityTypeEnum("type").notNull(),
    stage: opportunityStageEnum("stage").default("prospecting").notNull(),
    status: opportunityStatusEnum("status").default("open").notNull(),
    source: opportunitySourceEnum("source"),
    probability: probabilityEnum("probability").default("10").notNull(),
    amount: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$numeric$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["decimal"])("amount", {
        precision: 15,
        scale: 2
    }),
    closeDate: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("close_date"),
    actualCloseDate: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("actual_close_date"),
    lostReason: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("lost_reason"),
    nextSteps: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("next_steps"),
    safetyRequirements: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("safety_requirements"),
    complianceNotes: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("compliance_notes"),
    notes: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("notes"),
    isActive: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$boolean$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["boolean"])("is_active").default(true).notNull(),
    createdAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("created_at").defaultNow().notNull(),
    updatedAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("updated_at").defaultNow().notNull(),
    createdBy: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("created_by").notNull().references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProfiles"].id)
}, (table)=>({
        accountIdIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("opportunities_account_id_idx").on(table.accountId),
        contactIdIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("opportunities_contact_id_idx").on(table.contactId),
        ownerIdIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("opportunities_owner_id_idx").on(table.ownerId),
        nameIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("opportunities_name_idx").on(table.name),
        typeIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("opportunities_type_idx").on(table.type),
        stageIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("opportunities_stage_idx").on(table.stage),
        statusIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("opportunities_status_idx").on(table.status),
        sourceIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("opportunities_source_idx").on(table.source),
        probabilityIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("opportunities_probability_idx").on(table.probability),
        closeDateIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("opportunities_close_date_idx").on(table.closeDate),
        activeIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("opportunities_active_idx").on(table.isActive)
    }));
}),
"[project]/apps/safety-lms/src/lib/db/schema/sales-facts.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "periodTypeEnum",
    ()=>periodTypeEnum,
    "salesFactTypeEnum",
    ()=>salesFactTypeEnum,
    "salesFacts",
    ()=>salesFacts
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/table.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/uuid.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/text.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/timestamp.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$boolean$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/boolean.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/enum.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/indexes.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$numeric$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/numeric.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/integer.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$accounts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/accounts.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$opportunities$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/opportunities.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/user-profiles.ts [app-route] (ecmascript)");
;
;
;
;
const salesFactTypeEnum = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgEnum"])("sales_fact_type", [
    "safety_equipment_revenue",
    "training_revenue",
    "consulting_revenue",
    "maintenance_revenue",
    "equipment_units_sold",
    "training_sessions_delivered",
    "consulting_hours",
    "contract_value",
    "renewal",
    "upsell",
    "cross_sell"
]);
const periodTypeEnum = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgEnum"])("period_type", [
    "daily",
    "weekly",
    "monthly",
    "quarterly",
    "yearly"
]);
const salesFacts = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgTable"])("sales_facts", {
    id: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("id").primaryKey().defaultRandom(),
    accountId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("account_id").notNull().references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$accounts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["accounts"].id),
    opportunityId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("opportunity_id").references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$opportunities$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["opportunities"].id),
    userId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("user_id").notNull().references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProfiles"].id),
    factType: salesFactTypeEnum("fact_type").notNull(),
    periodType: periodTypeEnum("period_type").notNull(),
    periodStart: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("period_start").notNull(),
    periodEnd: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("period_end").notNull(),
    amount: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$numeric$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["decimal"])("amount", {
        precision: 15,
        scale: 2
    }).notNull(),
    quantity: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["integer"])("quantity"),
    currency: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("currency").default("USD").notNull(),
    description: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("description"),
    safetyCategory: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("safety_category"),
    complianceStandard: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("compliance_standard"),
    isActive: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$boolean$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["boolean"])("is_active").default(true).notNull(),
    createdAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("created_at").defaultNow().notNull(),
    updatedAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("updated_at").defaultNow().notNull()
}, (table)=>({
        accountIdIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("sales_facts_account_id_idx").on(table.accountId),
        opportunityIdIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("sales_facts_opportunity_id_idx").on(table.opportunityId),
        userIdIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("sales_facts_user_id_idx").on(table.userId),
        factTypeIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("sales_facts_fact_type_idx").on(table.factType),
        periodTypeIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("sales_facts_period_type_idx").on(table.periodType),
        periodStartIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("sales_facts_period_start_idx").on(table.periodStart),
        periodEndIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("sales_facts_period_end_idx").on(table.periodEnd),
        safetyCategoryIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("sales_facts_safety_category_idx").on(table.safetyCategory),
        activeIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("sales_facts_active_idx").on(table.isActive)
    }));
}),
"[project]/apps/safety-lms/src/lib/db/schema/products.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "complianceStandardEnum",
    ()=>complianceStandardEnum,
    "productStatusEnum",
    ()=>productStatusEnum,
    "productTypeEnum",
    ()=>productTypeEnum,
    "products",
    ()=>products
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/table.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/uuid.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/text.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/timestamp.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$boolean$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/boolean.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/enum.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/indexes.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$numeric$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/numeric.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$territories$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/territories.ts [app-route] (ecmascript)");
;
;
const productTypeEnum = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgEnum"])("product_type", [
    "safety_equipment",
    "ppe",
    "safety_training",
    "safety_consulting",
    "safety_software",
    "safety_services",
    "maintenance_services",
    "other"
]);
const productStatusEnum = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgEnum"])("product_status", [
    "active",
    "inactive",
    "discontinued",
    "coming_soon"
]);
const complianceStandardEnum = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgEnum"])("compliance_standard", [
    "osha",
    "ansi",
    "niosh",
    "iso_45001",
    "iso_14001",
    "custom",
    "other"
]);
const products = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgTable"])("products", {
    id: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("id").primaryKey().defaultRandom(),
    territoryId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("territory_id").notNull().references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$territories$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["territories"].id),
    sku: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("sku").notNull().unique(),
    name: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("name").notNull(),
    description: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("description"),
    type: productTypeEnum("type").notNull(),
    status: productStatusEnum("status").default("active").notNull(),
    category: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("category"),
    subcategory: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("subcategory"),
    unitPrice: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$numeric$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["decimal"])("unit_price", {
        precision: 10,
        scale: 2
    }),
    currency: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("currency").default("USD").notNull(),
    unitOfMeasure: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("unit_of_measure"),
    weight: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$numeric$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["decimal"])("weight", {
        precision: 8,
        scale: 2
    }),
    dimensions: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("dimensions"),
    manufacturer: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("manufacturer"),
    model: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("model"),
    complianceStandards: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("compliance_standards"),
    safetyFeatures: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("safety_features"),
    specifications: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("specifications"),
    isActive: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$boolean$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["boolean"])("is_active").default(true).notNull(),
    createdAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("created_at").defaultNow().notNull(),
    updatedAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("updated_at").defaultNow().notNull()
}, (table)=>({
        territoryIdIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("products_territory_id_idx").on(table.territoryId),
        skuIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("products_sku_idx").on(table.sku),
        nameIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("products_name_idx").on(table.name),
        typeIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("products_type_idx").on(table.type),
        statusIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("products_status_idx").on(table.status),
        categoryIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("products_category_idx").on(table.category),
        subcategoryIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("products_subcategory_idx").on(table.subcategory),
        activeIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("products_active_idx").on(table.isActive)
    }));
}),
"[project]/apps/safety-lms/src/lib/db/schema/projects.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "projectPriorityEnum",
    ()=>projectPriorityEnum,
    "projectStatusEnum",
    ()=>projectStatusEnum,
    "projectTypeEnum",
    ()=>projectTypeEnum,
    "projects",
    ()=>projects
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/table.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/uuid.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/text.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/timestamp.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$boolean$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/boolean.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/enum.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/indexes.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$numeric$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/numeric.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$accounts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/accounts.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/user-profiles.ts [app-route] (ecmascript)");
;
;
;
const projectTypeEnum = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgEnum"])("project_type", [
    "safety_audit",
    "safety_consulting",
    "safety_training",
    "safety_equipment_installation",
    "compliance_assessment",
    "safety_system_implementation",
    "incident_investigation",
    "safety_program_development",
    "other"
]);
const projectStatusEnum = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgEnum"])("project_status", [
    "planning",
    "in_progress",
    "on_hold",
    "completed",
    "cancelled"
]);
const projectPriorityEnum = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgEnum"])("project_priority", [
    "low",
    "medium",
    "high",
    "urgent"
]);
const projects = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgTable"])("projects", {
    id: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("id").primaryKey().defaultRandom(),
    accountId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("account_id").notNull().references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$accounts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["accounts"].id),
    ownerId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("owner_id").notNull().references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProfiles"].id),
    name: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("name").notNull(),
    description: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("description"),
    type: projectTypeEnum("type").notNull(),
    status: projectStatusEnum("status").default("planning").notNull(),
    priority: projectPriorityEnum("priority").default("medium").notNull(),
    startDate: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("start_date"),
    endDate: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("end_date"),
    actualStartDate: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("actual_start_date"),
    actualEndDate: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("actual_end_date"),
    budget: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$numeric$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["decimal"])("budget", {
        precision: 15,
        scale: 2
    }),
    actualCost: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$numeric$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["decimal"])("actual_cost", {
        precision: 15,
        scale: 2
    }),
    currency: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("currency").default("USD").notNull(),
    location: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("location"),
    safetyRequirements: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("safety_requirements"),
    complianceStandards: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("compliance_standards"),
    deliverables: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("deliverables"),
    notes: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("notes"),
    isActive: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$boolean$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["boolean"])("is_active").default(true).notNull(),
    createdAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("created_at").defaultNow().notNull(),
    updatedAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("updated_at").defaultNow().notNull(),
    createdBy: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("created_by").notNull().references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProfiles"].id)
}, (table)=>({
        accountIdIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("projects_account_id_idx").on(table.accountId),
        ownerIdIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("projects_owner_id_idx").on(table.ownerId),
        nameIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("projects_name_idx").on(table.name),
        typeIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("projects_type_idx").on(table.type),
        statusIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("projects_status_idx").on(table.status),
        priorityIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("projects_priority_idx").on(table.priority),
        startDateIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("projects_start_date_idx").on(table.startDate),
        endDateIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("projects_end_date_idx").on(table.endDate),
        activeIdx: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$indexes$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["index"])("projects_active_idx").on(table.isActive)
    }));
}),
"[project]/apps/safety-lms/src/lib/db/schema/course-translations.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "courseTranslations",
    ()=>courseTranslations,
    "courseTranslationsRelations",
    ()=>courseTranslationsRelations,
    "languageCodeEnum",
    ()=>languageCodeEnum
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/table.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/uuid.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/text.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/timestamp.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/enum.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$relations$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/relations.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$courses$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/courses.ts [app-route] (ecmascript)");
;
;
;
const languageCodeEnum = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgEnum"])("language_code", [
    "en",
    "es",
    "fr",
    "de"
]);
const courseTranslations = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgTable"])("course_translations", {
    id: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("id").primaryKey().defaultRandom(),
    courseId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("course_id").notNull().references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$courses$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courses"].id, {
        onDelete: "cascade"
    }),
    languageCode: languageCodeEnum("language_code").notNull(),
    title: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("title").notNull(),
    description: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("description"),
    createdAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("created_at").defaultNow().notNull(),
    updatedAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("updated_at").defaultNow().notNull()
});
const courseTranslationsRelations = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$relations$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["relations"])(courseTranslations, ({ one })=>({
        course: one(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$courses$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courses"], {
            fields: [
                courseTranslations.courseId
            ],
            references: [
                __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$courses$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courses"].id
            ]
        })
    }));
}),
"[project]/apps/safety-lms/src/lib/db/schema/quiz-question-translations.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "quizQuestionTranslations",
    ()=>quizQuestionTranslations,
    "quizQuestionTranslationsRelations",
    ()=>quizQuestionTranslationsRelations
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/table.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/uuid.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/text.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$jsonb$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/jsonb.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/timestamp.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$relations$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/relations.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/quiz-questions.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/course-translations.ts [app-route] (ecmascript)");
;
;
;
;
const quizQuestionTranslations = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgTable"])("quiz_question_translations", {
    id: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("id").primaryKey().defaultRandom(),
    quizQuestionId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("quiz_question_id").notNull().references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"].id, {
        onDelete: "cascade"
    }),
    languageCode: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["languageCodeEnum"])("language_code").notNull(),
    questionText: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("question_text").notNull(),
    options: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$jsonb$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["jsonb"])("options"),
    correctAnswer: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$jsonb$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["jsonb"])("correct_answer").notNull(),
    explanation: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("explanation"),
    createdAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("created_at").defaultNow().notNull(),
    updatedAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("updated_at").defaultNow().notNull()
});
const quizQuestionTranslationsRelations = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$relations$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["relations"])(quizQuestionTranslations, ({ one })=>({
        quizQuestion: one(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"], {
            fields: [
                quizQuestionTranslations.quizQuestionId
            ],
            references: [
                __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"].id
            ]
        })
    }));
}),
"[project]/apps/safety-lms/src/lib/db/schema/quiz-questions.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "questionTypeEnum",
    ()=>questionTypeEnum,
    "quizQuestions",
    ()=>quizQuestions,
    "quizQuestionsRelations",
    ()=>quizQuestionsRelations
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/table.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/uuid.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/text.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/timestamp.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$boolean$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/boolean.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/integer.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$jsonb$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/jsonb.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/enum.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$unique$2d$constraint$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/unique-constraint.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$relations$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/relations.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/course-sections.ts [app-route] (ecmascript)");
// Import other tables for relations (circular import handling)
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$attempts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/quiz-attempts.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$question$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/quiz-question-translations.ts [app-route] (ecmascript)");
;
;
;
const questionTypeEnum = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgEnum"])("question_type", [
    "true-false",
    "multiple-choice"
]);
const quizQuestions = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgTable"])("quiz_questions", {
    id: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("id").primaryKey().defaultRandom(),
    sectionId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("section_id").notNull().references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"].id, {
        onDelete: "cascade"
    }),
    questionKey: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("question_key").notNull(),
    questionType: questionTypeEnum("question_type").notNull(),
    questionText: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("question_text").notNull(),
    options: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$jsonb$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["jsonb"])("options"),
    correctAnswer: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$jsonb$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["jsonb"])("correct_answer").notNull(),
    explanation: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("explanation"),
    orderIndex: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["integer"])("order_index").default(0).notNull(),
    isPublished: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$boolean$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["boolean"])("is_published").default(false).notNull(),
    createdAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("created_at").defaultNow().notNull(),
    updatedAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("updated_at").defaultNow().notNull()
}, (table)=>({
        sectionKeyUnique: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$unique$2d$constraint$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["unique"])("quiz_questions_section_key_unique").on(table.sectionId, table.questionKey)
    }));
const quizQuestionsRelations = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$relations$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["relations"])(quizQuestions, ({ one, many })=>({
        section: one(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"], {
            fields: [
                quizQuestions.sectionId
            ],
            references: [
                __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"].id
            ]
        }),
        quizAttempts: many(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$attempts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizAttempts"]),
        quizQuestionTranslations: many(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$question$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestionTranslations"])
    }));
;
;
}),
"[project]/apps/safety-lms/src/lib/db/schema/quiz-attempts.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "interactionTypeEnum",
    ()=>interactionTypeEnum,
    "quizAttempts",
    ()=>quizAttempts,
    "quizAttemptsRelations",
    ()=>quizAttemptsRelations
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/table.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/uuid.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/text.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$jsonb$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/jsonb.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$boolean$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/boolean.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/timestamp.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/integer.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/enum.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$relations$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/relations.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/quiz-questions.ts [app-route] (ecmascript)");
;
;
;
const interactionTypeEnum = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgEnum"])("interaction_type", [
    "view",
    "click",
    "expand",
    "collapse",
    "download",
    "share"
]);
const quizAttempts = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgTable"])("quiz_attempts", {
    id: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("id").primaryKey().defaultRandom(),
    userId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("user_id").notNull(),
    quizQuestionId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("quiz_question_id").notNull().references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"].id, {
        onDelete: "cascade"
    }),
    userAnswer: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$jsonb$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["jsonb"])("user_answer").notNull(),
    isCorrect: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$boolean$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["boolean"])("is_correct").notNull(),
    attemptedAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("attempted_at").defaultNow().notNull(),
    timeSpentSeconds: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["integer"])("time_spent_seconds").default(0).notNull()
});
const quizAttemptsRelations = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$relations$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["relations"])(quizAttempts, ({ one })=>({
        quizQuestion: one(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"], {
            fields: [
                quizAttempts.quizQuestionId
            ],
            references: [
                __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"].id
            ]
        })
    }));
}),
"[project]/apps/safety-lms/src/lib/db/schema/content-interactions.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "contentInteractions",
    ()=>contentInteractions,
    "contentInteractionsRelations",
    ()=>contentInteractionsRelations
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/table.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/uuid.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/text.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$jsonb$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/jsonb.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/timestamp.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$relations$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/relations.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/content-blocks.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$attempts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/quiz-attempts.ts [app-route] (ecmascript)");
;
;
;
;
const contentInteractions = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgTable"])("content_interactions", {
    id: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("id").primaryKey().defaultRandom(),
    userId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("user_id").notNull(),
    contentBlockId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("content_block_id").notNull().references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"].id, {
        onDelete: "cascade"
    }),
    interactionType: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$attempts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["interactionTypeEnum"])("interaction_type").notNull(),
    metadata: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$jsonb$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["jsonb"])("metadata"),
    interactedAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("interacted_at").defaultNow().notNull()
});
const contentInteractionsRelations = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$relations$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["relations"])(contentInteractions, ({ one })=>({
        contentBlock: one(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"], {
            fields: [
                contentInteractions.contentBlockId
            ],
            references: [
                __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"].id
            ]
        })
    }));
}),
"[project]/apps/safety-lms/src/lib/db/schema/content-block-translations.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "contentBlockTranslations",
    ()=>contentBlockTranslations,
    "contentBlockTranslationsRelations",
    ()=>contentBlockTranslationsRelations
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/table.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/uuid.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$jsonb$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/jsonb.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/timestamp.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$relations$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/relations.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/content-blocks.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/course-translations.ts [app-route] (ecmascript)");
;
;
;
;
const contentBlockTranslations = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgTable"])("content_block_translations", {
    id: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("id").primaryKey().defaultRandom(),
    contentBlockId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("content_block_id").notNull().references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"].id, {
        onDelete: "cascade"
    }),
    languageCode: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["languageCodeEnum"])("language_code").notNull(),
    content: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$jsonb$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["jsonb"])("content").notNull(),
    createdAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("created_at").defaultNow().notNull(),
    updatedAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("updated_at").defaultNow().notNull()
});
const contentBlockTranslationsRelations = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$relations$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["relations"])(contentBlockTranslations, ({ one })=>({
        contentBlock: one(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"], {
            fields: [
                contentBlockTranslations.contentBlockId
            ],
            references: [
                __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"].id
            ]
        })
    }));
}),
"[project]/apps/safety-lms/src/lib/db/schema/content-blocks.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "contentBlockTypeEnum",
    ()=>contentBlockTypeEnum,
    "contentBlocks",
    ()=>contentBlocks,
    "contentBlocksRelations",
    ()=>contentBlocksRelations
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/table.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/uuid.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/timestamp.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/integer.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$jsonb$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/jsonb.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/enum.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$unique$2d$constraint$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/unique-constraint.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$relations$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/relations.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/course-sections.ts [app-route] (ecmascript)");
// Import other tables for relations (circular import handling)
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$interactions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/content-interactions.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$block$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/content-block-translations.ts [app-route] (ecmascript)");
;
;
;
const contentBlockTypeEnum = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$enum$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgEnum"])("content_block_type", [
    "hero",
    "text",
    "card",
    "image",
    "table",
    "list",
    "grid",
    "callout",
    "quote",
    "divider",
    "video",
    "audio"
]);
const contentBlocks = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgTable"])("content_blocks", {
    id: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("id").primaryKey().defaultRandom(),
    sectionId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("section_id").notNull().references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"].id, {
        onDelete: "cascade"
    }),
    blockType: contentBlockTypeEnum("block_type").notNull(),
    orderIndex: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["integer"])("order_index").notNull(),
    content: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$jsonb$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["jsonb"])("content").notNull(),
    metadata: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$jsonb$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["jsonb"])("metadata"),
    createdAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("created_at").defaultNow().notNull(),
    updatedAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("updated_at").defaultNow().notNull()
}, (table)=>({
        sectionOrderUnique: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$unique$2d$constraint$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["unique"])("content_blocks_section_order_unique").on(table.sectionId, table.orderIndex)
    }));
const contentBlocksRelations = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$relations$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["relations"])(contentBlocks, ({ one, many })=>({
        section: one(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"], {
            fields: [
                contentBlocks.sectionId
            ],
            references: [
                __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"].id
            ]
        }),
        contentInteractions: many(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$interactions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentInteractions"]),
        contentBlockTranslations: many(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$block$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlockTranslations"])
    }));
;
;
}),
"[project]/apps/safety-lms/src/lib/db/schema/user-progress.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "userProgress",
    ()=>userProgress,
    "userProgressRelations",
    ()=>userProgressRelations
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/table.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/uuid.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/text.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/timestamp.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$boolean$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/boolean.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/integer.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$unique$2d$constraint$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/unique-constraint.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$relations$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/relations.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$courses$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/courses.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/course-sections.ts [app-route] (ecmascript)");
;
;
;
;
const userProgress = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgTable"])("user_progress", {
    id: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("id").primaryKey().defaultRandom(),
    userId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("user_id").notNull(),
    courseId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("course_id").notNull().references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$courses$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courses"].id, {
        onDelete: "cascade"
    }),
    sectionId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("section_id").notNull().references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"].id, {
        onDelete: "cascade"
    }),
    isCompleted: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$boolean$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["boolean"])("is_completed").default(false).notNull(),
    completionPercentage: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["integer"])("completion_percentage").default(0).notNull(),
    timeSpentSeconds: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["integer"])("time_spent_seconds").default(0).notNull(),
    lastAccessedAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("last_accessed_at").defaultNow().notNull(),
    completedAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("completed_at"),
    createdAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("created_at").defaultNow().notNull(),
    updatedAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("updated_at").defaultNow().notNull()
}, (table)=>({
        userSectionUnique: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$unique$2d$constraint$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["unique"])("user_progress_user_section_unique").on(table.userId, table.sectionId)
    }));
const userProgressRelations = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$relations$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["relations"])(userProgress, ({ one })=>({
        course: one(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$courses$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courses"], {
            fields: [
                userProgress.courseId
            ],
            references: [
                __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$courses$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courses"].id
            ]
        }),
        section: one(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"], {
            fields: [
                userProgress.sectionId
            ],
            references: [
                __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"].id
            ]
        })
    }));
}),
"[project]/apps/safety-lms/src/lib/db/schema/section-translations.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "sectionTranslations",
    ()=>sectionTranslations,
    "sectionTranslationsRelations",
    ()=>sectionTranslationsRelations
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/table.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/uuid.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/text.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/timestamp.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$relations$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/relations.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/course-sections.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/course-translations.ts [app-route] (ecmascript)");
;
;
;
;
const sectionTranslations = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgTable"])("section_translations", {
    id: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("id").primaryKey().defaultRandom(),
    sectionId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("section_id").notNull().references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"].id, {
        onDelete: "cascade"
    }),
    languageCode: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["languageCodeEnum"])("language_code").notNull(),
    title: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("title").notNull(),
    createdAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("created_at").defaultNow().notNull(),
    updatedAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("updated_at").defaultNow().notNull()
});
const sectionTranslationsRelations = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$relations$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["relations"])(sectionTranslations, ({ one })=>({
        section: one(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"], {
            fields: [
                sectionTranslations.sectionId
            ],
            references: [
                __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"].id
            ]
        })
    }));
}),
"[project]/apps/safety-lms/src/lib/db/schema/course-sections.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "courseSections",
    ()=>courseSections,
    "courseSectionsRelations",
    ()=>courseSectionsRelations
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/table.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/uuid.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/text.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/timestamp.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$boolean$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/boolean.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/columns/integer.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$unique$2d$constraint$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/pg-core/unique-constraint.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$relations$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/relations.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$courses$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/courses.ts [app-route] (ecmascript)");
// Import other tables for relations (circular import handling)
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/content-blocks.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/quiz-questions.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/user-progress.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$section$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/section-translations.ts [app-route] (ecmascript)");
;
;
;
const courseSections = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["pgTable"])("course_sections", {
    id: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("id").primaryKey().defaultRandom(),
    courseId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$uuid$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["uuid"])("course_id").notNull().references(()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$courses$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courses"].id, {
        onDelete: "cascade"
    }),
    sectionKey: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("section_key").notNull(),
    title: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("title").notNull(),
    orderIndex: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$integer$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["integer"])("order_index").notNull(),
    iconName: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["text"])("icon_name"),
    isPublished: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$boolean$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["boolean"])("is_published").default(false).notNull(),
    createdAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("created_at").defaultNow().notNull(),
    updatedAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("updated_at").defaultNow().notNull()
}, (table)=>({
        courseSectionUnique: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$unique$2d$constraint$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["unique"])("course_sections_course_section_unique").on(table.courseId, table.sectionKey),
        courseOrderUnique: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$unique$2d$constraint$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["unique"])("course_sections_course_order_unique").on(table.courseId, table.orderIndex)
    }));
const courseSectionsRelations = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$relations$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["relations"])(courseSections, ({ one, many })=>({
        course: one(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$courses$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courses"], {
            fields: [
                courseSections.courseId
            ],
            references: [
                __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$courses$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courses"].id
            ]
        }),
        contentBlocks: many(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"]),
        quizQuestions: many(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"]),
        userProgress: many(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProgress"]),
        sectionTranslations: many(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$section$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sectionTranslations"])
    }));
;
;
;
;
}),
"[project]/apps/safety-lms/src/lib/db/schema/index.ts [app-route] (ecmascript) <locals>", ((__turbopack_context__) => {
"use strict";

// Safety Training Schema Index
// This file exports all safety training-related tables while preserving existing Supabase auth tables
// Core Safety Training Tables (existing)
__turbopack_context__.s([]);
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/profiles.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$plants$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/plants.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$courses$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/courses.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$enrollments$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/enrollments.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/progress.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$activity$2d$events$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/activity-events.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$question$2d$events$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/question-events.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$admin$2d$roles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/admin-roles.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$audit$2d$log$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/audit-log.ts [app-route] (ecmascript)");
// New Safety Business Tables (CRM-focused for safety operations)
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$territories$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/territories.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/user-profiles.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$accounts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/accounts.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$branches$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/branches.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$contacts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/contacts.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$activity$2d$logs$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/activity-logs.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$opportunities$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/opportunities.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$sales$2d$facts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/sales-facts.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$products$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/products.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$projects$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/projects.ts [app-route] (ecmascript)");
// LMS Content Tables (new)
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/course-sections.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/content-blocks.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/quiz-questions.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/course-translations.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$section$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/section-translations.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$block$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/content-block-translations.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$question$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/quiz-question-translations.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/user-progress.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$attempts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/quiz-attempts.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$interactions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/content-interactions.ts [app-route] (ecmascript)"); // Relations for type-safe joins
 // Relations are defined in individual schema files
 // Re-export any existing tables that might be needed
 // Note: We don't modify existing Supabase auth tables (users, sessions, etc.)
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
}),
"[project]/apps/safety-lms/src/lib/db/schema/index.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "accountStatusEnum",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$accounts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["accountStatusEnum"],
    "accountTypeEnum",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$accounts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["accountTypeEnum"],
    "accounts",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$accounts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["accounts"],
    "activityEvents",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$activity$2d$events$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["activityEvents"],
    "activityEventsRelations",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$activity$2d$events$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["activityEventsRelations"],
    "activityLogs",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$activity$2d$logs$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["activityLogs"],
    "activityPriorityEnum",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$activity$2d$logs$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["activityPriorityEnum"],
    "activityStatusEnum",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$activity$2d$logs$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["activityStatusEnum"],
    "activityTypeEnum",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$activity$2d$logs$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["activityTypeEnum"],
    "adminRoleEnum",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$admin$2d$roles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["adminRoleEnum"],
    "adminRoles",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$admin$2d$roles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["adminRoles"],
    "adminRolesRelations",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$admin$2d$roles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["adminRolesRelations"],
    "auditLog",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$audit$2d$log$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["auditLog"],
    "auditLogRelations",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$audit$2d$log$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["auditLogRelations"],
    "branches",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$branches$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["branches"],
    "complianceStandardEnum",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$products$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["complianceStandardEnum"],
    "contactRoleEnum",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$contacts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contactRoleEnum"],
    "contactStatusEnum",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$contacts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contactStatusEnum"],
    "contacts",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$contacts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contacts"],
    "contentBlockTranslations",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$block$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlockTranslations"],
    "contentBlockTranslationsRelations",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$block$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlockTranslationsRelations"],
    "contentBlockTypeEnum",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlockTypeEnum"],
    "contentBlocks",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"],
    "contentBlocksRelations",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocksRelations"],
    "contentInteractions",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$interactions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentInteractions"],
    "contentInteractionsRelations",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$interactions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentInteractionsRelations"],
    "courseSections",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"],
    "courseSectionsRelations",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSectionsRelations"],
    "courseTranslations",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseTranslations"],
    "courseTranslationsRelations",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseTranslationsRelations"],
    "courses",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$courses$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courses"],
    "coursesRelations",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$courses$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["coursesRelations"],
    "enrollmentStatusEnum",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$enrollments$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["enrollmentStatusEnum"],
    "enrollments",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$enrollments$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["enrollments"],
    "enrollmentsRelations",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$enrollments$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["enrollmentsRelations"],
    "eventTypeEnum",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$activity$2d$events$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eventTypeEnum"],
    "industryEnum",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$accounts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["industryEnum"],
    "interactionTypeEnum",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$attempts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["interactionTypeEnum"],
    "languageCodeEnum",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["languageCodeEnum"],
    "opportunities",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$opportunities$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["opportunities"],
    "opportunitySourceEnum",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$opportunities$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["opportunitySourceEnum"],
    "opportunityStageEnum",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$opportunities$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["opportunityStageEnum"],
    "opportunityStatusEnum",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$opportunities$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["opportunityStatusEnum"],
    "opportunityTypeEnum",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$opportunities$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["opportunityTypeEnum"],
    "periodTypeEnum",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$sales$2d$facts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["periodTypeEnum"],
    "plants",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$plants$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["plants"],
    "plantsRelations",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$plants$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["plantsRelations"],
    "probabilityEnum",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$opportunities$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["probabilityEnum"],
    "productStatusEnum",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$products$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["productStatusEnum"],
    "productTypeEnum",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$products$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["productTypeEnum"],
    "products",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$products$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["products"],
    "profiles",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["profiles"],
    "profilesRelations",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["profilesRelations"],
    "progress",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["progress"],
    "progressRelations",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["progressRelations"],
    "projectPriorityEnum",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$projects$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["projectPriorityEnum"],
    "projectStatusEnum",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$projects$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["projectStatusEnum"],
    "projectTypeEnum",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$projects$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["projectTypeEnum"],
    "projects",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$projects$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["projects"],
    "questionEvents",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$question$2d$events$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["questionEvents"],
    "questionEventsRelations",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$question$2d$events$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["questionEventsRelations"],
    "questionTypeEnum",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["questionTypeEnum"],
    "quizAttempts",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$attempts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizAttempts"],
    "quizAttemptsRelations",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$attempts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizAttemptsRelations"],
    "quizQuestionTranslations",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$question$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestionTranslations"],
    "quizQuestionTranslationsRelations",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$question$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestionTranslationsRelations"],
    "quizQuestions",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"],
    "quizQuestionsRelations",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestionsRelations"],
    "salesFactTypeEnum",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$sales$2d$facts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["salesFactTypeEnum"],
    "salesFacts",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$sales$2d$facts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["salesFacts"],
    "sectionTranslations",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$section$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sectionTranslations"],
    "sectionTranslationsRelations",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$section$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sectionTranslationsRelations"],
    "territories",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$territories$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["territories"],
    "userProfiles",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProfiles"],
    "userProgress",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProgress"],
    "userProgressRelations",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProgressRelations"],
    "userRoleEnum",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userRoleEnum"],
    "userStatusEnum",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userStatusEnum"]
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/index.ts [app-route] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/profiles.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$plants$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/plants.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$courses$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/courses.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$enrollments$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/enrollments.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/progress.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$activity$2d$events$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/activity-events.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$question$2d$events$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/question-events.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$admin$2d$roles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/admin-roles.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$audit$2d$log$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/audit-log.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$territories$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/territories.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$profiles$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/user-profiles.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$accounts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/accounts.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$branches$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/branches.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$contacts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/contacts.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$activity$2d$logs$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/activity-logs.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$opportunities$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/opportunities.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$sales$2d$facts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/sales-facts.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$products$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/products.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$projects$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/projects.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/course-sections.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/content-blocks.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/quiz-questions.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/course-translations.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$section$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/section-translations.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$block$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/content-block-translations.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$question$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/quiz-question-translations.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/user-progress.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$attempts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/quiz-attempts.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$interactions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/content-interactions.ts [app-route] (ecmascript)");
}),
"[project]/apps/safety-lms/src/lib/db/index.ts [app-route] (ecmascript) <locals>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "db",
    ()=>db
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$postgres$2d$js$2f$driver$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/postgres-js/driver.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$postgres$40$3$2e$4$2e$7$2f$node_modules$2f$postgres$2f$src$2f$index$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/postgres@3.4.7/node_modules/postgres/src/index.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/index.ts [app-route] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/index.ts [app-route] (ecmascript)");
;
;
;
/**
 * Safety Training Database Connection Setup
 *
 * This connects to the existing Supabase Safety database using Drizzle ORM
 * while preserving all existing Supabase auth tables and safety training tables.
 *
 * Environment Variables Required:
 * - DATABASE_URL: PostgreSQL connection string from Supabase Safety project
 * - NEXT_PUBLIC_SUPABASE_URL: Supabase project URL
 * - NEXT_PUBLIC_SUPABASE_ANON_KEY: Supabase anonymous key
 */ const connectionString = process.env.DATABASE_URL;
if (!connectionString) {
    throw new Error("DATABASE_URL environment variable is required");
}
// Validate that we're connecting to the Safety database
if (!connectionString.includes("radbukphijxenmgiljtu")) {
    console.warn("Warning: DATABASE_URL does not point to the Safety database (radbukphijxenmgiljtu)");
}
const client = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$postgres$40$3$2e$4$2e$7$2f$node_modules$2f$postgres$2f$src$2f$index$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"])(connectionString, {
    // Connection pool settings for better performance
    max: 20,
    idle_timeout: 20,
    connect_timeout: 10,
    // Enable SSL for Supabase
    ssl: "require"
});
const db = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$postgres$2d$js$2f$driver$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["drizzle"])(client, {
    schema: __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__,
    // Enable logging in development
    logger: ("TURBOPACK compile-time value", "development") === "development"
});
;
}),
"[project]/apps/safety-lms/src/lib/db/queries/course-sections.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "canUserAccessSection",
    ()=>canUserAccessSection,
    "createCourseSection",
    ()=>createCourseSection,
    "deleteCourseSection",
    ()=>deleteCourseSection,
    "getAccessibleCourseSections",
    ()=>getAccessibleCourseSections,
    "getCourseSectionById",
    ()=>getCourseSectionById,
    "getCourseSectionByKey",
    ()=>getCourseSectionByKey,
    "getCourseSectionWithContent",
    ()=>getCourseSectionWithContent,
    "getCourseSectionsByCourseId",
    ()=>getCourseSectionsByCourseId,
    "getNextSectionOrderIndex",
    ()=>getNextSectionOrderIndex,
    "getSectionStatistics",
    ()=>getSectionStatistics,
    "isOrderIndexUnique",
    ()=>isOrderIndexUnique,
    "isSectionKeyUnique",
    ()=>isSectionKeyUnique,
    "reorderSections",
    ()=>reorderSections,
    "searchCourseSections",
    ()=>searchCourseSections,
    "updateCourseSection",
    ()=>updateCourseSection,
    "updateSectionOrder",
    ()=>updateSectionOrder
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/sql/expressions/conditions.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/sql/expressions/select.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/sql/sql.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/index.ts [app-route] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/index.ts [app-route] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/course-sections.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/content-blocks.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/quiz-questions.ts [app-route] (ecmascript)");
;
;
;
const getCourseSectionById = async (sectionId)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select().from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"].id, sectionId)).limit(1);
    return result[0] || null;
};
const getCourseSectionByKey = async (courseId, sectionKey)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select().from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"].courseId, courseId), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"].sectionKey, sectionKey))).limit(1);
    return result[0] || null;
};
const getCourseSectionsByCourseId = async (courseId, options = {})=>{
    const { includeUnpublished = false, sortBy = "orderIndex", sortOrder = "asc" } = options;
    let whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"].courseId, courseId);
    if (!includeUnpublished) {
        whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])(whereClause, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"].isPublished, true));
    }
    const orderBy = sortOrder === "desc" ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["desc"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"][sortBy]) : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["asc"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"][sortBy]);
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select().from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"]).where(whereClause).orderBy(orderBy);
    return result;
};
const getCourseSectionWithContent = async (sectionId)=>{
    const section = await getCourseSectionById(sectionId);
    if (!section) return null;
    // Get content blocks
    const blocks = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select().from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"].sectionId, sectionId)).orderBy((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["asc"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"].orderIndex));
    // Get quiz questions
    const questions = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select().from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"].sectionId, sectionId)).orderBy((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["asc"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"].orderIndex));
    return {
        section,
        contentBlocks: blocks,
        quizQuestions: questions
    };
};
const createCourseSection = async (sectionData)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].insert(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"]).values(sectionData).returning();
    return result[0];
};
const updateCourseSection = async (sectionId, updates)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].update(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"]).set({
        ...updates,
        updatedAt: new Date()
    }).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"].id, sectionId)).returning();
    return result[0] || null;
};
const deleteCourseSection = async (sectionId)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].delete(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"].id, sectionId)).returning();
    return result.length > 0;
};
const updateSectionOrder = async (sectionId, newOrderIndex)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].update(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"]).set({
        orderIndex: newOrderIndex,
        updatedAt: new Date()
    }).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"].id, sectionId)).returning();
    return result[0] || null;
};
const reorderSections = async (courseId, sectionOrders)=>{
    const results = [];
    for (const order of sectionOrders){
        const result = await updateSectionOrder(order.sectionId, order.orderIndex);
        if (result) {
            results.push(result);
        }
    }
    return results;
};
const getNextSectionOrderIndex = async (courseId)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select({
        maxOrder: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sql"]`max(${__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"].orderIndex})`
    }).from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"].courseId, courseId));
    return (result[0]?.maxOrder || 0) + 1;
};
const isSectionKeyUnique = async (courseId, sectionKey, excludeSectionId)=>{
    let whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"].courseId, courseId), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"].sectionKey, sectionKey));
    if (excludeSectionId) {
        whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])(whereClause, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sql"]`${__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"].id} != ${excludeSectionId}`);
    }
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select({
        id: __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"].id
    }).from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"]).where(whereClause).limit(1);
    return result.length === 0;
};
const isOrderIndexUnique = async (courseId, orderIndex, excludeSectionId)=>{
    let whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"].courseId, courseId), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"].orderIndex, orderIndex));
    if (excludeSectionId) {
        whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])(whereClause, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sql"]`${__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"].id} != ${excludeSectionId}`);
    }
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select({
        id: __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"].id
    }).from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"]).where(whereClause).limit(1);
    return result.length === 0;
};
const getSectionStatistics = async (sectionId)=>{
    const section = await getCourseSectionById(sectionId);
    if (!section) return null;
    // Count content blocks
    const contentBlocksResult = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select({
        total: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sql"]`count(*)`,
        published: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sql"]`count(*) filter (where ${__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"].sectionId} = ${sectionId})`
    }).from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"].sectionId, sectionId));
    // Count quiz questions
    const quizQuestionsResult = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select({
        total: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sql"]`count(*)`,
        published: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sql"]`count(*) filter (where ${__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"].isPublished} = true)`
    }).from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"].sectionId, sectionId));
    return {
        contentBlocksCount: contentBlocksResult[0]?.total || 0,
        quizQuestionsCount: quizQuestionsResult[0]?.total || 0,
        publishedContentBlocks: contentBlocksResult[0]?.published || 0,
        publishedQuizQuestions: quizQuestionsResult[0]?.published || 0
    };
};
const searchCourseSections = async (courseId, searchTerm, options = {})=>{
    const { includeUnpublished = false, limit = 20, offset = 0 } = options;
    let whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"].courseId, courseId), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sql"]`${__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"].title} ilike ${`%${searchTerm}%`}`);
    if (!includeUnpublished) {
        whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])(whereClause, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"].isPublished, true));
    }
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select().from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"]).where(whereClause).orderBy((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["asc"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"].orderIndex)).limit(limit).offset(offset);
    return result;
};
const getAccessibleCourseSections = async (courseId, userRole, options = {})=>{
    const { includeUnpublished = false } = options;
    // Safety admins can access all sections
    if (userRole === "safety_admin") {
        return getCourseSectionsByCourseId(courseId, {
            includeUnpublished: true
        });
    }
    // Other roles can only access published sections unless explicitly allowed
    return getCourseSectionsByCourseId(courseId, {
        includeUnpublished
    });
};
const canUserAccessSection = async (sectionId, userRole)=>{
    const section = await getCourseSectionById(sectionId);
    if (!section) return false;
    // Safety admins can access all sections
    if (userRole === "safety_admin") return true;
    // Other roles can only access published sections
    return section.isPublished;
};
}),
"[project]/apps/safety-lms/src/lib/db/queries/content-blocks.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "bulkCreateContentBlocks",
    ()=>bulkCreateContentBlocks,
    "bulkDeleteContentBlocks",
    ()=>bulkDeleteContentBlocks,
    "bulkUpdateContentBlocks",
    ()=>bulkUpdateContentBlocks,
    "canUserAccessContentBlock",
    ()=>canUserAccessContentBlock,
    "createContentBlock",
    ()=>createContentBlock,
    "deleteContentBlock",
    ()=>deleteContentBlock,
    "getAccessibleContentBlocks",
    ()=>getAccessibleContentBlocks,
    "getContentBlockById",
    ()=>getContentBlockById,
    "getContentBlockStatistics",
    ()=>getContentBlockStatistics,
    "getContentBlocksBySectionId",
    ()=>getContentBlocksBySectionId,
    "getContentBlocksByType",
    ()=>getContentBlocksByType,
    "getNextContentBlockOrderIndex",
    ()=>getNextContentBlockOrderIndex,
    "isContentBlockOrderIndexUnique",
    ()=>isContentBlockOrderIndexUnique,
    "reorderContentBlocks",
    ()=>reorderContentBlocks,
    "searchAllContentBlocks",
    ()=>searchAllContentBlocks,
    "searchContentBlocks",
    ()=>searchContentBlocks,
    "updateContentBlock",
    ()=>updateContentBlock,
    "updateContentBlockOrder",
    ()=>updateContentBlockOrder,
    "validateContentBlockContent",
    ()=>validateContentBlockContent
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/sql/expressions/conditions.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/sql/expressions/select.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/sql/sql.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/index.ts [app-route] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/index.ts [app-route] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/content-blocks.ts [app-route] (ecmascript)");
;
;
;
const getContentBlockById = async (blockId)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select().from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"].id, blockId)).limit(1);
    return result[0] || null;
};
const getContentBlocksBySectionId = async (sectionId, options = {})=>{
    const { blockType, sortBy = "orderIndex", sortOrder = "asc" } = options;
    let whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"].sectionId, sectionId);
    if (blockType) {
        whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])(whereClause, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"].blockType, blockType));
    }
    const orderBy = sortOrder === "desc" ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["desc"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"][sortBy]) : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["asc"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"][sortBy]);
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select().from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"]).where(whereClause).orderBy(orderBy);
    return result;
};
const getContentBlocksByType = async (blockType, options = {})=>{
    const { limit = 20, offset = 0 } = options;
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select().from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"].blockType, blockType)).orderBy((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["asc"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"].createdAt)).limit(limit).offset(offset);
    return result;
};
const createContentBlock = async (blockData)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].insert(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"]).values(blockData).returning();
    return result[0];
};
const updateContentBlock = async (blockId, updates)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].update(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"]).set({
        ...updates,
        updatedAt: new Date()
    }).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"].id, blockId)).returning();
    return result[0] || null;
};
const deleteContentBlock = async (blockId)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].delete(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"].id, blockId)).returning();
    return result.length > 0;
};
const updateContentBlockOrder = async (blockId, newOrderIndex)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].update(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"]).set({
        orderIndex: newOrderIndex,
        updatedAt: new Date()
    }).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"].id, blockId)).returning();
    return result[0] || null;
};
const reorderContentBlocks = async (sectionId, blockOrders)=>{
    const results = [];
    for (const order of blockOrders){
        const result = await updateContentBlockOrder(order.blockId, order.orderIndex);
        if (result) {
            results.push(result);
        }
    }
    return results;
};
const getNextContentBlockOrderIndex = async (sectionId)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select({
        maxOrder: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sql"]`max(${__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"].orderIndex})`
    }).from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"].sectionId, sectionId));
    return (result[0]?.maxOrder || 0) + 1;
};
const isContentBlockOrderIndexUnique = async (sectionId, orderIndex, excludeBlockId)=>{
    let whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"].sectionId, sectionId), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"].orderIndex, orderIndex));
    if (excludeBlockId) {
        whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])(whereClause, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sql"]`${__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"].id} != ${excludeBlockId}`);
    }
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select({
        id: __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"].id
    }).from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"]).where(whereClause).limit(1);
    return result.length === 0;
};
const validateContentBlockContent = async (blockType, content)=>{
    const errors = [];
    switch(blockType){
        case "hero":
            if (!content.title) errors.push("Hero blocks require a title");
            break;
        case "text":
            if (!content.content && !content.text) {
                errors.push("Text blocks require content or text");
            }
            break;
        case "image":
            if (!content.image?.url) {
                errors.push("Image blocks require an image URL");
            }
            break;
        case "table":
            if (!content.table?.headers || !content.table?.rows) {
                errors.push("Table blocks require headers and rows");
            }
            break;
        case "list":
            if (!content.list?.items || !Array.isArray(content.list.items)) {
                errors.push("List blocks require items array");
            }
            break;
        case "callout":
            if (!content.callout?.type || !content.callout?.content) {
                errors.push("Callout blocks require type and content");
            }
            break;
        case "quote":
            if (!content.quote?.text) {
                errors.push("Quote blocks require text");
            }
            break;
        case "video":
            if (!content.video?.url) {
                errors.push("Video blocks require a video URL");
            }
            break;
        case "audio":
            if (!content.audio?.url) {
                errors.push("Audio blocks require an audio URL");
            }
            break;
    }
    return {
        isValid: errors.length === 0,
        errors
    };
};
const getContentBlockStatistics = async (sectionId)=>{
    // Get total count
    const totalResult = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select({
        count: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sql"]`count(*)`
    }).from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"].sectionId, sectionId));
    // Get count by type
    const typeResult = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select({
        blockType: __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"].blockType,
        count: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sql"]`count(*)`
    }).from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"].sectionId, sectionId)).groupBy(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"].blockType);
    // Get blocks with/without metadata
    const metadataResult = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select({
        withMetadata: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sql"]`count(*) filter (where ${__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"].metadata} is not null)`,
        withoutMetadata: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sql"]`count(*) filter (where ${__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"].metadata} is null)`
    }).from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"].sectionId, sectionId));
    const blocksByType = typeResult.reduce((acc, row)=>{
        acc[row.blockType] = row.count;
        return acc;
    }, {});
    return {
        totalBlocks: totalResult[0]?.count || 0,
        blocksByType,
        blocksWithMetadata: metadataResult[0]?.withMetadata || 0,
        blocksWithoutMetadata: metadataResult[0]?.withoutMetadata || 0
    };
};
const searchContentBlocks = async (sectionId, searchTerm, options = {})=>{
    const { blockType, limit = 20, offset = 0 } = options;
    let whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"].sectionId, sectionId), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sql"]`${__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"].content}::text ilike ${`%${searchTerm}%`}`);
    if (blockType) {
        whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])(whereClause, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"].blockType, blockType));
    }
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select().from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"]).where(whereClause).orderBy((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["asc"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"].orderIndex)).limit(limit).offset(offset);
    return result;
};
const searchAllContentBlocks = async (searchTerm, options = {})=>{
    const { blockType, limit = 20, offset = 0 } = options;
    let whereClause = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sql"]`${__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"].content}::text ilike ${`%${searchTerm}%`}`;
    if (blockType) {
        whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])(whereClause, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"].blockType, blockType));
    }
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select().from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"]).where(whereClause).orderBy((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["asc"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"].createdAt)).limit(limit).offset(offset);
    return result;
};
const getAccessibleContentBlocks = async (sectionId, userRole, options = {})=>{
    // All roles can access content blocks if they have section access
    // Access control is handled at the section level
    return getContentBlocksBySectionId(sectionId, options);
};
const canUserAccessContentBlock = async (blockId, userRole)=>{
    const block = await getContentBlockById(blockId);
    if (!block) return false;
    // Access control is handled at the section level
    // If user can access the section, they can access the content blocks
    return true;
};
const bulkCreateContentBlocks = async (blocksData)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].insert(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"]).values(blocksData).returning();
    return result;
};
const bulkUpdateContentBlocks = async (updates)=>{
    const results = [];
    for (const update of updates){
        const result = await updateContentBlock(update.id, update.updates);
        if (result) {
            results.push(result);
        }
    }
    return results;
};
const bulkDeleteContentBlocks = async (blockIds)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].delete(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"]).where(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sql"]`${__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlocks"].id} = any(${blockIds})`).returning();
    return result.length;
};
}),
"[project]/apps/safety-lms/src/lib/db/queries/quiz-questions.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "canUserAccessQuizQuestion",
    ()=>canUserAccessQuizQuestion,
    "createQuizAttempt",
    ()=>createQuizAttempt,
    "createQuizQuestion",
    ()=>createQuizQuestion,
    "deleteQuizQuestion",
    ()=>deleteQuizQuestion,
    "getAccessibleQuizQuestions",
    ()=>getAccessibleQuizQuestions,
    "getNextQuizQuestionOrderIndex",
    ()=>getNextQuizQuestionOrderIndex,
    "getQuizAttemptsByQuestion",
    ()=>getQuizAttemptsByQuestion,
    "getQuizAttemptsByUser",
    ()=>getQuizAttemptsByUser,
    "getQuizQuestionById",
    ()=>getQuizQuestionById,
    "getQuizQuestionByKey",
    ()=>getQuizQuestionByKey,
    "getQuizQuestionStatistics",
    ()=>getQuizQuestionStatistics,
    "getQuizQuestionsBySectionId",
    ()=>getQuizQuestionsBySectionId,
    "getQuizQuestionsByType",
    ()=>getQuizQuestionsByType,
    "getSectionQuizStatistics",
    ()=>getSectionQuizStatistics,
    "isQuestionKeyUnique",
    ()=>isQuestionKeyUnique,
    "isQuizQuestionOrderIndexUnique",
    ()=>isQuizQuestionOrderIndexUnique,
    "reorderQuizQuestions",
    ()=>reorderQuizQuestions,
    "searchAllQuizQuestions",
    ()=>searchAllQuizQuestions,
    "searchQuizQuestions",
    ()=>searchQuizQuestions,
    "updateQuizQuestion",
    ()=>updateQuizQuestion,
    "updateQuizQuestionOrder",
    ()=>updateQuizQuestionOrder,
    "validateQuizQuestionContent",
    ()=>validateQuizQuestionContent
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/sql/expressions/conditions.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/sql/expressions/select.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/sql/sql.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/index.ts [app-route] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/index.ts [app-route] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/quiz-questions.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$attempts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/quiz-attempts.ts [app-route] (ecmascript)");
;
;
;
const getQuizQuestionById = async (questionId)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select().from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"].id, questionId)).limit(1);
    return result[0] || null;
};
const getQuizQuestionByKey = async (sectionId, questionKey)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select().from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"].sectionId, sectionId), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"].questionKey, questionKey))).limit(1);
    return result[0] || null;
};
const getQuizQuestionsBySectionId = async (sectionId, options = {})=>{
    const { questionType, includeUnpublished = false, sortBy = "orderIndex", sortOrder = "asc" } = options;
    let whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"].sectionId, sectionId);
    if (questionType) {
        whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])(whereClause, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"].questionType, questionType));
    }
    if (!includeUnpublished) {
        whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])(whereClause, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"].isPublished, true));
    }
    const orderBy = sortOrder === "desc" ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["desc"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"][sortBy]) : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["asc"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"][sortBy]);
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select().from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"]).where(whereClause).orderBy(orderBy);
    return result;
};
const getQuizQuestionsByType = async (questionType, options = {})=>{
    const { includeUnpublished = false, limit = 20, offset = 0 } = options;
    let whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"].questionType, questionType);
    if (!includeUnpublished) {
        whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])(whereClause, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"].isPublished, true));
    }
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select().from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"]).where(whereClause).orderBy((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["asc"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"].createdAt)).limit(limit).offset(offset);
    return result;
};
const createQuizQuestion = async (questionData)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].insert(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"]).values(questionData).returning();
    return result[0];
};
const updateQuizQuestion = async (questionId, updates)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].update(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"]).set({
        ...updates,
        updatedAt: new Date()
    }).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"].id, questionId)).returning();
    return result[0] || null;
};
const deleteQuizQuestion = async (questionId)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].delete(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"].id, questionId)).returning();
    return result.length > 0;
};
const updateQuizQuestionOrder = async (questionId, newOrderIndex)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].update(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"]).set({
        orderIndex: newOrderIndex,
        updatedAt: new Date()
    }).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"].id, questionId)).returning();
    return result[0] || null;
};
const reorderQuizQuestions = async (sectionId, questionOrders)=>{
    const results = [];
    for (const order of questionOrders){
        const result = await updateQuizQuestionOrder(order.questionId, order.orderIndex);
        if (result) {
            results.push(result);
        }
    }
    return results;
};
const getNextQuizQuestionOrderIndex = async (sectionId)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select({
        maxOrder: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sql"]`max(${__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"].orderIndex})`
    }).from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"].sectionId, sectionId));
    return (result[0]?.maxOrder || 0) + 1;
};
const isQuestionKeyUnique = async (sectionId, questionKey, excludeQuestionId)=>{
    let whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"].sectionId, sectionId), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"].questionKey, questionKey));
    if (excludeQuestionId) {
        whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])(whereClause, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sql"]`${__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"].id} != ${excludeQuestionId}`);
    }
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select({
        id: __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"].id
    }).from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"]).where(whereClause).limit(1);
    return result.length === 0;
};
const isQuizQuestionOrderIndexUnique = async (sectionId, orderIndex, excludeQuestionId)=>{
    let whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"].sectionId, sectionId), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"].orderIndex, orderIndex));
    if (excludeQuestionId) {
        whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])(whereClause, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sql"]`${__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"].id} != ${excludeQuestionId}`);
    }
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select({
        id: __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"].id
    }).from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"]).where(whereClause).limit(1);
    return result.length === 0;
};
const validateQuizQuestionContent = async (questionType, questionText, options, correctAnswer)=>{
    const errors = [];
    if (!questionText || questionText.trim().length === 0) {
        errors.push("Question text is required");
    }
    switch(questionType){
        case "true-false":
            if (typeof correctAnswer !== "boolean") {
                errors.push("True/false questions require a boolean correct answer");
            }
            break;
        case "multiple-choice":
            if (!options || Object.keys(options).length === 0) {
                errors.push("Multiple choice questions require options");
            }
            if (typeof correctAnswer !== "string" || !options || !(correctAnswer in options)) {
                errors.push("Correct answer must be one of the provided options");
            }
            break;
    }
    return {
        isValid: errors.length === 0,
        errors
    };
};
const createQuizAttempt = async (attemptData)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].insert(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$attempts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizAttempts"]).values({
        ...attemptData,
        attemptedAt: new Date()
    }).returning();
    return result[0];
};
const getQuizAttemptsByUser = async (userId, options = {})=>{
    const { quizQuestionId, isCorrect, dateFrom, dateTo, limit = 20, offset = 0 } = options;
    let whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$attempts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizAttempts"].userId, userId);
    if (quizQuestionId) {
        whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])(whereClause, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$attempts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizAttempts"].quizQuestionId, quizQuestionId));
    }
    if (isCorrect !== undefined) {
        whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])(whereClause, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$attempts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizAttempts"].isCorrect, isCorrect));
    }
    if (dateFrom) {
        whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])(whereClause, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sql"]`${__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$attempts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizAttempts"].attemptedAt} >= ${dateFrom}`);
    }
    if (dateTo) {
        whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])(whereClause, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sql"]`${__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$attempts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizAttempts"].attemptedAt} <= ${dateTo}`);
    }
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select().from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$attempts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizAttempts"]).where(whereClause).orderBy((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["desc"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$attempts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizAttempts"].attemptedAt)).limit(limit).offset(offset);
    return result;
};
const getQuizAttemptsByQuestion = async (quizQuestionId, options = {})=>{
    const { userId, limit = 20, offset = 0 } = options;
    let whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$attempts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizAttempts"].quizQuestionId, quizQuestionId);
    if (userId) {
        whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])(whereClause, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$attempts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizAttempts"].userId, userId));
    }
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select().from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$attempts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizAttempts"]).where(whereClause).orderBy((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["desc"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$attempts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizAttempts"].attemptedAt)).limit(limit).offset(offset);
    return result;
};
const getQuizQuestionStatistics = async (questionId)=>{
    const question = await getQuizQuestionById(questionId);
    if (!question) return null;
    const attempts = await getQuizAttemptsByQuestion(questionId);
    const totalAttempts = attempts.length;
    const correctAttempts = attempts.filter((a)=>a.isCorrect).length;
    const incorrectAttempts = totalAttempts - correctAttempts;
    const averageTimeSpent = totalAttempts > 0 ? attempts.reduce((sum, a)=>sum + a.timeSpentSeconds, 0) / totalAttempts : 0;
    const successRate = totalAttempts > 0 ? correctAttempts / totalAttempts * 100 : 0;
    const lastAttempted = attempts.length > 0 ? attempts.sort((a, b)=>b.attemptedAt.getTime() - a.attemptedAt.getTime())[0].attemptedAt : undefined;
    return {
        totalAttempts,
        correctAttempts,
        incorrectAttempts,
        averageTimeSpent,
        successRate,
        lastAttempted
    };
};
const getSectionQuizStatistics = async (sectionId)=>{
    // Get questions in section
    const questions = await getQuizQuestionsBySectionId(sectionId, {
        includeUnpublished: true
    });
    if (questions.length === 0) {
        return {
            totalQuestions: 0,
            publishedQuestions: 0,
            totalAttempts: 0,
            averageSuccessRate: 0,
            questionsByType: {
                "true-false": 0,
                "multiple-choice": 0
            }
        };
    }
    const publishedQuestions = questions.filter((q)=>q.isPublished).length;
    // Get attempts for all questions
    const questionIds = questions.map((q)=>q.id);
    const attempts = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select().from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$attempts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizAttempts"]).where(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sql"]`${__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$attempts$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizAttempts"].quizQuestionId} = any(${questionIds})`);
    const totalAttempts = attempts.length;
    const correctAttempts = attempts.filter((a)=>a.isCorrect).length;
    const averageSuccessRate = totalAttempts > 0 ? correctAttempts / totalAttempts * 100 : 0;
    const questionsByType = questions.reduce((acc, q)=>{
        acc[q.questionType] = (acc[q.questionType] || 0) + 1;
        return acc;
    }, {});
    return {
        totalQuestions: questions.length,
        publishedQuestions,
        totalAttempts,
        averageSuccessRate,
        questionsByType
    };
};
const searchQuizQuestions = async (sectionId, searchTerm, options = {})=>{
    const { questionType, includeUnpublished = false, limit = 20, offset = 0 } = options;
    let whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"].sectionId, sectionId), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sql"]`${__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"].questionText} ilike ${`%${searchTerm}%`}`);
    if (questionType) {
        whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])(whereClause, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"].questionType, questionType));
    }
    if (!includeUnpublished) {
        whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])(whereClause, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"].isPublished, true));
    }
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select().from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"]).where(whereClause).orderBy((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["asc"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"].orderIndex)).limit(limit).offset(offset);
    return result;
};
const searchAllQuizQuestions = async (searchTerm, options = {})=>{
    const { questionType, includeUnpublished = false, limit = 20, offset = 0 } = options;
    let whereClause = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sql"]`${__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"].questionText} ilike ${`%${searchTerm}%`}`;
    if (questionType) {
        whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])(whereClause, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"].questionType, questionType));
    }
    if (!includeUnpublished) {
        whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])(whereClause, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"].isPublished, true));
    }
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select().from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"]).where(whereClause).orderBy((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["asc"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestions"].createdAt)).limit(limit).offset(offset);
    return result;
};
const getAccessibleQuizQuestions = async (sectionId, userRole, options = {})=>{
    // All roles can access published quiz questions if they have section access
    // Access control is handled at the section level
    return getQuizQuestionsBySectionId(sectionId, {
        ...options,
        includeUnpublished: userRole === "safety_admin"
    });
};
const canUserAccessQuizQuestion = async (questionId, userRole)=>{
    const question = await getQuizQuestionById(questionId);
    if (!question) return false;
    // Safety admins can access all questions
    if (userRole === "safety_admin") return true;
    // Other roles can only access published questions
    return question.isPublished;
};
}),
"[project]/apps/safety-lms/src/lib/db/queries/user-progress.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "calculateCourseCompletionStatus",
    ()=>calculateCourseCompletionStatus,
    "canUserAccessProgress",
    ()=>canUserAccessProgress,
    "deleteUserProgress",
    ()=>deleteUserProgress,
    "getAccessibleUserProgress",
    ()=>getAccessibleUserProgress,
    "getCourseCompletionStatusForUsers",
    ()=>getCourseCompletionStatusForUsers,
    "getCourseProgressStatistics",
    ()=>getCourseProgressStatistics,
    "getUserProgressAnalytics",
    ()=>getUserProgressAnalytics,
    "getUserProgressByCourse",
    ()=>getUserProgressByCourse,
    "getUserProgressById",
    ()=>getUserProgressById,
    "getUserProgressBySection",
    ()=>getUserProgressBySection,
    "getUserProgressByUser",
    ()=>getUserProgressByUser,
    "getUserProgressByUserAndSection",
    ()=>getUserProgressByUserAndSection,
    "searchUserProgress",
    ()=>searchUserProgress,
    "updateUserProgress",
    ()=>updateUserProgress,
    "updateUserProgressByUserAndSection",
    ()=>updateUserProgressByUserAndSection,
    "upsertUserProgress",
    ()=>upsertUserProgress
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/sql/expressions/conditions.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/sql/expressions/select.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/sql/sql.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/index.ts [app-route] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/index.ts [app-route] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/user-progress.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$courses$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/courses.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/course-sections.ts [app-route] (ecmascript)");
;
;
;
const getUserProgressById = async (progressId)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select().from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProgress"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProgress"].id, progressId)).limit(1);
    return result[0] || null;
};
const getUserProgressByUserAndSection = async (userId, sectionId)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select().from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProgress"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProgress"].userId, userId), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProgress"].sectionId, sectionId))).limit(1);
    return result[0] || null;
};
const getUserProgressByUser = async (userId, options = {})=>{
    const { courseId, sectionId, isCompleted, completionPercentageMin, completionPercentageMax, dateFrom, dateTo, sortBy = "lastAccessedAt", sortOrder = "desc" } = options;
    let whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProgress"].userId, userId);
    if (courseId) {
        whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])(whereClause, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProgress"].courseId, courseId));
    }
    if (sectionId) {
        whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])(whereClause, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProgress"].sectionId, sectionId));
    }
    if (isCompleted !== undefined) {
        whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])(whereClause, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProgress"].isCompleted, isCompleted));
    }
    if (completionPercentageMin !== undefined) {
        whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])(whereClause, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["gte"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProgress"].completionPercentage, completionPercentageMin));
    }
    if (completionPercentageMax !== undefined) {
        whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])(whereClause, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["lte"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProgress"].completionPercentage, completionPercentageMax));
    }
    if (dateFrom) {
        whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])(whereClause, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["gte"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProgress"].lastAccessedAt, dateFrom));
    }
    if (dateTo) {
        whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])(whereClause, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["lte"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProgress"].lastAccessedAt, dateTo));
    }
    const orderBy = sortOrder === "desc" ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["desc"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProgress"][sortBy]) : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["asc"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProgress"][sortBy]);
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select().from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProgress"]).where(whereClause).orderBy(orderBy);
    return result;
};
const getUserProgressByCourse = async (courseId, options = {})=>{
    const { userId, isCompleted, limit = 20, offset = 0 } = options;
    let whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProgress"].courseId, courseId);
    if (userId) {
        whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])(whereClause, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProgress"].userId, userId));
    }
    if (isCompleted !== undefined) {
        whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])(whereClause, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProgress"].isCompleted, isCompleted));
    }
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select().from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProgress"]).where(whereClause).orderBy((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["desc"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProgress"].lastAccessedAt)).limit(limit).offset(offset);
    return result;
};
const getUserProgressBySection = async (sectionId, options = {})=>{
    const { userId, isCompleted, limit = 20, offset = 0 } = options;
    let whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProgress"].sectionId, sectionId);
    if (userId) {
        whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])(whereClause, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProgress"].userId, userId));
    }
    if (isCompleted !== undefined) {
        whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])(whereClause, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProgress"].isCompleted, isCompleted));
    }
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select().from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProgress"]).where(whereClause).orderBy((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["desc"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProgress"].lastAccessedAt)).limit(limit).offset(offset);
    return result;
};
const upsertUserProgress = async (progressData)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].insert(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProgress"]).values(progressData).onConflictDoUpdate({
        target: [
            __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProgress"].userId,
            __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProgress"].sectionId
        ],
        set: {
            isCompleted: progressData.isCompleted,
            completionPercentage: progressData.completionPercentage,
            timeSpentSeconds: progressData.timeSpentSeconds,
            lastAccessedAt: progressData.lastAccessedAt,
            completedAt: progressData.completedAt,
            updatedAt: new Date()
        }
    }).returning();
    return result[0];
};
const updateUserProgress = async (progressId, updates)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].update(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProgress"]).set({
        ...updates,
        updatedAt: new Date()
    }).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProgress"].id, progressId)).returning();
    return result[0] || null;
};
const updateUserProgressByUserAndSection = async (userId, sectionId, updates)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].update(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProgress"]).set({
        ...updates,
        updatedAt: new Date()
    }).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProgress"].userId, userId), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProgress"].sectionId, sectionId))).returning();
    return result[0] || null;
};
const deleteUserProgress = async (progressId)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].delete(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProgress"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProgress"].id, progressId)).returning();
    return result.length > 0;
};
const calculateCourseCompletionStatus = async (userId, courseId)=>{
    // Get all sections for the course
    const sections = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select().from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"].courseId, courseId));
    if (sections.length === 0) return null;
    // Get user progress for this course
    const progressRecords = await getUserProgressByUser(userId, {
        courseId
    });
    const completedSections = progressRecords.filter((p)=>p.isCompleted).length;
    const completionPercentage = Math.round(completedSections / sections.length * 100);
    const timeSpentSeconds = progressRecords.reduce((sum, p)=>sum + p.timeSpentSeconds, 0);
    const lastAccessedAt = progressRecords.length > 0 ? progressRecords.reduce((latest, p)=>p.lastAccessedAt > latest ? p.lastAccessedAt : latest, progressRecords[0].lastAccessedAt) : new Date();
    const completedAt = completedSections === sections.length && sections.length > 0 ? progressRecords.reduce((latest, p)=>p.completedAt && p.completedAt > latest ? p.completedAt : latest, progressRecords[0].completedAt || new Date(0)) : undefined;
    return {
        courseId,
        userId,
        totalSections: sections.length,
        completedSections,
        completionPercentage,
        timeSpentSeconds,
        lastAccessedAt,
        completedAt: completedAt && completedAt.getTime() > 0 ? completedAt : undefined
    };
};
const getCourseCompletionStatusForUsers = async (courseId, userIds)=>{
    const results = [];
    for (const userId of userIds){
        const status = await calculateCourseCompletionStatus(userId, courseId);
        if (status) {
            results.push(status);
        }
    }
    return results;
};
const getUserProgressAnalytics = async (userId)=>{
    // Get all courses
    const allCourses = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select().from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$courses$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courses"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$courses$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courses"].isPublished, true));
    if (allCourses.length === 0) {
        return {
            userId,
            totalCourses: 0,
            completedCourses: 0,
            inProgressCourses: 0,
            totalTimeSpent: 0,
            averageCompletionRate: 0,
            coursesByStatus: {
                completed: [],
                inProgress: [],
                notStarted: []
            }
        };
    }
    // Get user progress for all courses
    const userProgressRecords = await getUserProgressByUser(userId);
    const totalCourses = allCourses.length;
    let completedCourses = 0;
    let inProgressCourses = 0;
    const totalTimeSpent = userProgressRecords.reduce((sum, p)=>sum + p.timeSpentSeconds, 0);
    const coursesByStatus = {
        completed: [],
        inProgress: [],
        notStarted: []
    };
    // Analyze each course
    for (const course of allCourses){
        const courseProgress = userProgressRecords.filter((p)=>p.courseId === course.id);
        const completedSections = courseProgress.filter((p)=>p.isCompleted).length;
        const totalSections = courseProgress.length;
        if (totalSections === 0) {
            coursesByStatus.notStarted.push(course.id);
        } else if (completedSections === totalSections && totalSections > 0) {
            completedCourses++;
            coursesByStatus.completed.push(course.id);
        } else {
            inProgressCourses++;
            coursesByStatus.inProgress.push(course.id);
        }
    }
    const averageCompletionRate = totalCourses > 0 ? completedCourses / totalCourses * 100 : 0;
    const lastActivity = userProgressRecords.length > 0 ? userProgressRecords.reduce((latest, p)=>p.lastAccessedAt > latest ? p.lastAccessedAt : latest, userProgressRecords[0].lastAccessedAt) : undefined;
    return {
        userId,
        totalCourses,
        completedCourses,
        inProgressCourses,
        totalTimeSpent,
        averageCompletionRate,
        lastActivity,
        coursesByStatus
    };
};
const getCourseProgressStatistics = async (courseId)=>{
    const course = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select().from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$courses$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courses"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$courses$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courses"].id, courseId)).limit(1);
    if (!course[0]) return null;
    // Get all progress records for this course
    const progressRecords = await getUserProgressByCourse(courseId);
    if (progressRecords.length === 0) {
        return {
            totalUsers: 0,
            completedUsers: 0,
            inProgressUsers: 0,
            averageCompletionRate: 0,
            averageTimeSpent: 0
        };
    }
    // Group by user
    const userProgressMap = new Map();
    progressRecords.forEach((p)=>{
        const existing = userProgressMap.get(p.userId) || [];
        existing.push(p);
        userProgressMap.set(p.userId, existing);
    });
    const totalUsers = userProgressMap.size;
    let completedUsers = 0;
    let inProgressUsers = 0;
    let totalTimeSpent = 0;
    // Get total sections for the course
    const sections = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select().from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseSections"].courseId, courseId));
    const totalSections = sections.length;
    // Analyze each user's progress
    for (const [userId, userProgress] of userProgressMap){
        const completedSections = userProgress.filter((p)=>p.isCompleted).length;
        const userTimeSpent = userProgress.reduce((sum, p)=>sum + p.timeSpentSeconds, 0);
        totalTimeSpent += userTimeSpent;
        if (completedSections === totalSections && totalSections > 0) {
            completedUsers++;
        } else if (completedSections > 0) {
            inProgressUsers++;
        }
    }
    const averageCompletionRate = totalUsers > 0 ? completedUsers / totalUsers * 100 : 0;
    const averageTimeSpent = totalUsers > 0 ? totalTimeSpent / totalUsers : 0;
    const lastActivity = progressRecords.length > 0 ? progressRecords.reduce((latest, p)=>p.lastAccessedAt > latest ? p.lastAccessedAt : latest, progressRecords[0].lastAccessedAt) : undefined;
    return {
        totalUsers,
        completedUsers,
        inProgressUsers,
        averageCompletionRate,
        averageTimeSpent,
        lastActivity
    };
};
const searchUserProgress = async (searchTerm, options = {})=>{
    const { userId, courseId, limit = 20, offset = 0 } = options;
    let whereClause = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$sql$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sql"]`${__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProgress"].userId} ilike ${`%${searchTerm}%`}`;
    if (userId) {
        whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])(whereClause, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProgress"].userId, userId));
    }
    if (courseId) {
        whereClause = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])(whereClause, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProgress"].courseId, courseId));
    }
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select().from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProgress"]).where(whereClause).orderBy((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["desc"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["userProgress"].lastAccessedAt)).limit(limit).offset(offset);
    return result;
};
const getAccessibleUserProgress = async (userId, userRole, options = {})=>{
    // Users can always access their own progress
    if (userRole === "employee" || userRole === "hr_admin") {
        return getUserProgressByUser(userId, options);
    }
    // Safety admins can access all progress
    if (userRole === "safety_admin") {
        return getUserProgressByUser(userId, options);
    }
    // Plant managers can access progress in their plant
    if (userRole === "plant_manager") {
        return getUserProgressByUser(userId, options);
    }
    // Default: users can only access their own progress
    return getUserProgressByUser(userId, options);
};
const canUserAccessProgress = async (progressId, userId, userRole)=>{
    const progress = await getUserProgressById(progressId);
    if (!progress) return false;
    // Users can always access their own progress
    if (progress.userId === userId) return true;
    // Safety admins can access all progress
    if (userRole === "safety_admin") return true;
    // Plant managers can access progress in their plant
    if (userRole === "plant_manager") return true;
    // HR admins can view progress in their plant
    if (userRole === "hr_admin") return true;
    return false;
};
}),
"[project]/apps/safety-lms/src/lib/db/queries/translations.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "bulkCreateContentBlockTranslations",
    ()=>bulkCreateContentBlockTranslations,
    "bulkCreateCourseTranslations",
    ()=>bulkCreateCourseTranslations,
    "bulkCreateQuizQuestionTranslations",
    ()=>bulkCreateQuizQuestionTranslations,
    "bulkCreateSectionTranslations",
    ()=>bulkCreateSectionTranslations,
    "courseHasTranslations",
    ()=>courseHasTranslations,
    "createContentBlockTranslation",
    ()=>createContentBlockTranslation,
    "createCourseTranslation",
    ()=>createCourseTranslation,
    "createQuizQuestionTranslation",
    ()=>createQuizQuestionTranslation,
    "createSectionTranslation",
    ()=>createSectionTranslation,
    "deleteCourseTranslation",
    ()=>deleteCourseTranslation,
    "getAvailableCourseLanguages",
    ()=>getAvailableCourseLanguages,
    "getContentBlockTranslation",
    ()=>getContentBlockTranslation,
    "getContentBlockTranslations",
    ()=>getContentBlockTranslations,
    "getContentBlockTranslationsByIds",
    ()=>getContentBlockTranslationsByIds,
    "getCourseTranslation",
    ()=>getCourseTranslation,
    "getCourseTranslationStatus",
    ()=>getCourseTranslationStatus,
    "getCourseTranslations",
    ()=>getCourseTranslations,
    "getQuizQuestionTranslation",
    ()=>getQuizQuestionTranslation,
    "getQuizQuestionTranslations",
    ()=>getQuizQuestionTranslations,
    "getQuizQuestionTranslationsByIds",
    ()=>getQuizQuestionTranslationsByIds,
    "getSectionTranslation",
    ()=>getSectionTranslation,
    "getSectionTranslations",
    ()=>getSectionTranslations,
    "getSectionTranslationsByIds",
    ()=>getSectionTranslationsByIds,
    "updateContentBlockTranslation",
    ()=>updateContentBlockTranslation,
    "updateCourseTranslation",
    ()=>updateCourseTranslation,
    "updateQuizQuestionTranslation",
    ()=>updateQuizQuestionTranslation,
    "updateSectionTranslation",
    ()=>updateSectionTranslation
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.6_postgres@3.4.7/node_modules/drizzle-orm/sql/expressions/conditions.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/index.ts [app-route] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/index.ts [app-route] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/course-translations.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$section$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/section-translations.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$block$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/content-block-translations.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$question$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/schema/quiz-question-translations.ts [app-route] (ecmascript)");
;
;
;
const getCourseTranslation = async (courseId, languageCode)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select().from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseTranslations"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseTranslations"].courseId, courseId), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseTranslations"].languageCode, languageCode))).limit(1);
    return result[0] || null;
};
const getCourseTranslations = async (courseId)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select().from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseTranslations"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseTranslations"].courseId, courseId));
    return result;
};
const getAvailableCourseLanguages = async (courseId)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select({
        languageCode: __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseTranslations"].languageCode
    }).from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseTranslations"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseTranslations"].courseId, courseId));
    return result.map((r)=>r.languageCode);
};
const createCourseTranslation = async (translationData)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].insert(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseTranslations"]).values(translationData).returning();
    return result[0];
};
const updateCourseTranslation = async (courseId, languageCode, updates)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].update(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseTranslations"]).set({
        ...updates,
        updatedAt: new Date()
    }).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseTranslations"].courseId, courseId), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseTranslations"].languageCode, languageCode))).returning();
    return result[0] || null;
};
const deleteCourseTranslation = async (courseId, languageCode)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].delete(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseTranslations"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseTranslations"].courseId, courseId), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseTranslations"].languageCode, languageCode))).returning();
    return result.length > 0;
};
const getSectionTranslation = async (sectionId, languageCode)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select().from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$section$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sectionTranslations"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$section$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sectionTranslations"].sectionId, sectionId), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$section$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sectionTranslations"].languageCode, languageCode))).limit(1);
    return result[0] || null;
};
const getSectionTranslations = async (sectionId)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select().from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$section$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sectionTranslations"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$section$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sectionTranslations"].sectionId, sectionId));
    return result;
};
const getSectionTranslationsByIds = async (sectionIds, languageCode)=>{
    if (sectionIds.length === 0) return [];
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select().from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$section$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sectionTranslations"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$section$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sectionTranslations"].languageCode, languageCode), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$section$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sectionTranslations"].sectionId, sectionIds[0])));
    // Note: For multiple IDs, you'd use IN clause
    return result;
};
const createSectionTranslation = async (translationData)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].insert(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$section$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sectionTranslations"]).values(translationData).returning();
    return result[0];
};
const updateSectionTranslation = async (sectionId, languageCode, updates)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].update(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$section$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sectionTranslations"]).set({
        ...updates,
        updatedAt: new Date()
    }).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$section$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sectionTranslations"].sectionId, sectionId), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$section$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sectionTranslations"].languageCode, languageCode))).returning();
    return result[0] || null;
};
const getContentBlockTranslation = async (contentBlockId, languageCode)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select().from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$block$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlockTranslations"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$block$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlockTranslations"].contentBlockId, contentBlockId), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$block$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlockTranslations"].languageCode, languageCode))).limit(1);
    return result[0] || null;
};
const getContentBlockTranslations = async (contentBlockId)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select().from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$block$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlockTranslations"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$block$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlockTranslations"].contentBlockId, contentBlockId));
    return result;
};
const getContentBlockTranslationsByIds = async (contentBlockIds, languageCode)=>{
    if (contentBlockIds.length === 0) return {};
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select().from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$block$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlockTranslations"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$block$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlockTranslations"].languageCode, languageCode));
    // Build a map of content block ID to translation
    return result.reduce((acc, translation)=>{
        acc[translation.contentBlockId] = translation;
        return acc;
    }, {});
};
const createContentBlockTranslation = async (translationData)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].insert(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$block$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlockTranslations"]).values(translationData).returning();
    return result[0];
};
const updateContentBlockTranslation = async (contentBlockId, languageCode, updates)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].update(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$block$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlockTranslations"]).set({
        ...updates,
        updatedAt: new Date()
    }).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$block$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlockTranslations"].contentBlockId, contentBlockId), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$block$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlockTranslations"].languageCode, languageCode))).returning();
    return result[0] || null;
};
const getQuizQuestionTranslation = async (quizQuestionId, languageCode)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select().from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$question$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestionTranslations"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$question$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestionTranslations"].quizQuestionId, quizQuestionId), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$question$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestionTranslations"].languageCode, languageCode))).limit(1);
    return result[0] || null;
};
const getQuizQuestionTranslations = async (quizQuestionId)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select().from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$question$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestionTranslations"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$question$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestionTranslations"].quizQuestionId, quizQuestionId));
    return result;
};
const getQuizQuestionTranslationsByIds = async (quizQuestionIds, languageCode)=>{
    if (quizQuestionIds.length === 0) return {};
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select().from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$question$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestionTranslations"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$question$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestionTranslations"].languageCode, languageCode));
    // Build a map of quiz question ID to translation
    return result.reduce((acc, translation)=>{
        acc[translation.quizQuestionId] = translation;
        return acc;
    }, {});
};
const createQuizQuestionTranslation = async (translationData)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].insert(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$question$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestionTranslations"]).values(translationData).returning();
    return result[0];
};
const updateQuizQuestionTranslation = async (quizQuestionId, languageCode, updates)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].update(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$question$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestionTranslations"]).set({
        ...updates,
        updatedAt: new Date()
    }).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["and"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$question$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestionTranslations"].quizQuestionId, quizQuestionId), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$question$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestionTranslations"].languageCode, languageCode))).returning();
    return result[0] || null;
};
const bulkCreateCourseTranslations = async (translationsData)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].insert(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseTranslations"]).values(translationsData).returning();
    return result;
};
const bulkCreateSectionTranslations = async (translationsData)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].insert(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$section$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sectionTranslations"]).values(translationsData).returning();
    return result;
};
const bulkCreateContentBlockTranslations = async (translationsData)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].insert(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$content$2d$block$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["contentBlockTranslations"]).values(translationsData).returning();
    return result;
};
const bulkCreateQuizQuestionTranslations = async (translationsData)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].insert(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$quiz$2d$question$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["quizQuestionTranslations"]).values(translationsData).returning();
    return result;
};
const courseHasTranslations = async (courseId)=>{
    const result = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select({
        id: __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseTranslations"].id
    }).from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseTranslations"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$course$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["courseTranslations"].courseId, courseId)).limit(1);
    return result.length > 0;
};
const getCourseTranslationStatus = async (courseId, languageCode)=>{
    // Check course translation
    const courseTranslation = await getCourseTranslation(courseId, languageCode);
    // Get section IDs for this course
    const { courseSections } = await __turbopack_context__.A("[project]/apps/safety-lms/src/lib/db/schema/index.ts [app-route] (ecmascript, async loader)");
    const sections = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select({
        id: courseSections.id
    }).from(courseSections).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(courseSections.courseId, courseId));
    const sectionIds = sections.map((s)=>s.id);
    // Count section translations
    const sectionTranslationsCount = sectionIds.length > 0 ? (await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["db"].select().from(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$section$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sectionTranslations"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$6_postgres$40$3$2e$4$2e$7$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$schema$2f$section$2d$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["sectionTranslations"].languageCode, languageCode))).filter((st)=>sectionIds.includes(st.sectionId)).length : 0;
    // This is a simplified version - for full implementation, you'd need to
    // query content blocks and quiz questions through the sections
    return {
        hasCourseTranslation: !!courseTranslation,
        sectionTranslationsCount,
        contentBlockTranslationsCount: 0,
        quizQuestionTranslationsCount: 0
    };
};
}),
"[project]/apps/safety-lms/src/lib/db/queries/index.ts [app-route] (ecmascript) <locals>", ((__turbopack_context__) => {
"use strict";

// LMS Content Query Operations
// Centralized query system for structured course content, sections, blocks, and quizzes
// Course section queries
__turbopack_context__.s([]);
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$queries$2f$course$2d$sections$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/queries/course-sections.ts [app-route] (ecmascript)");
// Content block queries
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$queries$2f$content$2d$blocks$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/queries/content-blocks.ts [app-route] (ecmascript)");
// Quiz question queries
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$queries$2f$quiz$2d$questions$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/queries/quiz-questions.ts [app-route] (ecmascript)");
// User progress queries
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$queries$2f$user$2d$progress$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/queries/user-progress.ts [app-route] (ecmascript)");
// Translation queries
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$queries$2f$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/queries/translations.ts [app-route] (ecmascript)");
;
;
;
;
;
}),
"[project]/apps/safety-lms/src/app/api/translations/[courseId]/route.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "GET",
    ()=>GET
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$5$2e$4_react$2d$dom$40$19$2e$1$2e$0_react$40$19$2e$1$2e$0_$5f$react$40$19$2e$1$2e$0$2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@15.5.4_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/server.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$queries$2f$index$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/queries/index.ts [app-route] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$queries$2f$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/safety-lms/src/lib/db/queries/translations.ts [app-route] (ecmascript)");
;
;
async function GET(request, { params }) {
    try {
        // Temporarily remove auth requirement for testing
        // const { user } = await serverAuth.getCurrentUser();
        // if (!user) {
        //   return NextResponse.json(
        //     { success: false, error: "Unauthorized" },
        //     { status: 401 }
        //   );
        // }
        const { courseId } = params;
        const { searchParams } = new URL(request.url);
        const language = searchParams.get("language");
        // If specific language requested
        if (language) {
            const translation = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$queries$2f$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getCourseTranslation"])(courseId, language);
            if (!translation) {
                return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$5$2e$4_react$2d$dom$40$19$2e$1$2e$0_react$40$19$2e$1$2e$0_$5f$react$40$19$2e$1$2e$0$2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json({
                    success: false,
                    error: "Translation not found"
                }, {
                    status: 404
                });
            }
            return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$5$2e$4_react$2d$dom$40$19$2e$1$2e$0_react$40$19$2e$1$2e$0_$5f$react$40$19$2e$1$2e$0$2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json({
                success: true,
                data: translation
            });
        }
        // Otherwise, return available languages
        const availableLanguages = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$safety$2d$lms$2f$src$2f$lib$2f$db$2f$queries$2f$translations$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getAvailableCourseLanguages"])(courseId);
        return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$5$2e$4_react$2d$dom$40$19$2e$1$2e$0_react$40$19$2e$1$2e$0_$5f$react$40$19$2e$1$2e$0$2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json({
            success: true,
            data: {
                availableLanguages
            }
        });
    } catch (error) {
        console.error("Error fetching course translations:", error);
        return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$5$2e$4_react$2d$dom$40$19$2e$1$2e$0_react$40$19$2e$1$2e$0_$5f$react$40$19$2e$1$2e$0$2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json({
            success: false,
            error: "Internal server error"
        }, {
            status: 500
        });
    }
}
}),
];

//# sourceMappingURL=%5Broot-of-the-server%5D__8b18f9e5._.js.map