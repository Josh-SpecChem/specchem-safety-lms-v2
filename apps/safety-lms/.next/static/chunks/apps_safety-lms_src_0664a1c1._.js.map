{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jshepherd/OneDrive%20-%20SpecChem%2C%20LLC/Desktop/specchem-safety-lms-v2-main/apps/safety-lms/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n));\nCard.displayName = \"Card\";\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\";\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n));\nCardTitle.displayName = \"CardTitle\";\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\";\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n));\nCardContent.displayName = \"CardContent\";\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n));\nCardFooter.displayName = \"CardFooter\";\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardDescription,\n  CardContent,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,0SAAgB,MAG3B,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,4TAAC;QACC,KAAK;QACL,WAAW,IAAA,qJAAE,EACX,4DACA;QAED,GAAG,KAAK;;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,0SAAgB,OAGjC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,4TAAC;QACC,KAAK;QACL,WAAW,IAAA,qJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,0SAAgB,OAGhC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,4TAAC;QACC,KAAK;QACL,WAAW,IAAA,qJAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,0SAAgB,OAGtC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,4TAAC;QACC,KAAK;QACL,WAAW,IAAA,qJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,0SAAgB,OAGlC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,4TAAC;QAAI,KAAK;QAAK,WAAW,IAAA,qJAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,0SAAgB,QAGjC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,4TAAC;QACC,KAAK;QACL,WAAW,IAAA,qJAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 129, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jshepherd/OneDrive%20-%20SpecChem%2C%20LLC/Desktop/specchem-safety-lms-v2-main/apps/safety-lms/src/components/ui/progress.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n));\nProgress.displayName = ProgressPrimitive.Root.displayName;\n\nexport { Progress };\n\n\n\n\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,yBAAW,0SAAgB,MAG/B,QAAiC;QAAhC,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,OAAO;yBAC/B,4TAAC,yRAAsB;QACrB,KAAK;QACL,WAAW,IAAA,qJAAE,EACX,iEACA;QAED,GAAG,KAAK;kBAET,cAAA,4TAAC,8RAA2B;YAC1B,WAAU;YACV,OAAO;gBAAE,WAAW,AAAC,eAAiC,OAAnB,MAAM,CAAC,SAAS,CAAC,GAAE;YAAI;;;;;;;;;;;;;AAIhE,SAAS,WAAW,GAAG,yRAAsB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 177, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jshepherd/OneDrive%20-%20SpecChem%2C%20LLC/Desktop/specchem-safety-lms-v2-main/apps/safety-lms/src/components/navigation/course-navigation.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport Link from \"next/link\";\nimport { usePathname } from \"next/navigation\";\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\nimport { Progress } from \"@/components/ui/progress\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport {\n  CheckCircle,\n  Lock,\n  PlayCircle,\n  Clock,\n  FileText,\n  ChevronRight,\n  ChevronLeft,\n} from \"lucide-react\";\n\nexport interface CourseModule {\n  id: string;\n  title: string;\n  description?: string;\n  duration?: string;\n  type: \"video\" | \"reading\" | \"quiz\" | \"assignment\";\n  status: \"locked\" | \"available\" | \"in_progress\" | \"completed\";\n  progress?: number;\n  href: string;\n}\n\nexport interface CourseNavigationProps {\n  courseTitle: string;\n  modules: CourseModule[];\n  currentModuleId?: string;\n  overallProgress?: number;\n  className?: string;\n}\n\nconst getModuleIcon = (type: CourseModule[\"type\"]) => {\n  switch (type) {\n    case \"video\":\n      return PlayCircle;\n    case \"reading\":\n      return FileText;\n    case \"quiz\":\n      return FileText;\n    case \"assignment\":\n      return FileText;\n    default:\n      return FileText;\n  }\n};\n\nconst getStatusIcon = (status: CourseModule[\"status\"]) => {\n  switch (status) {\n    case \"completed\":\n      return CheckCircle;\n    case \"locked\":\n      return Lock;\n    default:\n      return null;\n  }\n};\n\nconst getStatusColor = (status: CourseModule[\"status\"]) => {\n  switch (status) {\n    case \"completed\":\n      return \"text-accent-green-600\";\n    case \"in_progress\":\n      return \"text-primary-600\";\n    case \"locked\":\n      return \"text-neutral-400\";\n    default:\n      return \"text-neutral-500\";\n  }\n};\n\nexport function CourseNavigation({\n  courseTitle,\n  modules,\n  currentModuleId,\n  overallProgress = 0,\n  className,\n}: CourseNavigationProps) {\n  const pathname = usePathname();\n  const currentIndex = modules.findIndex(m => m.id === currentModuleId);\n\n  const previousModule = currentIndex > 0 ? modules[currentIndex - 1] : null;\n  const nextModule =\n    currentIndex < modules.length - 1 ? modules[currentIndex + 1] : null;\n\n  return (\n    <Card className={cn(\"h-fit\", className)}>\n      <CardHeader className=\"pb-4\">\n        <CardTitle className=\"text-lg font-semibold text-neutral-900 dark:text-neutral-100 line-clamp-2\">\n          {courseTitle}\n        </CardTitle>\n        <div className=\"space-y-2\">\n          <div className=\"flex justify-between text-sm text-neutral-600 dark:text-neutral-400\">\n            <span>Progress</span>\n            <span className=\"font-medium\">{Math.round(overallProgress)}%</span>\n          </div>\n          <Progress value={overallProgress} className=\"h-2\" />\n        </div>\n      </CardHeader>\n\n      <CardContent className=\"space-y-6\">\n        {/* Module Navigation */}\n        <div className=\"space-y-3\">\n          <h3 className=\"text-sm font-medium text-neutral-700 dark:text-neutral-300\">\n            Course Modules\n          </h3>\n          <nav className=\"space-y-2\">\n            {modules.map((module, index) => {\n              const Icon = getModuleIcon(module.type);\n              const StatusIcon = getStatusIcon(module.status);\n              const isActive = module.id === currentModuleId;\n              const isDisabled = module.status === \"locked\";\n\n              return (\n                <div key={module.id} className=\"relative\">\n                  <Link\n                    href={isDisabled ? \"#\" : module.href}\n                    className={cn(\n                      \"flex items-start gap-3 p-3 rounded-lg transition-all duration-200\",\n                      \"hover:bg-neutral-50 dark:hover:bg-neutral-800\",\n                      isActive &&\n                        \"bg-primary-50 dark:bg-primary-900/20 border border-primary-200 dark:border-primary-800\",\n                      isDisabled && \"cursor-not-allowed opacity-60\"\n                    )}\n                    onClick={e => isDisabled && e.preventDefault()}\n                  >\n                    <div className=\"flex items-center gap-3 flex-1 min-w-0\">\n                      <div\n                        className={cn(\n                          \"flex-shrink-0 mt-0.5\",\n                          getStatusColor(module.status)\n                        )}\n                      >\n                        {StatusIcon ? (\n                          <StatusIcon className=\"h-4 w-4\" />\n                        ) : (\n                          <Icon className=\"h-4 w-4\" />\n                        )}\n                      </div>\n\n                      <div className=\"flex-1 min-w-0\">\n                        <div className=\"flex items-center gap-2 mb-1\">\n                          <span className=\"text-xs font-medium text-neutral-500 dark:text-neutral-400 bg-neutral-100 dark:bg-neutral-800 px-1.5 py-0.5 rounded\">\n                            {index + 1}\n                          </span>\n                          <p\n                            className={cn(\n                              \"text-sm font-medium truncate\",\n                              isActive &&\n                                \"text-primary-600 dark:text-primary-400\"\n                            )}\n                          >\n                            {module.title}\n                          </p>\n                        </div>\n\n                        {module.description && (\n                          <p className=\"text-xs text-neutral-500 dark:text-neutral-400 line-clamp-2 mb-2\">\n                            {module.description}\n                          </p>\n                        )}\n\n                        <div className=\"flex items-center justify-between\">\n                          <div className=\"flex items-center gap-3 text-xs text-neutral-500 dark:text-neutral-400\">\n                            {module.duration && (\n                              <div className=\"flex items-center gap-1\">\n                                <Clock className=\"h-3 w-3\" />\n                                {module.duration}\n                              </div>\n                            )}\n                          </div>\n\n                          {module.progress !== undefined &&\n                            module.progress > 0 && (\n                              <div className=\"text-xs font-medium text-neutral-600 dark:text-neutral-300\">\n                                {module.progress}%\n                              </div>\n                            )}\n                        </div>\n\n                        {module.progress !== undefined &&\n                          module.progress > 0 &&\n                          module.progress < 100 && (\n                            <div className=\"mt-2\">\n                              <Progress\n                                value={module.progress}\n                                className=\"h-1\"\n                              />\n                            </div>\n                          )}\n                      </div>\n                    </div>\n                  </Link>\n                </div>\n              );\n            })}\n          </nav>\n        </div>\n\n        {/* Navigation Controls */}\n        <div className=\"flex items-center justify-between pt-4 border-t border-neutral-200 dark:border-neutral-700\">\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            disabled={!previousModule || previousModule.status === \"locked\"}\n            asChild={\n              previousModule && previousModule.status !== \"locked\"\n                ? true\n                : false\n            }\n            className=\"flex items-center gap-2\"\n          >\n            {previousModule && previousModule.status !== \"locked\" ? (\n              <Link href={previousModule.href}>\n                <ChevronLeft className=\"h-4 w-4\" />\n                Previous\n              </Link>\n            ) : (\n              <>\n                <ChevronLeft className=\"h-4 w-4\" />\n                Previous\n              </>\n            )}\n          </Button>\n\n          <Button\n            variant=\"default\"\n            size=\"sm\"\n            disabled={!nextModule || nextModule.status === \"locked\"}\n            asChild={\n              nextModule && nextModule.status !== \"locked\" ? true : false\n            }\n            className=\"flex items-center gap-2\"\n          >\n            {nextModule && nextModule.status !== \"locked\" ? (\n              <Link href={nextModule.href}>\n                Next\n                <ChevronRight className=\"h-4 w-4\" />\n              </Link>\n            ) : (\n              <>\n                Next\n                <ChevronRight className=\"h-4 w-4\" />\n              </>\n            )}\n          </Button>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 606, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jshepherd/OneDrive%20-%20SpecChem%2C%20LLC/Desktop/specchem-safety-lms-v2-main/apps/safety-lms/src/hooks/useUserProgress.ts"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useCallback } from \"react\";\nimport { useAuth } from \"./useAuth\";\nimport { UserProgress } from \"@/lib/types/lms-content\";\n\nexport function useUserProgress(courseId?: string, sectionId?: string) {\n  const { user } = useAuth();\n  const [progress, setProgress] = useState<UserProgress[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchProgress = async () => {\n      if (!user) {\n        setLoading(false);\n        return;\n      }\n\n      try {\n        setLoading(true);\n        setError(null);\n\n        const params = new URLSearchParams();\n        if (courseId) {\n          params.append(\"courseId\", courseId);\n        }\n        if (sectionId) {\n          params.append(\"sectionId\", sectionId);\n        }\n\n        const response = await fetch(`/api/user-progress?${params}`);\n\n        if (!response.ok) {\n          throw new Error(\n            `Failed to fetch user progress: ${response.statusText}`\n          );\n        }\n\n        const data = await response.json();\n\n        if (!data.success) {\n          throw new Error(data.error || \"Failed to fetch user progress\");\n        }\n\n        setProgress(data.data || []);\n      } catch (err) {\n        console.error(\"Error fetching user progress:\", err);\n        setError(\n          err instanceof Error ? err.message : \"Failed to fetch user progress\"\n        );\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchProgress();\n  }, [user, courseId, sectionId]);\n\n  const createProgress = async (\n    progressData: Omit<UserProgress, \"id\" | \"createdAt\" | \"updatedAt\">\n  ) => {\n    try {\n      const response = await fetch(\"/api/user-progress\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(progressData),\n      });\n\n      if (!response.ok) {\n        throw new Error(\n          `Failed to create user progress: ${response.statusText}`\n        );\n      }\n\n      const data = await response.json();\n\n      if (!data.success) {\n        throw new Error(data.error || \"Failed to create user progress\");\n      }\n\n      // Refresh progress\n      setProgress(prev => [...prev, data.data]);\n      return data.data;\n    } catch (err) {\n      console.error(\"Error creating user progress:\", err);\n      throw err;\n    }\n  };\n\n  // Get course status for a specific course\n  const getCourseStatus = useCallback((courseId: string): {\n    status: \"not_started\" | \"in_progress\" | \"completed\";\n    progressPercent: number;\n    progress?: UserProgress;\n  } => {\n    // Find progress for this course\n    const courseProgress = progress.find(p => p.courseId === courseId);\n    \n    if (!courseProgress) {\n      return {\n        status: \"not_started\",\n        progressPercent: 0,\n      };\n    }\n    \n    // Determine status based on progress\n    let status: \"not_started\" | \"in_progress\" | \"completed\" = \"not_started\";\n    if (courseProgress.isCompleted) {\n      status = \"completed\";\n    } else if (courseProgress.completionPercentage > 0) {\n      status = \"in_progress\";\n    }\n    \n    return {\n      status,\n      progressPercent: courseProgress.completionPercentage || 0,\n      progress: courseProgress,\n    };\n  }, [progress]);\n\n  return {\n    progress,\n    loading,\n    error,\n    createProgress,\n    getCourseStatus,\n    refetch: () => {\n      if (user) {\n        setLoading(true);\n        setError(null);\n      }\n    },\n  };\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;;AAHA;;;AAMO,SAAS,gBAAgB,QAAiB,EAAE,SAAkB;;IACnE,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,8JAAO;IACxB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,wSAAQ,EAAiB,EAAE;IAC3D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,wSAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,wSAAQ,EAAgB;IAElD,IAAA,ySAAS;qCAAC;YACR,MAAM;2DAAgB;oBACpB,IAAI,CAAC,MAAM;wBACT,WAAW;wBACX;oBACF;oBAEA,IAAI;wBACF,WAAW;wBACX,SAAS;wBAET,MAAM,SAAS,IAAI;wBACnB,IAAI,UAAU;4BACZ,OAAO,MAAM,CAAC,YAAY;wBAC5B;wBACA,IAAI,WAAW;4BACb,OAAO,MAAM,CAAC,aAAa;wBAC7B;wBAEA,MAAM,WAAW,MAAM,MAAM,AAAC,sBAA4B,OAAP;wBAEnD,IAAI,CAAC,SAAS,EAAE,EAAE;4BAChB,MAAM,IAAI,MACR,AAAC,kCAAqD,OAApB,SAAS,UAAU;wBAEzD;wBAEA,MAAM,OAAO,MAAM,SAAS,IAAI;wBAEhC,IAAI,CAAC,KAAK,OAAO,EAAE;4BACjB,MAAM,IAAI,MAAM,KAAK,KAAK,IAAI;wBAChC;wBAEA,YAAY,KAAK,IAAI,IAAI,EAAE;oBAC7B,EAAE,OAAO,KAAK;wBACZ,QAAQ,KAAK,CAAC,iCAAiC;wBAC/C,SACE,eAAe,QAAQ,IAAI,OAAO,GAAG;oBAEzC,SAAU;wBACR,WAAW;oBACb;gBACF;;YAEA;QACF;oCAAG;QAAC;QAAM;QAAU;KAAU;IAE9B,MAAM,iBAAiB,OACrB;QAEA,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,sBAAsB;gBACjD,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,MAAM,KAAK,SAAS,CAAC;YACvB;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,IAAI,MACR,AAAC,mCAAsD,OAApB,SAAS,UAAU;YAE1D;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAEhC,IAAI,CAAC,KAAK,OAAO,EAAE;gBACjB,MAAM,IAAI,MAAM,KAAK,KAAK,IAAI;YAChC;YAEA,mBAAmB;YACnB,YAAY,CAAA,OAAQ;uBAAI;oBAAM,KAAK,IAAI;iBAAC;YACxC,OAAO,KAAK,IAAI;QAClB,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,iCAAiC;YAC/C,MAAM;QACR;IACF;IAEA,0CAA0C;IAC1C,MAAM,kBAAkB,IAAA,2SAAW;wDAAC,CAAC;YAKnC,gCAAgC;YAChC,MAAM,iBAAiB,SAAS,IAAI;+EAAC,CAAA,IAAK,EAAE,QAAQ,KAAK;;YAEzD,IAAI,CAAC,gBAAgB;gBACnB,OAAO;oBACL,QAAQ;oBACR,iBAAiB;gBACnB;YACF;YAEA,qCAAqC;YACrC,IAAI,SAAsD;YAC1D,IAAI,eAAe,WAAW,EAAE;gBAC9B,SAAS;YACX,OAAO,IAAI,eAAe,oBAAoB,GAAG,GAAG;gBAClD,SAAS;YACX;YAEA,OAAO;gBACL;gBACA,iBAAiB,eAAe,oBAAoB,IAAI;gBACxD,UAAU;YACZ;QACF;uDAAG;QAAC;KAAS;IAEb,OAAO;QACL;QACA;QACA;QACA;QACA;QACA,SAAS;YACP,IAAI,MAAM;gBACR,WAAW;gBACX,SAAS;YACX;QACF;IACF;AACF;GAlIgB;;QACG,8JAAO","debugId":null}},
    {"offset": {"line": 746, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jshepherd/OneDrive%20-%20SpecChem%2C%20LLC/Desktop/specchem-safety-lms-v2-main/apps/safety-lms/src/hooks/useCourses.ts"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useCallback } from \"react\";\nimport { useAuth } from \"./useAuth\";\nimport { useUserProgress } from \"./useUserProgress\";\n\n// Database course type (minimal schema)\nexport interface DatabaseCourse {\n  id: string;\n  slug: string;\n  title: string;\n  version: string;\n  isPublished: boolean;\n  createdAt: string;\n  updatedAt: string;\n}\n\n// UI course type (enhanced for display)\nexport interface UICourse {\n  id: string;\n  title: string;\n  description: string;\n  category: string;\n  duration: string;\n  difficulty: \"Beginner\" | \"Intermediate\" | \"Advanced\";\n  rating: number;\n  enrolledUsers: number;\n  progress: number;\n  status: \"not_started\" | \"in_progress\" | \"completed\";\n  language: \"English\" | \"Spanish\";\n  instructor: string;\n  lastUpdated: string;\n  prerequisites: string[];\n  objectives: string[];\n  image: string;\n  slug: string;\n}\n\n// Map database course to UI course with sensible defaults\nconst mapDatabaseCourseToUI = (\n  dbCourse: DatabaseCourse,\n  userStatus?: { status: string; progressPercent: number }\n): UICourse => {\n  // Determine language based on title content\n  const isSpanish =\n    dbCourse.title.toLowerCase().includes(\"capacitación\") ||\n    dbCourse.title.toLowerCase().includes(\"específica\");\n\n  // Determine category based on title content\n  const getCategory = (title: string): string => {\n    const lowerTitle = title.toLowerCase();\n    if (lowerTitle.includes(\"hazmat\") || lowerTitle.includes(\"chemical\")) {\n      return \"Chemical Safety\";\n    }\n    if (lowerTitle.includes(\"equipment\") || lowerTitle.includes(\"ppe\")) {\n      return \"Equipment Safety\";\n    }\n    if (\n      lowerTitle.includes(\"environmental\") ||\n      lowerTitle.includes(\"compliance\")\n    ) {\n      return \"Environmental Safety\";\n    }\n    if (lowerTitle.includes(\"emergency\") || lowerTitle.includes(\"response\")) {\n      return \"Emergency Response\";\n    }\n    return \"General Safety\";\n  };\n\n  // Generate description based on title and category\n  const getDescription = (title: string, category: string): string => {\n    const categoryDescriptions: Record<string, string> = {\n      \"Chemical Safety\": isSpanish\n        ? \"Capacitación integral sobre manejo de materiales peligrosos y procedimientos de seguridad química.\"\n        : \"Comprehensive training on hazardous materials handling and chemical safety procedures.\",\n      \"Equipment Safety\": isSpanish\n        ? \"Capacitación esencial para la operación y mantenimiento seguros de equipos industriales.\"\n        : \"Essential training for safe operation and maintenance of industrial equipment.\",\n      \"Environmental Safety\": isSpanish\n        ? \"Comprensión de regulaciones ambientales y requisitos de cumplimiento para operaciones industriales.\"\n        : \"Understanding environmental regulations and compliance requirements for industrial operations.\",\n      \"Emergency Response\": isSpanish\n        ? \"Capacitación crítica para situaciones de emergencia y procedimientos de gestión de crisis.\"\n        : \"Critical training for emergency situations and crisis management procedures.\",\n      \"General Safety\": isSpanish\n        ? \"Capacitación general en seguridad y procedimientos de protección personal.\"\n        : \"General safety training and personal protection procedures.\",\n    };\n\n    return (\n      categoryDescriptions[category] ||\n      (isSpanish\n        ? \"Capacitación especializada en seguridad industrial y cumplimiento normativo.\"\n        : \"Specialized training in industrial safety and regulatory compliance.\")\n    );\n  };\n\n  // Generate objectives based on category\n  const getObjectives = (category: string, isSpanish: boolean): string[] => {\n    const objectives: Record<string, string[]> = {\n      \"Chemical Safety\": isSpanish\n        ? [\n            \"Identificación de peligros químicos\",\n            \"Procedimientos de manejo seguro\",\n            \"Protocolos de respuesta de emergencia\",\n            \"Evaluaciones de riesgo químico\",\n          ]\n        : [\n            \"Chemical hazard identification\",\n            \"Safe handling procedures\",\n            \"Emergency response protocols\",\n            \"Chemical risk assessments\",\n          ],\n      \"Equipment Safety\": isSpanish\n        ? [\n            \"Procedimientos de operación de equipos\",\n            \"Protocolos de mantenimiento seguro\",\n            \"Procedimientos de bloqueo/etiquetado\",\n            \"Listas de verificación de inspección\",\n          ]\n        : [\n            \"Equipment operation procedures\",\n            \"Safe maintenance protocols\",\n            \"Lockout/tagout procedures\",\n            \"Equipment inspection checklists\",\n          ],\n      \"Environmental Safety\": isSpanish\n        ? [\n            \"Resumen de regulaciones ambientales\",\n            \"Procedimientos de gestión de residuos\",\n            \"Estrategias de prevención de contaminación\",\n            \"Requisitos de reporte de cumplimiento\",\n          ]\n        : [\n            \"Environmental regulations overview\",\n            \"Waste management procedures\",\n            \"Pollution prevention strategies\",\n            \"Compliance reporting requirements\",\n          ],\n      \"Emergency Response\": isSpanish\n        ? [\n            \"Protocolos de respuesta de emergencia\",\n            \"Procedimientos de comunicación de crisis\",\n            \"Planificación y ejecución de evacuación\",\n            \"Evaluación post-emergencia\",\n          ]\n        : [\n            \"Emergency response protocols\",\n            \"Crisis communication procedures\",\n            \"Evacuation planning and execution\",\n            \"Post-emergency assessment\",\n          ],\n      \"General Safety\": isSpanish\n        ? [\n            \"Identificación de peligros generales\",\n            \"Procedimientos de seguridad básicos\",\n            \"Uso de equipos de protección personal\",\n            \"Protocolos de reporte de incidentes\",\n          ]\n        : [\n            \"General hazard identification\",\n            \"Basic safety procedures\",\n            \"Personal protective equipment usage\",\n            \"Incident reporting protocols\",\n          ],\n    };\n\n    return (\n      objectives[category] ||\n      (isSpanish\n        ? [\n            \"Capacitación en seguridad industrial\",\n            \"Procedimientos de cumplimiento\",\n            \"Protocolos de seguridad\",\n          ]\n        : [\n            \"Industrial safety training\",\n            \"Compliance procedures\",\n            \"Safety protocols\",\n          ])\n    );\n  };\n\n  const category = getCategory(dbCourse.title);\n  const description = getDescription(dbCourse.title, category);\n  const objectives = getObjectives(category, isSpanish);\n\n  return {\n    id: dbCourse.id,\n    title: dbCourse.title,\n    description,\n    category,\n    duration: \"2 hours\", // Default duration\n    difficulty: \"Intermediate\" as const, // Default difficulty\n    rating: 4.5, // Default rating\n    enrolledUsers: Math.floor(Math.random() * 200) + 50, // Simulated enrollment\n    progress: userStatus?.progressPercent || 0, // Real progress data\n    status:\n      (userStatus?.status as \"not_started\" | \"in_progress\" | \"completed\") ||\n      \"not_started\", // Real status\n    language: isSpanish ? \"Spanish\" : \"English\",\n    instructor: isSpanish ? \"Dra. Maria Gonzalez\" : \"Dr. Sarah Johnson\",\n    lastUpdated: new Date(dbCourse.updatedAt).toLocaleDateString(),\n    prerequisites: [], // No prerequisites for now\n    objectives,\n    image: \"/api/placeholder/300/200\",\n    slug: dbCourse.slug,\n  };\n};\n\nexport function useCourses() {\n  const { user, profile } = useAuth();\n  const { getCourseStatus, loading: progressLoading } = useUserProgress();\n  const [courses, setCourses] = useState<UICourse[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  const fetchCourses = useCallback(async () => {\n    if (!user) {\n      setLoading(false);\n      return;\n    }\n\n    try {\n      setLoading(true);\n      setError(null);\n\n      const response = await fetch(\"/api/public/courses\");\n\n      if (!response.ok) {\n        throw new Error(`Failed to fetch courses: ${response.statusText}`);\n      }\n\n      const data = await response.json();\n\n      if (!data.success) {\n        throw new Error(data.error || \"Failed to fetch courses\");\n      }\n\n      // Filter out the RLS test course and map to UI format\n      const dbCourses = data.data.filter(\n        (course: DatabaseCourse) => course.slug !== \"rls-test-course\"\n      );\n\n      const uiCourses = dbCourses.map(dbCourse => {\n        const userStatus = getCourseStatus(dbCourse.id);\n        return mapDatabaseCourseToUI(dbCourse, {\n          status: userStatus.status,\n          progressPercent: userStatus.progressPercent,\n        });\n      });\n      setCourses(uiCourses);\n    } catch (err) {\n      console.error(\"Error fetching courses:\", err);\n      setError(err instanceof Error ? err.message : \"Failed to fetch courses\");\n    } finally {\n      setLoading(false);\n    }\n  }, [user, getCourseStatus]);\n\n  useEffect(() => {\n    fetchCourses();\n  }, [user, getCourseStatus]);\n\n  const refetch = () => {\n    if (user) {\n      fetchCourses();\n    }\n  };\n\n  return {\n    courses,\n    loading: loading || progressLoading,\n    error,\n    refetch,\n  };\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 964, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jshepherd/OneDrive%20-%20SpecChem%2C%20LLC/Desktop/specchem-safety-lms-v2-main/apps/safety-lms/src/hooks/useCourseSections.ts"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\n\nexport interface CourseSection {\n  id: string;\n  courseId: string;\n  sectionKey: string;\n  title: string;\n  orderIndex: number;\n  iconName: string | null;\n  isPublished: boolean;\n  createdAt: string;\n  updatedAt: string;\n}\n\nexport function useCourseSections(courseSlug: string) {\n  const [sections, setSections] = useState<CourseSection[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchSections = async () => {\n      if (!courseSlug) {\n        setLoading(false);\n        return;\n      }\n\n      try {\n        setLoading(true);\n        setError(null);\n\n        const response = await fetch(\n          `/api/courses/${courseSlug}/sections`\n        );\n\n        if (!response.ok) {\n          throw new Error(`Failed to fetch sections: ${response.statusText}`);\n        }\n\n        const data = await response.json();\n\n        if (!data.success) {\n          throw new Error(data.error || \"Failed to fetch sections\");\n        }\n\n        setSections(data.data || []);\n      } catch (err) {\n        console.error(\"Error fetching course sections:\", err);\n        setError(\n          err instanceof Error ? err.message : \"Failed to fetch sections\"\n        );\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchSections();\n  }, [courseSlug]);\n\n  return { sections, loading, error };\n}\n"],"names":[],"mappings":";;;;AAEA;;AAFA;;AAgBO,SAAS,kBAAkB,UAAkB;;IAClD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,wSAAQ,EAAkB,EAAE;IAC5D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,wSAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,wSAAQ,EAAgB;IAElD,IAAA,ySAAS;uCAAC;YACR,MAAM;6DAAgB;oBACpB,IAAI,CAAC,YAAY;wBACf,WAAW;wBACX;oBACF;oBAEA,IAAI;wBACF,WAAW;wBACX,SAAS;wBAET,MAAM,WAAW,MAAM,MACrB,AAAC,gBAA0B,OAAX,YAAW;wBAG7B,IAAI,CAAC,SAAS,EAAE,EAAE;4BAChB,MAAM,IAAI,MAAM,AAAC,6BAAgD,OAApB,SAAS,UAAU;wBAClE;wBAEA,MAAM,OAAO,MAAM,SAAS,IAAI;wBAEhC,IAAI,CAAC,KAAK,OAAO,EAAE;4BACjB,MAAM,IAAI,MAAM,KAAK,KAAK,IAAI;wBAChC;wBAEA,YAAY,KAAK,IAAI,IAAI,EAAE;oBAC7B,EAAE,OAAO,KAAK;wBACZ,QAAQ,KAAK,CAAC,mCAAmC;wBACjD,SACE,eAAe,QAAQ,IAAI,OAAO,GAAG;oBAEzC,SAAU;wBACR,WAAW;oBACb;gBACF;;YAEA;QACF;sCAAG;QAAC;KAAW;IAEf,OAAO;QAAE;QAAU;QAAS;IAAM;AACpC;GA7CgB","debugId":null}},
    {"offset": {"line": 1024, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jshepherd/OneDrive%20-%20SpecChem%2C%20LLC/Desktop/specchem-safety-lms-v2-main/apps/safety-lms/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n);\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  );\n}\n\nexport { Badge, badgeVariants };\n\n\n\n\n\n"],"names":[],"mappings":";;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,qPAAG,EACvB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,KAA4C;QAA5C,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB,GAA5C;IACb,qBACE,4TAAC;QAAI,WAAW,IAAA,qJAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE;KAJS","debugId":null}},
    {"offset": {"line": 1073, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jshepherd/OneDrive%20-%20SpecChem%2C%20LLC/Desktop/specchem-safety-lms-v2-main/apps/safety-lms/src/components/ui/radio-group.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\";\nimport { Circle } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  );\n});\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName;\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  );\n});\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName;\n\nexport { RadioGroup, RadioGroupItem };\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,2BAAa,0SAAgB,MAGjC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;IACxB,qBACE,4TAAC,4RAAwB;QACvB,WAAW,IAAA,qJAAE,EAAC,cAAc;QAC3B,GAAG,KAAK;QACT,KAAK;;;;;;AAGX;;AACA,WAAW,WAAW,GAAG,4RAAwB,CAAC,WAAW;AAE7D,MAAM,+BAAiB,0SAAgB,OAGrC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;IACxB,qBACE,4TAAC,4RAAwB;QACvB,KAAK;QACL,WAAW,IAAA,qJAAE,EACX,4OACA;QAED,GAAG,KAAK;kBAET,cAAA,4TAAC,iSAA6B;YAAC,WAAU;sBACvC,cAAA,4TAAC,uSAAM;gBAAC,WAAU;;;;;;;;;;;;;;;;AAI1B;;AACA,eAAe,WAAW,GAAG,4RAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1145, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jshepherd/OneDrive%20-%20SpecChem%2C%20LLC/Desktop/specchem-safety-lms-v2-main/apps/safety-lms/src/components/ui/label.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as LabelPrimitive from \"@radix-ui/react-label\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n);\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n));\nLabel.displayName = LabelPrimitive.Root.displayName;\n\nexport { Label };\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,IAAA,qPAAG,EACvB;AAGF,MAAM,sBAAQ,0SAAgB,MAI5B,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,4TAAC,yRAAmB;QAClB,KAAK;QACL,WAAW,IAAA,qJAAE,EAAC,iBAAiB;QAC9B,GAAG,KAAK;;;;;;;;AAGb,MAAM,WAAW,GAAG,yRAAmB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1186, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jshepherd/OneDrive%20-%20SpecChem%2C%20LLC/Desktop/specchem-safety-lms-v2-main/apps/safety-lms/src/hooks/useKnowledgeCheckProgress.ts"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { useAuth } from \"./useAuth\";\r\n\r\nexport interface KnowledgeCheckProgress {\r\n  sectionId: string;\r\n  totalQuestions: number;\r\n  completedQuestions: number;\r\n  correctAnswers: number;\r\n  isCompleted: boolean;\r\n  lastAttemptAt?: string;\r\n}\r\n\r\nexport function useKnowledgeCheckProgress(sectionId: string) {\r\n  const { user } = useAuth();\r\n  const [progress, setProgress] = useState<KnowledgeCheckProgress | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    const fetchProgress = async () => {\r\n      if (!user?.id || !sectionId) {\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      try {\r\n        setLoading(true);\r\n        setError(null);\r\n\r\n        // Get quiz questions for this section\r\n        const questionsResponse = await fetch(`/api/quiz-questions?sectionId=${sectionId}`);\r\n        if (!questionsResponse.ok) {\r\n          throw new Error(\"Failed to fetch quiz questions\");\r\n        }\r\n        const questionsData = await questionsResponse.json();\r\n        \r\n        if (!questionsData.success || !questionsData.data) {\r\n          setProgress({\r\n            sectionId,\r\n            totalQuestions: 0,\r\n            completedQuestions: 0,\r\n            correctAnswers: 0,\r\n            isCompleted: false,\r\n          });\r\n          setLoading(false);\r\n          return;\r\n        }\r\n\r\n        const questions = questionsData.data;\r\n        const totalQuestions = questions.length;\r\n\r\n        // Get quiz attempts for this user and section\r\n        const attemptsResponse = await fetch(`/api/quiz-attempts`);\r\n        if (!attemptsResponse.ok) {\r\n          console.error(\"Failed to fetch quiz attempts:\", attemptsResponse.status, attemptsResponse.statusText);\r\n          // Don't throw error, just set empty attempts\r\n          setProgress({\r\n            sectionId,\r\n            totalQuestions,\r\n            completedQuestions: 0,\r\n            correctAnswers: 0,\r\n            isCompleted: false,\r\n          });\r\n          setLoading(false);\r\n          return;\r\n        }\r\n        const attemptsData = await attemptsResponse.json();\r\n\r\n        if (!attemptsData.success || !attemptsData.data) {\r\n          console.log(\"No quiz attempts found for user\");\r\n          setProgress({\r\n            sectionId,\r\n            totalQuestions,\r\n            completedQuestions: 0,\r\n            correctAnswers: 0,\r\n            isCompleted: false,\r\n          });\r\n          setLoading(false);\r\n          return;\r\n        }\r\n\r\n        const attempts = attemptsData.data;\r\n        const questionIds = questions.map((q: any) => q.id);\r\n\r\n        // Find the latest attempt for each question\r\n        const latestAttempts = new Map();\r\n        attempts.forEach((attempt: any) => {\r\n          if (questionIds.includes(attempt.quizQuestionId)) {\r\n            const existing = latestAttempts.get(attempt.quizQuestionId);\r\n            if (!existing || new Date(attempt.attemptedAt) > new Date(existing.attemptedAt)) {\r\n              latestAttempts.set(attempt.quizQuestionId, attempt);\r\n            }\r\n          }\r\n        });\r\n\r\n        const completedQuestions = latestAttempts.size;\r\n        const correctAnswers = Array.from(latestAttempts.values()).filter(\r\n          (attempt: any) => attempt.isCorrect\r\n        ).length;\r\n\r\n        // Get the most recent attempt timestamp\r\n        const lastAttemptAt = Array.from(latestAttempts.values())\r\n          .sort((a: any, b: any) => new Date(b.attemptedAt).getTime() - new Date(a.attemptedAt).getTime())[0]?.attemptedAt;\r\n\r\n        setProgress({\r\n          sectionId,\r\n          totalQuestions,\r\n          completedQuestions,\r\n          correctAnswers,\r\n          isCompleted: completedQuestions === totalQuestions && totalQuestions > 0,\r\n          lastAttemptAt,\r\n        });\r\n      } catch (err) {\r\n        console.error(\"Error fetching knowledge check progress:\", err);\r\n        setError(\r\n          err instanceof Error ? err.message : \"Failed to fetch progress\"\r\n        );\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchProgress();\r\n  }, [user?.id, sectionId]);\r\n\r\n  const updateProgress = async () => {\r\n    // Refetch progress after a Knowledge Check is completed\r\n    if (user?.id && sectionId) {\r\n      setLoading(true);\r\n      // Re-run the useEffect logic\r\n      const fetchProgress = async () => {\r\n        try {\r\n          // Get quiz questions for this section\r\n          const questionsResponse = await fetch(`/api/quiz-questions?sectionId=${sectionId}`);\r\n          if (!questionsResponse.ok) return;\r\n          const questionsData = await questionsResponse.json();\r\n          \r\n          if (!questionsData.success || !questionsData.data) return;\r\n\r\n          const questions = questionsData.data;\r\n          const totalQuestions = questions.length;\r\n\r\n          // Get quiz attempts for this user and section\r\n          const attemptsResponse = await fetch(`/api/quiz-attempts`);\r\n          if (!attemptsResponse.ok) {\r\n            console.error(\"Failed to fetch quiz attempts in updateProgress:\", attemptsResponse.status);\r\n            return;\r\n          }\r\n          const attemptsData = await attemptsResponse.json();\r\n\r\n          if (!attemptsData.success || !attemptsData.data) {\r\n            console.log(\"No quiz attempts found for user in updateProgress\");\r\n            return;\r\n          }\r\n\r\n          const attempts = attemptsData.data;\r\n          const questionIds = questions.map((q: any) => q.id);\r\n\r\n          // Find the latest attempt for each question\r\n          const latestAttempts = new Map();\r\n          attempts.forEach((attempt: any) => {\r\n            if (questionIds.includes(attempt.quizQuestionId)) {\r\n              const existing = latestAttempts.get(attempt.quizQuestionId);\r\n              if (!existing || new Date(attempt.attemptedAt) > new Date(existing.attemptedAt)) {\r\n                latestAttempts.set(attempt.quizQuestionId, attempt);\r\n              }\r\n            }\r\n          });\r\n\r\n          const completedQuestions = latestAttempts.size;\r\n          const correctAnswers = Array.from(latestAttempts.values()).filter(\r\n            (attempt: any) => attempt.isCorrect\r\n          ).length;\r\n\r\n          // Get the most recent attempt timestamp\r\n          const lastAttemptAt = Array.from(latestAttempts.values())\r\n            .sort((a: any, b: any) => new Date(b.attemptedAt).getTime() - new Date(a.attemptedAt).getTime())[0]?.attemptedAt;\r\n\r\n          setProgress({\r\n            sectionId,\r\n            totalQuestions,\r\n            completedQuestions,\r\n            correctAnswers,\r\n            isCompleted: completedQuestions === totalQuestions && totalQuestions > 0,\r\n            lastAttemptAt,\r\n          });\r\n        } catch (err) {\r\n          console.error(\"Error updating progress:\", err);\r\n        } finally {\r\n          setLoading(false);\r\n        }\r\n      };\r\n\r\n      fetchProgress();\r\n    }\r\n  };\r\n\r\n  return {\r\n    progress,\r\n    loading,\r\n    error,\r\n    updateProgress,\r\n    refetch: updateProgress,\r\n  };\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1386, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jshepherd/OneDrive%20-%20SpecChem%2C%20LLC/Desktop/specchem-safety-lms-v2-main/apps/safety-lms/src/components/content/ContentBlockRenderer.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n  AlertTriangle,\n  CheckCircle,\n  Info,\n  Lightbulb,\n  Quote,\n  AlertCircle,\n  RotateCcw,\n  XCircle,\n} from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\nimport { Label } from \"@/components/ui/label\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport { useKnowledgeCheckProgress } from \"@/hooks/useKnowledgeCheckProgress\";\n\n// Utility function to handle escaped newlines\nconst fixNewlines = (text: string): string => {\n  if (!text) return text;\n  // Handle both single and double escaped newlines\n  return text\n    .replace(/\\\\\\\\n\\\\\\\\n/g, '\\n\\n')  // Double escaped double newlines\n    .replace(/\\\\\\\\n/g, '\\n')         // Double escaped single newlines\n    .replace(/\\\\n\\\\n/g, '\\n\\n')      // Single escaped double newlines\n    .replace(/\\\\n/g, '\\n');          // Single escaped single newlines\n};\n\n// Content block types from database schema\nexport type ContentBlockType =\n  | \"hero\"\n  | \"text\"\n  | \"card\"\n  | \"image\"\n  | \"table\"\n  | \"list\"\n  | \"grid\"\n  | \"callout\"\n  | \"quote\"\n  | \"divider\"\n  | \"video\"\n  | \"audio\"\n  | \"knowledge-check\";\n\nexport interface ContentBlock {\n  id: string;\n  section_id: string;\n  block_type: ContentBlockType;\n  order_index: number;\n  content: Record<string, any>;\n  metadata?: Record<string, any>;\n  created_at: string;\n  updated_at: string;\n}\n\nexport interface ContentInteraction {\n  blockId: string;\n  interactionType:\n    | \"view\"\n    | \"click\"\n    | \"expand\"\n    | \"collapse\"\n    | \"download\"\n    | \"share\";\n  metadata?: Record<string, any>;\n}\n\ninterface ContentBlockRendererProps {\n  block: ContentBlock;\n  sectionId: string;\n  language?: \"en\" | \"es\" | \"fr\" | \"de\";\n  translation?: { content: Record<string, any> } | null;\n  onInteraction?: (interaction: ContentInteraction) => void;\n}\n\n// Hero Block Component\nfunction HeroBlock({ content, metadata, translatedContent }: { content: any; metadata?: any; translatedContent?: any }) {\n  const displayContent = translatedContent || content;\n  const { badge, title, subtitle } = displayContent;\n  const backgroundClass =\n    metadata?.background === \"gradient-blue\"\n      ? \"bg-gradient-to-r from-blue-600 to-blue-800\"\n      : \"bg-gradient-to-r from-gray-600 to-gray-800\";\n\n  return (\n    <div className={`${backgroundClass} text-white rounded-lg p-8 mb-6`}>\n      {badge && (\n        <Badge\n          variant=\"secondary\"\n          className=\"mb-4 bg-white/20 text-white border-white/30\"\n        >\n          {badge}\n        </Badge>\n      )}\n      <h1 className=\"text-3xl font-bold mb-2\">{title}</h1>\n      {subtitle && <p className=\"text-xl opacity-90\">{subtitle}</p>}\n    </div>\n  );\n}\n\n// Text Block Component\nfunction TextBlock({ content }: { content: any }) {\n  return (\n    <div className=\"prose prose-gray dark:prose-invert max-w-none mb-6\">\n      <div dangerouslySetInnerHTML={{ \n        __html: fixNewlines(content.content).replace(/\\n/g, '<br>') \n      }} />\n    </div>\n  );\n}\n\n// Card Block Component\nfunction CardBlock({ content, metadata }: { content: any; metadata?: any }) {\n  const { title, description, items } = content;\n\n  return (\n    <Card className=\"mb-6\">\n      <CardHeader>\n        {title && <CardTitle>{title}</CardTitle>}\n        {description && <p className=\"text-muted-foreground\">{description}</p>}\n      </CardHeader>\n      {items && (\n        <CardContent>\n          <div className=\"grid gap-4\">\n            {items.map((item: any, index: number) => (\n              <div key={index} className=\"flex items-start gap-3\">\n                <div className=\"w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0\" />\n                <div>\n                  <h4 className=\"font-medium\">{item.title}</h4>\n                  {item.description && (\n                    <p className=\"text-sm text-muted-foreground\">\n                      {item.description}\n                    </p>\n                  )}\n                </div>\n              </div>\n            ))}\n          </div>\n        </CardContent>\n      )}\n    </Card>\n  );\n}\n\n// Image Block Component\nfunction ImageBlock({ content, metadata }: { content: any; metadata?: any }) {\n  const { src, alt, caption } = content;\n\n  return (\n    <div className=\"mb-6\">\n      <img\n        src={src}\n        alt={alt || \"\"}\n        className=\"w-full rounded-lg shadow-sm\"\n        loading=\"lazy\"\n      />\n      {caption && (\n        <p className=\"text-sm text-muted-foreground mt-2 text-center\">\n          {caption}\n        </p>\n      )}\n    </div>\n  );\n}\n\n// Table Block Component\nfunction TableBlock({ content }: { content: any }) {\n  const { headers, rows } = content;\n\n  return (\n    <div className=\"mb-6 overflow-x-auto\">\n      <table className=\"w-full border-collapse border border-border\">\n        <thead>\n          <tr className=\"bg-muted\">\n            {headers.map((header: string, index: number) => (\n              <th\n                key={index}\n                className=\"border border-border p-3 text-left font-medium\"\n              >\n                {header}\n              </th>\n            ))}\n          </tr>\n        </thead>\n        <tbody>\n          {rows.map((row: string[], rowIndex: number) => (\n            <tr key={rowIndex} className=\"hover:bg-muted/50\">\n              {row.map((cell: string, cellIndex: number) => (\n                <td key={cellIndex} className=\"border border-border p-3\">\n                  {cell}\n                </td>\n              ))}\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n\n// List Block Component\nfunction ListBlock({ content, metadata }: { content: any; metadata?: any }) {\n  const { items, type = \"unordered\" } = content;\n  const isOrdered = type === \"ordered\";\n\n  return (\n    <div className=\"mb-6\">\n      {isOrdered ? (\n        <ol className=\"list-decimal list-inside space-y-2\">\n          {items.map((item: string, index: number) => (\n            <li key={index} className=\"text-foreground\">\n              {item}\n            </li>\n          ))}\n        </ol>\n      ) : (\n        <ul className=\"list-disc list-inside space-y-2\">\n          {items.map((item: string, index: number) => (\n            <li key={index} className=\"text-foreground\">\n              {item}\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n}\n\n// Grid Block Component\nfunction GridBlock({ content, metadata }: { content: any; metadata?: any }) {\n  const { items, columns = 2 } = content;\n  const gridCols =\n    columns === 3\n      ? \"grid-cols-1 md:grid-cols-3\"\n      : columns === 4\n        ? \"grid-cols-1 md:grid-cols-2 lg:grid-cols-4\"\n        : \"grid-cols-1 md:grid-cols-2\";\n\n  return (\n    <div className={`grid ${gridCols} gap-4 mb-6`}>\n      {items.map((item: any, index: number) => (\n        <Card key={index} className=\"p-4\">\n          <CardContent className=\"p-0\">\n            {item.title && <h4 className=\"font-medium mb-2\">{item.title}</h4>}\n            {item.content && (\n              <div className=\"text-sm text-muted-foreground\">\n                <div dangerouslySetInnerHTML={{ \n                  __html: fixNewlines(item.content).replace(/\\n/g, '<br>') \n                }} />\n              </div>\n            )}\n            {item.image && (\n              <img\n                src={item.image}\n                alt={item.title || \"\"}\n                className=\"w-full rounded mt-2\"\n              />\n            )}\n          </CardContent>\n        </Card>\n      ))}\n    </div>\n  );\n}\n\n// Callout Block Component\nfunction CalloutBlock({ content, metadata }: { content: any; metadata?: any }) {\n  const { title, content: calloutContent } = content;\n  const type = metadata?.type || \"info\";\n\n  const getIcon = () => {\n    switch (type) {\n      case \"warning\":\n        return <AlertTriangle className=\"h-5 w-5\" />;\n      case \"error\":\n        return <AlertCircle className=\"h-5 w-5\" />;\n      case \"success\":\n        return <CheckCircle className=\"h-5 w-5\" />;\n      case \"tip\":\n        return <Lightbulb className=\"h-5 w-5\" />;\n      default:\n        return <Info className=\"h-5 w-5\" />;\n    }\n  };\n\n  const getBgColor = () => {\n    switch (type) {\n      case \"warning\":\n        return \"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800\";\n      case \"error\":\n        return \"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800\";\n      case \"success\":\n        return \"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800\";\n      case \"tip\":\n        return \"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800\";\n      default:\n        return \"bg-gray-50 dark:bg-gray-900/20 border-gray-200 dark:border-gray-800\";\n    }\n  };\n\n  const getTextColor = () => {\n    switch (type) {\n      case \"warning\":\n        return \"text-yellow-800 dark:text-yellow-200\";\n      case \"error\":\n        return \"text-red-800 dark:text-red-200\";\n      case \"success\":\n        return \"text-green-800 dark:text-green-200\";\n      case \"tip\":\n        return \"text-blue-800 dark:text-blue-200\";\n      default:\n        return \"text-gray-800 dark:text-gray-200\";\n    }\n  };\n\n  return (\n    <div className={`${getBgColor()} border rounded-lg p-4 mb-6`}>\n      <div className=\"flex items-start gap-3\">\n        <div className={`${getTextColor()} mt-0.5`}>{getIcon()}</div>\n        <div className=\"flex-1\">\n          {title && (\n            <h4 className={`font-medium ${getTextColor()} mb-2`}>{title}</h4>\n          )}\n          <div className={`${getTextColor()} whitespace-pre-line`}>\n            <div dangerouslySetInnerHTML={{ \n              __html: fixNewlines(calloutContent).replace(/\\n/g, '<br>') \n            }} />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Quote Block Component\nfunction QuoteBlock({ content, metadata }: { content: any; metadata?: any }) {\n  const { quote, author, title: authorTitle } = content;\n\n  return (\n    <div className=\"border-l-4 border-primary bg-muted/30 rounded-r-lg p-6 mb-6\">\n      <blockquote className=\"text-lg italic mb-4\">\"{quote}\"</blockquote>\n      {author && (\n        <div className=\"flex items-center gap-2\">\n          <Quote className=\"h-4 w-4 text-muted-foreground\" />\n          <div>\n            <p className=\"font-medium\">{author}</p>\n            {authorTitle && (\n              <p className=\"text-sm text-muted-foreground\">{authorTitle}</p>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n// Divider Block Component\nfunction DividerBlock({ metadata }: { metadata?: any }) {\n  const style = metadata?.style || \"default\";\n\n  if (style === \"dotted\") {\n    return <div className=\"border-t-2 border-dotted border-border my-6\" />;\n  } else if (style === \"thick\") {\n    return <div className=\"border-t-4 border-border my-6\" />;\n  }\n\n  return <div className=\"border-t border-border my-6\" />;\n}\n\n// Video Block Component\nfunction VideoBlock({ content, metadata }: { content: any; metadata?: any }) {\n  const { src, title, description } = content;\n\n  return (\n    <div className=\"mb-6\">\n      <div className=\"relative w-full h-0 pb-[56.25%] bg-black rounded-lg overflow-hidden\">\n        <video\n          className=\"absolute top-0 left-0 w-full h-full\"\n          controls\n          preload=\"metadata\"\n        >\n          <source src={src} type=\"video/mp4\" />\n          Your browser does not support the video tag.\n        </video>\n      </div>\n      {title && <h4 className=\"font-medium mt-2\">{title}</h4>}\n      {description && (\n        <p className=\"text-sm text-muted-foreground\">{description}</p>\n      )}\n    </div>\n  );\n}\n\n// Audio Block Component\nfunction AudioBlock({ content, metadata }: { content: any; metadata?: any }) {\n  const { src, title, description } = content;\n\n  return (\n    <div className=\"mb-6 p-4 border rounded-lg\">\n      <audio controls className=\"w-full mb-2\">\n        <source src={src} type=\"audio/mpeg\" />\n        Your browser does not support the audio tag.\n      </audio>\n      {title && <h4 className=\"font-medium\">{title}</h4>}\n      {description && (\n        <p className=\"text-sm text-muted-foreground\">{description}</p>\n      )}\n    </div>\n  );\n}\n\n// Knowledge Check Block Component\nfunction KnowledgeCheckBlock({ \n  content, \n  metadata, \n  sectionId, \n  onInteraction \n}: { \n  content: any; \n  metadata?: any; \n  sectionId: string;\n  onInteraction?: (interaction: ContentInteraction) => void;\n}) {\n  const { user } = useAuth();\n  const { updateProgress } = useKnowledgeCheckProgress(sectionId);\n  const [selectedAnswer, setSelectedAnswer] = React.useState<string>(\"\");\n  const [submitted, setSubmitted] = React.useState(false);\n  const [isCorrect, setIsCorrect] = React.useState<boolean | null>(null);\n  const [userAttempts, setUserAttempts] = React.useState(0);\n  const [showFeedback, setShowFeedback] = React.useState(false);\n\n  const { questionText, options: optionsString, correctAnswer, explanation, quizQuestionId } = content;\n  \n  // Parse options from JSON string if it's a string\n  const options = typeof optionsString === 'string' ? JSON.parse(optionsString) : optionsString;\n\n  React.useEffect(() => {\n    // Load existing attempts for this question\n    const loadAttempts = async () => {\n      if (!user?.id || !quizQuestionId) return;\n      \n      try {\n        const response = await fetch(`/api/quiz-attempts?userId=${encodeURIComponent(user.id)}&quizQuestionId=${encodeURIComponent(quizQuestionId)}`);\n        if (response.ok) {\n          const data = await response.json();\n          if (data.success && data.data.length > 0) {\n            const latestAttempt = data.data[0];\n            setSelectedAnswer(latestAttempt.user_answer);\n            setSubmitted(true);\n            setIsCorrect(latestAttempt.is_correct);\n            setShowFeedback(true);\n            setUserAttempts(data.data.length);\n          }\n        }\n      } catch (error) {\n        console.error('Error loading quiz attempts:', error);\n      }\n    };\n\n    loadAttempts();\n  }, [user?.id, quizQuestionId]);\n\n  const handleAnswerSelect = (answer: string) => {\n    if (!submitted) {\n      setSelectedAnswer(answer);\n    }\n  };\n\n  const handleSubmit = async () => {\n    if (!selectedAnswer || !user?.id || !quizQuestionId) return;\n\n    // Handle multiple choice answers (comma-separated)\n    const correctAnswers = correctAnswer.split(',').map(a => a.trim());\n    const isCorrect = correctAnswers.includes(selectedAnswer);\n    \n    setIsCorrect(isCorrect);\n    setSubmitted(true);\n    setShowFeedback(true);\n    setUserAttempts(prev => prev + 1);\n\n    // Record the attempt\n    try {\n      const response = await fetch('/api/quiz-attempts', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          userId: user.id,\n          quizQuestionId: quizQuestionId,\n          userAnswer: selectedAnswer,\n          isCorrect: isCorrect,\n          timeSpent: 0, // Could track time spent on question\n        }),\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        if (data.success) {\n          // Update progress tracking\n          await updateProgress();\n          \n          // Track interaction\n          if (onInteraction) {\n            onInteraction({\n              blockId: content.id || 'knowledge-check',\n              interactionType: 'click',\n              metadata: {\n                action: 'submit_answer',\n                isCorrect: isCorrect,\n                attempts: userAttempts + 1,\n              },\n            });\n          }\n        }\n      }\n    } catch (error) {\n      console.error('Error recording quiz attempt:', error);\n    }\n  };\n\n  const handleRetry = () => {\n    setSelectedAnswer(\"\");\n    setSubmitted(false);\n    setIsCorrect(null);\n    setShowFeedback(false);\n  };\n\n  const getFeedbackColor = () => {\n    if (submitted && isCorrect !== null) {\n      return isCorrect\n        ? \"border-green-200 bg-green-50 dark:bg-green-900/20\"\n        : \"border-red-200 bg-red-50 dark:bg-red-900/20\";\n    }\n    return \"border-blue-200 bg-blue-50 dark:bg-blue-900/20\";\n  };\n\n  const getOptionClasses = (optionKey: string) => {\n    let classes = \"flex items-center space-x-3 p-4 rounded-lg border transition-colors cursor-pointer\";\n    \n    if (submitted) {\n      const correctAnswers = correctAnswer.split(',').map(a => a.trim());\n      const isCorrectAnswer = correctAnswers.includes(optionKey);\n      const isSelected = selectedAnswer === optionKey;\n      \n      if (isCorrectAnswer) {\n        classes += \" border-green-300 bg-green-50 dark:bg-green-900/20\";\n      } else if (isSelected && !isCorrectAnswer) {\n        classes += \" border-red-300 bg-red-50 dark:bg-red-900/20\";\n      } else {\n        classes += \" border-gray-200 bg-gray-50 dark:bg-gray-900/20\";\n      }\n    } else if (selectedAnswer === optionKey) {\n      classes += \" border-primary bg-primary/5\";\n    } else {\n      classes += \" border-border hover:border-primary/50\";\n    }\n    \n    return classes;\n  };\n\n  return (\n    <div className={`${getFeedbackColor()} border rounded-lg p-6 mb-6`}>\n      <div className=\"flex items-start gap-3 mb-4\">\n        <div className=\"text-blue-800 dark:text-blue-200 mt-0.5\">\n          <Lightbulb className=\"h-5 w-5\" />\n        </div>\n        <div className=\"flex-1\">\n          <h4 className=\"font-medium text-blue-900 dark:text-blue-100 mb-2\">\n            Knowledge Check\n          </h4>\n          <div className=\"text-blue-800 dark:text-blue-200 text-sm leading-relaxed\">\n            <div dangerouslySetInnerHTML={{ \n              __html: fixNewlines(questionText).replace(/\\n/g, '<br>') \n            }} />\n          </div>\n        </div>\n      </div>\n\n      {/* Answer Options */}\n      <div className=\"space-y-3 mb-6\">\n        <RadioGroup\n          value={selectedAnswer}\n          onValueChange={handleAnswerSelect}\n          disabled={submitted}\n          className=\"space-y-3\"\n        >\n          {Object.entries(options).map(([key, value]) => (\n            <div key={key} className={getOptionClasses(key)}>\n              <RadioGroupItem\n                value={key}\n                id={key}\n                className=\"flex-shrink-0\"\n              />\n              <Label\n                htmlFor={key}\n                className=\"flex-1 cursor-pointer font-normal\"\n              >\n                {typeof value === 'string' ? value : `${key.toUpperCase()}. ${value}`}\n              </Label>\n              {submitted && correctAnswer.split(',').map(a => a.trim()).includes(key) && (\n                <CheckCircle className=\"h-5 w-5 text-green-500 flex-shrink-0\" />\n              )}\n              {submitted && selectedAnswer === key && !correctAnswer.split(',').map(a => a.trim()).includes(key) && (\n                <XCircle className=\"h-5 w-5 text-red-500 flex-shrink-0\" />\n              )}\n            </div>\n          ))}\n        </RadioGroup>\n      </div>\n\n      {/* Feedback Section */}\n      {showFeedback && (\n        <div className=\"space-y-4 mb-6\">\n          {/* Correct/Incorrect Indicator */}\n          <div className={`p-4 rounded-lg ${isCorrect ? \"bg-green-50 dark:bg-green-900/20\" : \"bg-red-50 dark:bg-red-900/20\"}`}>\n            <div className=\"flex items-center gap-2 mb-2\">\n              {isCorrect ? (\n                <CheckCircle className=\"h-5 w-5 text-green-500\" />\n              ) : (\n                <XCircle className=\"h-5 w-5 text-red-500\" />\n              )}\n              <span className={`font-medium ${isCorrect ? \"text-green-800 dark:text-green-200\" : \"text-red-800 dark:text-red-200\"}`}>\n                {isCorrect ? \"Correct!\" : \"Incorrect\"}\n              </span>\n            </div>\n\n            {!isCorrect && (\n              <p className=\"text-sm text-muted-foreground mb-2\">\n                The correct answer{correctAnswer.includes(',') ? 's are' : ' is'}:{\" \"}\n                <span className=\"font-medium\">\n                  {correctAnswer.split(',').map(key => options[key.trim()]).join(', ')}\n                </span>\n              </p>\n            )}\n          </div>\n\n          {/* Explanation */}\n          {explanation && (\n            <div className=\"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg\">\n              <h4 className=\"font-medium text-blue-900 dark:text-blue-100 mb-2\">\n                Explanation\n              </h4>\n              <div className=\"text-sm text-blue-800 dark:text-blue-200\">\n                <div dangerouslySetInnerHTML={{ \n                  __html: fixNewlines(explanation).replace(/\\n/g, '<br>') \n                }} />\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Action Buttons */}\n      <div className=\"flex items-center justify-between pt-4 border-t border-blue-200 dark:border-blue-800\">\n        <div className=\"flex items-center gap-2\">\n          {submitted && !isCorrect && (\n            <Button\n              variant=\"outline\"\n              onClick={handleRetry}\n              className=\"flex items-center gap-2\"\n            >\n              <RotateCcw className=\"h-4 w-4\" />\n              Try Again\n            </Button>\n          )}\n        </div>\n\n        <div className=\"flex items-center gap-2\">\n          {!submitted ? (\n            <Button\n              onClick={handleSubmit}\n              disabled={!selectedAnswer}\n              className=\"flex items-center gap-2\"\n            >\n              Submit Answer\n            </Button>\n          ) : (\n            <div className=\"text-sm text-muted-foreground\">\n              {isCorrect ? \"Great job!\" : \"Keep learning!\"}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Main ContentBlockRenderer Component\nexport function ContentBlockRenderer({\n  block,\n  sectionId,\n  language = \"en\",\n  translation,\n  onInteraction,\n}: ContentBlockRendererProps) {\n  const handleInteraction = (\n    interactionType: ContentInteraction[\"interactionType\"],\n    metadata?: any\n  ) => {\n    if (onInteraction) {\n      onInteraction({\n        blockId: block.id,\n        interactionType,\n        metadata,\n      });\n    }\n  };\n\n  // Use translated content when available, otherwise fall back to original\n  const translatedContent = translation?.content;\n\n  const renderBlock = () => {\n    switch (block.block_type) {\n      case \"hero\":\n        return <HeroBlock content={block.content} metadata={block.metadata} translatedContent={translatedContent} />;\n      case \"text\":\n        return <TextBlock content={translatedContent || block.content} />;\n      case \"card\":\n        return <CardBlock content={translatedContent || block.content} metadata={block.metadata} />;\n      case \"image\":\n        return <ImageBlock content={translatedContent || block.content} metadata={block.metadata} />;\n      case \"table\":\n        return <TableBlock content={translatedContent || block.content} />;\n      case \"list\":\n        return <ListBlock content={translatedContent || block.content} metadata={block.metadata} />;\n      case \"grid\":\n        return <GridBlock content={translatedContent || block.content} metadata={block.metadata} />;\n      case \"callout\":\n        return (\n          <CalloutBlock content={translatedContent || block.content} metadata={block.metadata} />\n        );\n      case \"quote\":\n        return <QuoteBlock content={translatedContent || block.content} metadata={block.metadata} />;\n      case \"divider\":\n        return <DividerBlock metadata={block.metadata} />;\n      case \"video\":\n        return <VideoBlock content={translatedContent || block.content} metadata={block.metadata} />;\n      case \"audio\":\n        return <AudioBlock content={translatedContent || block.content} metadata={block.metadata} />;\n      case \"knowledge-check\":\n        return (\n          <KnowledgeCheckBlock \n            content={translatedContent || block.content} \n            metadata={block.metadata} \n            sectionId={sectionId}\n            onInteraction={onInteraction}\n          />\n        );\n      default:\n        return (\n          <div className=\"mb-6 p-4 border border-dashed border-muted-foreground rounded-lg\">\n            <p className=\"text-muted-foreground text-center\">\n              Unsupported block type: {block.block_type}\n            </p>\n          </div>\n        );\n    }\n  };\n\n  return (\n    <div\n      className=\"content-block\"\n      data-block-id={block.id}\n      data-language={language}\n      onMouseEnter={() => handleInteraction(\"view\")}\n    >\n      {renderBlock()}\n    </div>\n  );\n}\n\n// Export individual components for testing\nexport {\n  HeroBlock,\n  TextBlock,\n  CardBlock,\n  ImageBlock,\n  TableBlock,\n  ListBlock,\n  GridBlock,\n  CalloutBlock,\n  QuoteBlock,\n  DividerBlock,\n  VideoBlock,\n  AudioBlock,\n  KnowledgeCheckBlock,\n  fixNewlines,\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2766, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jshepherd/OneDrive%20-%20SpecChem%2C%20LLC/Desktop/specchem-safety-lms-v2-main/apps/safety-lms/src/hooks/useCourseLearning.ts"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\n\nexport interface ContentBlock {\n  id: string;\n  sectionId: string;\n  blockType: string;\n  orderIndex: number;\n  content: any;\n  metadata: any;\n  createdAt: string;\n  updatedAt: string;\n}\n\nexport function useCourseLearning(courseSlug: string, sectionId: string) {\n  const [contentBlocks, setContentBlocks] = useState<ContentBlock[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchContentBlocks = async () => {\n      if (!courseSlug || !sectionId) {\n        setLoading(false);\n        return;\n      }\n\n      try {\n        setLoading(true);\n        setError(null);\n\n        const response = await fetch(\n          `/api/courses/${courseSlug}/sections/${sectionId}/content`\n        );\n\n        if (!response.ok) {\n          throw new Error(`Failed to fetch content blocks: ${response.statusText}`);\n        }\n\n        const data = await response.json();\n\n        if (!data.success) {\n          throw new Error(data.error || \"Failed to fetch content blocks\");\n        }\n\n        setContentBlocks(data.data || []);\n      } catch (err) {\n        console.error(\"Error fetching content blocks:\", err);\n        setError(\n          err instanceof Error ? err.message : \"Failed to fetch content blocks\"\n        );\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchContentBlocks();\n  }, [courseSlug, sectionId]);\n\n  return { contentBlocks, loading, error };\n}"],"names":[],"mappings":";;;;AAEA;;AAFA;;AAeO,SAAS,kBAAkB,UAAkB,EAAE,SAAiB;;IACrE,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,wSAAQ,EAAiB,EAAE;IACrE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,wSAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,wSAAQ,EAAgB;IAElD,IAAA,ySAAS;uCAAC;YACR,MAAM;kEAAqB;oBACzB,IAAI,CAAC,cAAc,CAAC,WAAW;wBAC7B,WAAW;wBACX;oBACF;oBAEA,IAAI;wBACF,WAAW;wBACX,SAAS;wBAET,MAAM,WAAW,MAAM,MACrB,AAAC,gBAAsC,OAAvB,YAAW,cAAsB,OAAV,WAAU;wBAGnD,IAAI,CAAC,SAAS,EAAE,EAAE;4BAChB,MAAM,IAAI,MAAM,AAAC,mCAAsD,OAApB,SAAS,UAAU;wBACxE;wBAEA,MAAM,OAAO,MAAM,SAAS,IAAI;wBAEhC,IAAI,CAAC,KAAK,OAAO,EAAE;4BACjB,MAAM,IAAI,MAAM,KAAK,KAAK,IAAI;wBAChC;wBAEA,iBAAiB,KAAK,IAAI,IAAI,EAAE;oBAClC,EAAE,OAAO,KAAK;wBACZ,QAAQ,KAAK,CAAC,kCAAkC;wBAChD,SACE,eAAe,QAAQ,IAAI,OAAO,GAAG;oBAEzC,SAAU;wBACR,WAAW;oBACb;gBACF;;YAEA;QACF;sCAAG;QAAC;QAAY;KAAU;IAE1B,OAAO;QAAE;QAAe;QAAS;IAAM;AACzC;GA7CgB","debugId":null}},
    {"offset": {"line": 2827, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jshepherd/OneDrive%20-%20SpecChem%2C%20LLC/Desktop/specchem-safety-lms-v2-main/apps/safety-lms/src/hooks/useTranslations.ts"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\n\r\ntype LanguageCode = \"en\" | \"es\" | \"fr\" | \"de\";\r\n\r\ninterface CourseTranslation {\r\n  title: string;\r\n  description: string | null;\r\n}\r\n\r\ninterface SectionTranslation {\r\n  title: string;\r\n}\r\n\r\ninterface TranslationData {\r\n  sectionId: string;\r\n  language: LanguageCode;\r\n  section: SectionTranslation | null;\r\n  contentBlocks: Record<string, { content: any }>;\r\n  quizQuestions: Record<string, {\r\n    questionText: string;\r\n    options: any;\r\n    correctAnswer: any;\r\n    explanation: string | null;\r\n  }>;\r\n}\r\n\r\nexport function useCourseTranslation(courseId: string, language: LanguageCode = \"en\") {\r\n  const [translation, setTranslation] = useState<CourseTranslation | null>(null);\r\n  const [availableLanguages, setAvailableLanguages] = useState<LanguageCode[]>([\"en\"]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    const fetchTranslation = async () => {\r\n      if (!courseId || courseId === \"\") {\r\n        return;\r\n      }\r\n\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      try {\r\n        // For now, hardcode Spanish as available for the HazMat course\r\n        if (courseId === \"6d533fa3-5305-4a34-a42c-17d58900f9d5\") {\r\n          setAvailableLanguages([\"en\", \"es\"]);\r\n        } else {\r\n          setAvailableLanguages([\"en\"]);\r\n        }\r\n\r\n        // If requesting non-English translation, fetch it\r\n        if (language !== \"en\") {\r\n          // For now, hardcode Spanish translation for HazMat course\r\n          if (courseId === \"6d533fa3-5305-4a34-a42c-17d58900f9d5\" && language === \"es\") {\r\n            setTranslation({\r\n              title: \"Capacitación Específica por Función - Materiales Peligrosos\",\r\n              description: \"Manejo, Empaque y Envío de Materiales Regulados por DOT\"\r\n            });\r\n          } else {\r\n            const response = await fetch(`/api/translations/${courseId}?language=${language}`);\r\n            const data = await response.json();\r\n\r\n            if (data.success && data.data) {\r\n              setTranslation(data.data);\r\n            } else {\r\n              setTranslation(null);\r\n            }\r\n          }\r\n        } else {\r\n          setTranslation(null);\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Error fetching course translation:\", err);\r\n        setError(err instanceof Error ? err.message : \"Failed to load translation\");\r\n        setTranslation(null);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchTranslation();\r\n  }, [courseId, language]);\r\n\r\n  return {\r\n    translation,\r\n    availableLanguages,\r\n    loading,\r\n    error,\r\n  };\r\n}\r\n\r\nexport function useSectionTranslation(sectionId: string, language: LanguageCode = \"en\") {\r\n  const [translationData, setTranslationData] = useState<TranslationData | null>(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    const fetchTranslation = async () => {\r\n      if (!sectionId) {\r\n        setTranslationData(null);\r\n        return;\r\n      }\r\n\r\n      // For now, hardcode Spanish translations for HazMat course sections\r\n      if (language === \"es\") {\r\n        setLoading(true);\r\n        setError(null);\r\n\r\n        try {\r\n          // Hardcode Spanish section translations\r\n          const spanishTranslations: Record<string, any> = {\r\n            \"11111111-1111-1111-1111-111111111111\": {\r\n              sectionId,\r\n              language,\r\n              section: { title: \"Introducción y Resumen\" },\r\n              contentBlocks: {\r\n                \"11111111-1111-1111-1111-111111111101\": {\r\n                  content: {\r\n                    badge: \"Capacitación Profesional SpecChem\",\r\n                    title: \"Capacitación Específica por Función - Materiales Peligrosos\",\r\n                    subtitle: \"Manejo, Empaque y Envío de Materiales Regulados por DOT\"\r\n                  }\r\n                },\r\n                \"11111111-1111-1111-1111-111111111102\": {\r\n                  content: {\r\n                    content: \"Bienvenido a la Capacitación Específica por Función de SpecChem\\n\\nEste curso integral de capacitación cubre los requisitos y expectativas para el manejo, empaque y envío de materiales regulados por DOT en su trabajo en SpecChem.\"\r\n                  }\r\n                },\r\n                \"11111111-1111-1111-1111-111111111103\": {\r\n                  content: {\r\n                    title: \"Por Qué Importa Esta Capacitación\",\r\n                    content: \"El Título 49 del Código de Regulaciones Federales requiere que cualquier asociado que empaque, maneje o transporte materiales peligrosos debe recibir capacitación cada tres años sobre los siguientes temas de materiales peligrosos:\"\r\n                  }\r\n                },\r\n                \"11111111-1111-1111-1111-111111111104\": {\r\n                  content: {\r\n                    items: [\r\n                      { icon: \"info\", title: \"Conciencia General\", content: \"Familiarización con varios aspectos involucrados con materiales peligrosos\" },\r\n                      { icon: \"target\", title: \"Capacitación Específica por Función\", content: \"Cómo se manejan los materiales peligrosos en su trabajo específico\" },\r\n                      { icon: \"shield\", title: \"Capacitación de Seguridad\", content: \"Manejo seguro de materiales peligrosos\" },\r\n                      { icon: \"lock\", title: \"Conciencia de Seguridad\", content: \"Problemas de seguridad de HAZMAT\" },\r\n                      { icon: \"shield-check\", title: \"Seguridad Profunda\", content: \"Capacitación detallada sobre mantener la seguridad al tratar con materiales peligrosos\" }\r\n                    ]\r\n                  }\r\n                },\r\n                \"11111111-1111-1111-1111-111111111105\": {\r\n                  content: {\r\n                    content: \"Resultados Clave de Aprendizaje\\n\\nHay seis cosas que debe obtener de esta capacitación:\"\r\n                  }\r\n                },\r\n                \"11111111-1111-1111-1111-111111111106\": {\r\n                  content: {\r\n                    type: \"checklist\",\r\n                    items: [\r\n                      \"Un entendimiento básico de qué es el empaque calificado por UN\",\r\n                      \"Cómo puede encontrar información sobre qué empaque usar para materiales específicos y cómo empaquetarlo\",\r\n                      \"Un entendimiento básico de cómo marcar material peligroso para envío\",\r\n                      \"Cómo localizar las etiquetas apropiadas para marcar empaque HAZ\",\r\n                      \"Dónde encontrar información sobre el cierre apropiado requerido del empaque HAZ\",\r\n                      \"Conciencia de la herramienta apropiada para usar al cerrar cubetas, tambores o contenedores, especialmente aquellos que contienen materiales regulados por DOT\"\r\n                    ]\r\n                  }\r\n                }\r\n              },\r\n              quizQuestions: {}\r\n            }\r\n          };\r\n\r\n          const translation = spanishTranslations[sectionId];\r\n          if (translation) {\r\n            setTranslationData(translation);\r\n          } else {\r\n            setTranslationData(null);\r\n          }\r\n        } catch (err) {\r\n          console.error(\"Error fetching section translation:\", err);\r\n          setError(err instanceof Error ? err.message : \"Failed to load translation\");\r\n          setTranslationData(null);\r\n        } finally {\r\n          setLoading(false);\r\n        }\r\n      } else {\r\n        setTranslationData(null);\r\n      }\r\n    };\r\n\r\n    fetchTranslation();\r\n  }, [sectionId, language]);\r\n\r\n  return {\r\n    translationData,\r\n    loading,\r\n    error,\r\n  };\r\n}\r\n\r\nexport function useLanguagePreference() {\r\n  const [language, setLanguageState] = useState<LanguageCode>(\"en\");\r\n\r\n  useEffect(() => {\r\n    // Try to get language from localStorage\r\n    const saved = localStorage.getItem(\"preferredLanguage\") as LanguageCode | null;\r\n    if (saved && [\"en\", \"es\", \"fr\", \"de\"].includes(saved)) {\r\n      setLanguageState(saved);\r\n    }\r\n  }, []);\r\n\r\n  const setLanguage = (lang: LanguageCode) => {\r\n    setLanguageState(lang);\r\n    localStorage.setItem(\"preferredLanguage\", lang);\r\n  };\r\n\r\n  return {\r\n    language,\r\n    setLanguage,\r\n  };\r\n}\r\n\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3076, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jshepherd/OneDrive%20-%20SpecChem%2C%20LLC/Desktop/specchem-safety-lms-v2-main/apps/safety-lms/src/components/course/language-switcher.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\";\r\nimport { Globe, Check } from \"lucide-react\";\r\nimport { useRouter, useSearchParams, usePathname } from \"next/navigation\";\r\n\r\ninterface LanguageSwitcherProps {\r\n  availableLanguages: string[];\r\n  currentLanguage?: string;\r\n  onLanguageChange?: (language: string) => void;\r\n}\r\n\r\nconst languageNames: Record<string, string> = {\r\n  en: \"English\",\r\n  es: \"Español\",\r\n  fr: \"Français\",\r\n  de: \"Deutsch\",\r\n};\r\n\r\nconst languageFlags: Record<string, string> = {\r\n  en: \"🇺🇸\",\r\n  es: \"🇪🇸\",\r\n  fr: \"🇫🇷\",\r\n  de: \"🇩🇪\",\r\n};\r\n\r\nexport function LanguageSwitcher({\r\n  availableLanguages,\r\n  currentLanguage = \"en\",\r\n  onLanguageChange,\r\n}: LanguageSwitcherProps) {\r\n  const router = useRouter();\r\n  const pathname = usePathname();\r\n  const searchParams = useSearchParams();\r\n\r\n  const handleLanguageChange = (language: string) => {\r\n    // Update URL with new language parameter\r\n    const params = new URLSearchParams(searchParams.toString());\r\n    params.set(\"lang\", language);\r\n    router.push(`${pathname}?${params.toString()}`);\r\n\r\n    // Call optional callback\r\n    if (onLanguageChange) {\r\n      onLanguageChange(language);\r\n    }\r\n  };\r\n\r\n  // Don't show switcher if only one language is available\r\n  if (availableLanguages.length <= 1) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <DropdownMenu>\r\n      <DropdownMenuTrigger asChild>\r\n        <Button variant=\"outline\" size=\"sm\" className=\"gap-2\">\r\n          <Globe className=\"h-4 w-4\" />\r\n          <span className=\"hidden sm:inline\">\r\n            {languageFlags[currentLanguage]}{\" \"}\r\n            {languageNames[currentLanguage] || currentLanguage.toUpperCase()}\r\n          </span>\r\n          <span className=\"sm:hidden\">\r\n            {languageFlags[currentLanguage]}\r\n          </span>\r\n        </Button>\r\n      </DropdownMenuTrigger>\r\n      <DropdownMenuContent align=\"end\">\r\n        {availableLanguages.map((lang) => (\r\n          <DropdownMenuItem\r\n            key={lang}\r\n            onClick={() => handleLanguageChange(lang)}\r\n            className=\"flex items-center justify-between gap-3 cursor-pointer\"\r\n          >\r\n            <span className=\"flex items-center gap-2\">\r\n              <span>{languageFlags[lang]}</span>\r\n              <span>{languageNames[lang] || lang.toUpperCase()}</span>\r\n            </span>\r\n            {lang === currentLanguage && (\r\n              <Check className=\"h-4 w-4 text-primary-600\" />\r\n            )}\r\n          </DropdownMenuItem>\r\n        ))}\r\n      </DropdownMenuContent>\r\n    </DropdownMenu>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAMA;AAAA;AACA;;;AAXA;;;;;AAmBA,MAAM,gBAAwC;IAC5C,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;AACN;AAEA,MAAM,gBAAwC;IAC5C,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;AACN;AAEO,SAAS,iBAAiB,KAIT;QAJS,EAC/B,kBAAkB,EAClB,kBAAkB,IAAI,EACtB,gBAAgB,EACM,GAJS;;IAK/B,MAAM,SAAS,IAAA,iRAAS;IACxB,MAAM,WAAW,IAAA,mRAAW;IAC5B,MAAM,eAAe,IAAA,uRAAe;IAEpC,MAAM,uBAAuB,CAAC;QAC5B,yCAAyC;QACzC,MAAM,SAAS,IAAI,gBAAgB,aAAa,QAAQ;QACxD,OAAO,GAAG,CAAC,QAAQ;QACnB,OAAO,IAAI,CAAC,AAAC,GAAc,OAAZ,UAAS,KAAqB,OAAlB,OAAO,QAAQ;QAE1C,yBAAyB;QACzB,IAAI,kBAAkB;YACpB,iBAAiB;QACnB;IACF;IAEA,wDAAwD;IACxD,IAAI,mBAAmB,MAAM,IAAI,GAAG;QAClC,OAAO;IACT;IAEA,qBACE,4TAAC,wLAAY;;0BACX,4TAAC,+LAAmB;gBAAC,OAAO;0BAC1B,cAAA,4TAAC,wKAAM;oBAAC,SAAQ;oBAAU,MAAK;oBAAK,WAAU;;sCAC5C,4TAAC,oSAAK;4BAAC,WAAU;;;;;;sCACjB,4TAAC;4BAAK,WAAU;;gCACb,aAAa,CAAC,gBAAgB;gCAAE;gCAChC,aAAa,CAAC,gBAAgB,IAAI,gBAAgB,WAAW;;;;;;;sCAEhE,4TAAC;4BAAK,WAAU;sCACb,aAAa,CAAC,gBAAgB;;;;;;;;;;;;;;;;;0BAIrC,4TAAC,+LAAmB;gBAAC,OAAM;0BACxB,mBAAmB,GAAG,CAAC,CAAC,qBACvB,4TAAC,4LAAgB;wBAEf,SAAS,IAAM,qBAAqB;wBACpC,WAAU;;0CAEV,4TAAC;gCAAK,WAAU;;kDACd,4TAAC;kDAAM,aAAa,CAAC,KAAK;;;;;;kDAC1B,4TAAC;kDAAM,aAAa,CAAC,KAAK,IAAI,KAAK,WAAW;;;;;;;;;;;;4BAE/C,SAAS,iCACR,4TAAC,oSAAK;gCAAC,WAAU;;;;;;;uBATd;;;;;;;;;;;;;;;;AAgBjB;GA3DgB;;QAKC,iRAAS;QACP,mRAAW;QACP,uRAAe;;;KAPtB","debugId":null}},
    {"offset": {"line": 3243, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jshepherd/OneDrive%20-%20SpecChem%2C%20LLC/Desktop/specchem-safety-lms-v2-main/apps/safety-lms/src/app/courses/%5Bslug%5D/learn/%5BsectionId%5D/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { useParams, useRouter, useSearchParams } from \"next/navigation\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Progress } from \"@/components/ui/progress\";\r\nimport {\r\n  CourseNavigation,\r\n  type CourseModule,\r\n} from \"@/components/navigation/course-navigation\";\r\nimport {\r\n  PlayCircle,\r\n  BookOpen,\r\n  CheckCircle,\r\n  ArrowLeft,\r\n  ArrowRight,\r\n  Clock,\r\n  FileText,\r\n  Loader2,\r\n  AlertCircle,\r\n  Globe,\r\n} from \"lucide-react\";\r\nimport { useCourses } from \"@/hooks/useCourses\";\r\nimport { useCourseSections } from \"@/hooks/useCourseSections\";\r\nimport { ContentBlockRenderer } from \"@/components/content/ContentBlockRenderer\";\r\nimport { useCourseLearning } from \"@/hooks/useCourseLearning\";\r\nimport { useSectionTranslation, useCourseTranslation } from \"@/hooks/useTranslations\";\r\nimport { LanguageSwitcher } from \"@/components/course/language-switcher\";\r\n\r\nexport default function SectionLearningPage() {\r\n  const params = useParams();\r\n  const router = useRouter();\r\n  const searchParams = useSearchParams();\r\n  const { courses, loading: coursesLoading } = useCourses();\r\n\r\n  const slug = params.slug as string;\r\n  const sectionId = params.sectionId as string;\r\n  const currentLang = (searchParams.get(\"lang\") || \"en\") as \"en\" | \"es\" | \"fr\" | \"de\";\r\n  \r\n  const course = courses.find(c => c.slug === slug);\r\n  \r\n  // Get translation data\r\n  const {\r\n    translation: courseTranslation,\r\n    availableLanguages,\r\n  } = useCourseTranslation(course?.id || \"\", currentLang);\r\n  \r\n  \r\n  const {\r\n    translationData: sectionTranslation,\r\n    loading: translationLoading,\r\n  } = useSectionTranslation(sectionId, currentLang);\r\n  \r\n  const { sections, loading: sectionsLoading, error: sectionsError } = useCourseSections(slug);\r\n  const { \r\n    contentBlocks, \r\n    loading: contentLoading, \r\n    error: contentError \r\n  } = useCourseLearning(slug, sectionId);\r\n  \r\n  // Find current section\r\n  const currentSection = sections.find(s => s.id === sectionId);\r\n  const currentIndex = sections.findIndex(s => s.id === sectionId);\r\n  \r\n  // Use translated title when available\r\n  const displaySectionTitle = sectionTranslation?.section?.title || currentSection?.title;\r\n  \r\n  // Convert database sections to CourseModule format\r\n  const modules: CourseModule[] = React.useMemo(() => {\r\n    return sections.map((section, index) => ({\r\n      id: section.id,\r\n      title: section.title,\r\n      description: `Section ${index + 1} of the ${course?.title || 'course'}`,\r\n      duration: \"30 minutes\", // Default duration\r\n      type: \"reading\" as const,\r\n      status: index < currentIndex ? \"completed\" : index === currentIndex ? \"in_progress\" : \"available\",\r\n      progress: index < currentIndex ? 100 : index === currentIndex ? 0 : 0,\r\n      href: `/courses/${slug}/learn/${section.id}`,\r\n    }));\r\n  }, [sections, course, slug, currentIndex]);\r\n\r\n  // Calculate overall progress\r\n  const overallProgress = React.useMemo(() => {\r\n    if (modules.length === 0) return 0;\r\n    \r\n    const completedModules = modules.filter(\r\n      m => m.status === \"completed\"\r\n    ).length;\r\n    const inProgressModules = modules.filter(\r\n      m => m.status === \"in_progress\"\r\n    ).length;\r\n    const totalModules = modules.length;\r\n\r\n    const completedProgress = (completedModules / totalModules) * 100;\r\n    const inProgressProgress = (inProgressModules / totalModules) * 50; // Assume 50% for in-progress\r\n\r\n    return completedProgress + inProgressProgress;\r\n  }, [modules]);\r\n\r\n  // Loading state\r\n  if (coursesLoading || sectionsLoading || contentLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center py-12\">\r\n        <Loader2 className=\"h-8 w-8 animate-spin text-primary-600\" />\r\n        <span className=\"ml-3 text-neutral-600\">Loading course content...</span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Error state\r\n  if (sectionsError || contentError) {\r\n    return (\r\n      <div className=\"text-center py-12\">\r\n        <AlertCircle className=\"h-12 w-12 text-red-500 mx-auto mb-4\" />\r\n        <h3 className=\"text-lg font-medium mb-2 text-neutral-900 dark:text-neutral-100\">\r\n          Error Loading Course\r\n        </h3>\r\n        <p className=\"text-neutral-600 dark:text-neutral-400 mb-4\">\r\n          {sectionsError || contentError}\r\n        </p>\r\n        <Button onClick={() => router.push(\"/courses\")}>Back to Courses</Button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Course not found\r\n  if (!course) {\r\n    return (\r\n      <div className=\"text-center py-12\">\r\n        <BookOpen className=\"h-12 w-12 text-neutral-400 mx-auto mb-4\" />\r\n        <h3 className=\"text-lg font-medium mb-2 text-neutral-900 dark:text-neutral-100\">\r\n          Course Not Found\r\n        </h3>\r\n        <p className=\"text-neutral-600 dark:text-neutral-400 mb-4\">\r\n          The course you're looking for doesn't exist or has been removed.\r\n        </p>\r\n        <Button onClick={() => router.push(\"/courses\")}>Back to Courses</Button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Section not found\r\n  if (!currentSection) {\r\n    return (\r\n      <div className=\"text-center py-12\">\r\n        <BookOpen className=\"h-12 w-12 text-neutral-400 mx-auto mb-4\" />\r\n        <h3 className=\"text-lg font-medium mb-2 text-neutral-900 dark:text-neutral-100\">\r\n          Section Not Found\r\n        </h3>\r\n        <p className=\"text-neutral-600 dark:text-neutral-400 mb-4\">\r\n          The section you're looking for doesn't exist or has been removed.\r\n        </p>\r\n        <Button onClick={() => router.push(`/courses/${slug}/learn`)}>Back to Course</Button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // No content blocks available\r\n  if (contentBlocks.length === 0) {\r\n    return (\r\n      <div className=\"text-center py-12\">\r\n        <BookOpen className=\"h-12 w-12 text-neutral-400 mx-auto mb-4\" />\r\n        <h3 className=\"text-lg font-medium mb-2 text-neutral-900 dark:text-neutral-100\">\r\n          Content Coming Soon\r\n        </h3>\r\n        <p className=\"text-neutral-600 dark:text-neutral-400 mb-4\">\r\n          This section doesn't have any content yet. Content is being prepared.\r\n        </p>\r\n        <Button onClick={() => router.push(`/courses/${slug}/learn`)}>Back to Course</Button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const nextSection = sections[currentIndex + 1];\r\n  const prevSection = sections[currentIndex - 1];\r\n\r\n  return (\r\n    <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-8\">\r\n      {/* Course Navigation Sidebar */}\r\n      <div className=\"lg:col-span-1\">\r\n        <div className=\"sticky top-8\">\r\n          <CourseNavigation\r\n            courseTitle={course.title}\r\n            modules={modules}\r\n            currentModuleId={currentSection.id}\r\n            overallProgress={overallProgress}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"lg:col-span-3 space-y-8\">\r\n        {/* Course Header */}\r\n        <div className=\"space-y-4 mb-6\">\r\n          <div className=\"flex items-center justify-between gap-4\">\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"sm\"\r\n              onClick={() => {\r\n                const langParam = currentLang !== \"en\" ? `?lang=${currentLang}` : \"\";\r\n                router.push(`/courses/${slug}/learn${langParam}`);\r\n              }}\r\n              className=\"flex items-center gap-2\"\r\n            >\r\n                <ArrowLeft className=\"h-4 w-4\" />\r\n                {currentLang === \"es\" ? \"Volver al Curso\" : \"Back to Course\"}\r\n            </Button>\r\n            {availableLanguages.length > 1 && course?.id && (\r\n              <LanguageSwitcher\r\n                availableLanguages={availableLanguages}\r\n                currentLanguage={currentLang}\r\n              />\r\n            )}\r\n          </div>\r\n          {currentLang !== \"en\" && (\r\n            <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-3 flex items-center gap-3\">\r\n              <Globe className=\"h-5 w-5 text-blue-600\" />\r\n              <div>\r\n                <p className=\"text-sm font-medium text-blue-900\">\r\n                  Viendo en Español\r\n                </p>\r\n                <p className=\"text-xs text-blue-700\">\r\n                  Puedes cambiar el idioma en cualquier momento usando el selector arriba\r\n                </p>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Current Section Content */}\r\n        <Card className=\"hover:shadow-lg transition-shadow\">\r\n          <CardHeader>\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"flex items-center gap-4\">\r\n                <PlayCircle className=\"h-6 w-6 text-primary-600\" />\r\n                <div>\r\n                  <CardTitle className=\"text-neutral-900 dark:text-neutral-100\">\r\n                    {displaySectionTitle}\r\n                  </CardTitle>\r\n                  <p className=\"text-sm text-neutral-600 dark:text-neutral-400 mt-1\">\r\n                    {currentLang === \"es\" ? `Sección ${currentIndex + 1} de ${sections.length} • Lectura • 30 minutos` : `Section ${currentIndex + 1} of ${sections.length} • Reading • 30 minutes`}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <div className=\"flex items-center gap-4 text-sm text-neutral-600 dark:text-neutral-400\">\r\n                <Clock className=\"h-4 w-4\" />\r\n                <span>{currentLang === \"es\" ? \"30 minutos restantes\" : \"30 minutes remaining\"}</span>\r\n              </div>\r\n            </div>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-6\">\r\n            {/* Progress Bar */}\r\n            <div className=\"space-y-2\">\r\n              <div className=\"flex justify-between text-sm\">\r\n                <span className=\"text-neutral-600 dark:text-neutral-400\">\r\n                  {currentLang === \"es\" ? \"Progreso de Sección\" : \"Section Progress\"}\r\n                </span>\r\n                <span className=\"font-medium text-neutral-900 dark:text-neutral-100\">\r\n                  0%\r\n                </span>\r\n              </div>\r\n              <Progress value={0} className=\"h-2\" />\r\n            </div>\r\n\r\n            {/* Content Blocks */}\r\n            <div className=\"space-y-6\">\r\n              {contentBlocks.map((block, index) => (\r\n                <ContentBlockRenderer\r\n                  key={block.id}\r\n                  block={block}\r\n                  sectionId={sectionId}\r\n                  language={currentLang}\r\n                  translation={sectionTranslation?.contentBlocks[block.id]}\r\n                  onInteraction={(interaction) => {\r\n                    // Handle content interactions if needed\r\n                    console.log('Content interaction:', interaction);\r\n                  }}\r\n                />\r\n              ))}\r\n            </div>\r\n\r\n            {/* Action Buttons */}\r\n            <div className=\"flex items-center justify-between pt-6 border-t border-neutral-200 dark:border-neutral-700\">\r\n              <Button\r\n                variant=\"outline\"\r\n                disabled={!prevSection}\r\n                onClick={() => {\r\n                  if (prevSection) {\r\n                    const langParam = currentLang !== \"en\" ? `?lang=${currentLang}` : \"\";\r\n                    router.push(`/courses/${slug}/learn/${prevSection.id}${langParam}`);\r\n                  }\r\n                }}\r\n                className=\"flex items-center gap-2\"\r\n              >\r\n                <ArrowLeft className=\"h-4 w-4\" />\r\n                {currentLang === \"es\" ? \"Sección Anterior\" : \"Previous Section\"}\r\n              </Button>\r\n\r\n              <div className=\"flex items-center gap-4\">\r\n                <Button variant=\"outline\" className=\"flex items-center gap-2\">\r\n                  <FileText className=\"h-4 w-4\" />\r\n                  Take Notes\r\n                </Button>\r\n                <Button \r\n                  onClick={() => {\r\n                    const langParam = currentLang !== \"en\" ? `?lang=${currentLang}` : \"\";\r\n                    if (nextSection) {\r\n                      router.push(`/courses/${slug}/learn/${nextSection.id}${langParam}`);\r\n                    } else {\r\n                      router.push(`/courses/${slug}${langParam}`);\r\n                    }\r\n                  }}\r\n                  className=\"flex items-center gap-2\"\r\n                >\r\n                  {nextSection ? (currentLang === \"es\" ? 'Siguiente Sección' : 'Next Section') : (currentLang === \"es\" ? 'Completar Curso' : 'Complete Course')}\r\n                  <ArrowRight className=\"h-4 w-4\" />\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}